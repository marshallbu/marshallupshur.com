(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*global define: false */

(function (angular, routes, translate) {
  'use strict';

  // Declare app level module
  var app = angular.module('myApp', [
      // 'myApp.config',
      'ngRoute',
      'ngResource',
      'ngSanitize',
      'pascalprecht.translate',
      'myApp.filters',
      'myApp.services',
      'myApp.directives',
      'myApp.controllers'
      // 'adaptive.speech'
  ])
  .config(routes)
  .config(translate);

  module.exports = app;

  return app;

}(
    require('angular'),
    require('./routes'),
    require('./translate'),
    // require('./config'),
    require('./filters'),
    require('./services'),
    require('./directives'),
    require('./controllers')
));

},{"./controllers":2,"./directives":7,"./filters":8,"./routes":11,"./services":12,"./translate":13,"angular":"s2QTgl"}],2:[function(require,module,exports){
/*global define: false, require: false */
(function (
    angular, 
    NavCtrl, 
    FeedCtrl, 
    // ResumeCtrl, 
    PhotosCtrl, 
    FooterCtrl 
    // NikeCtrl
) {
  'use strict';

  return angular.module('myApp.controllers', ['myApp.services'])

    .controller('NavCtrl', ['$scope', function($scope) {
        // injector method takes an array of modules as the first argument
        // if you want your controller to be able to use components from
        // any of your other modules, make sure you include it together with 'ng'
        // Furthermore we need to pass on the $scope as it's unique to this controller
        angular.injector(['ng']).invoke(NavCtrl, this, {'$scope': $scope});
    }])

    .controller('FeedCtrl', ['$scope', function($scope) {
        angular.injector(['ng', 'myApp.services']).invoke(FeedCtrl, this, {'$scope': $scope});
    }])

    // .controller('ResumeCtrl', ['$scope', 'CONFIG', function($scope, CONFIG) {
        
    //     angular.injector.invoke(ResumeCtrl, this, {
    //         '$scope': $scope,
    //         'CONFIG': CONFIG
    //     });

    // }])

    .controller('PhotosCtrl', ['$scope', function($scope) {
        angular.injector(['ng', 'myApp.services']).invoke(PhotosCtrl, this, {'$scope': $scope});
    }])

    .controller('FooterCtrl', ['$scope', function($scope) {
        angular.injector(['ng', 'myApp.services']).invoke(FooterCtrl, this, {'$scope': $scope});
    }]);

    // .controller('NikeCtrl', ['$scope', 'CONFIG', function($scope, CONFIG) {
        
    //     angular.injector.invoke(NikeCtrl, this, {
    //         '$scope': $scope,
    //         'CONFIG': CONFIG
    //     });

    // }]);

})(
    require('angular'),
    require('./controllers/navctrl'),
    require('./controllers/feedctrl'),
    // require('./controllers/resumectrl'),
    require('./controllers/photosctrl'),
    require('./controllers/footerctrl')
    // require('./controllers/nikectrl')
);
},{"./controllers/feedctrl":3,"./controllers/footerctrl":4,"./controllers/navctrl":5,"./controllers/photosctrl":6,"angular":"s2QTgl"}],3:[function(require,module,exports){
/**
 * The main controller for the app. The controller:
 * - retrieves and persist the model via the todoStorage service
 * - exposes the model to the template and provides event handlers
 */

(function (_, app) {
    'use strict';

    var FeedCtrl = ['$scope', '$http', '$log', 'FeedService',
        function ($scope, $http, $log, Feed) {
            $scope.feeds = [];

            Feed.parseFeed('http://blog.marshallupshur.com/feed/', 3).then(function (res) {
                var feeds = res.data.responseData.feed.entries;
                _.forEach(feeds, function(feed) {
                    feed.publishedDateObject = new Date(feed.publishedDate);
                });
                
                $scope.feeds = feeds;
                // $log.log($scope.feeds);

                $scope.$apply();
            });
      
        // $scope.$apply();
        }
    ];

    module.exports = FeedCtrl;

    return FeedCtrl;
})(
    require('lodash'),
    require('./../app')
);
},{"./../app":1,"lodash":"76bcNB"}],4:[function(require,module,exports){
/*global define: false */

(function (app) {
    'use strict';

    var FooterCtrl = ['$scope', '$http', '$log', 'version',
        function ($scope, $http, $log, version) {
            $scope.version = version;

            // $scope.$apply();
        }
    ];

    module.exports = FooterCtrl;

    return FooterCtrl;
})(
    require('./../app')
);
},{"./../app":1}],5:[function(require,module,exports){
/*global define: false */

(function (_, app) {
    'use strict';

    var NavCtrl = ['$scope', '$log',
        function ($scope, $log) {




            // $scope.$apply();
        }
    ];

    module.exports = NavCtrl;

    return NavCtrl;
})(
    require('lodash'),
    require('../app')
);
},{"../app":1,"lodash":"76bcNB"}],6:[function(require,module,exports){
/*global define: false */

(function (app, ssp) {
  'use strict';

    var PhotosCtrl = ['$scope', '$http', '$log',
        function ($scope, $http, $log) {

            $scope.myssp = new SlideShowPro({
            attributes: {
              id: "album-7",
              width: "100%",
              height: "100%"
            },
            mobile: {
              auto: false,
              poster: "vignette"
            },
            params: {
              bgcolor: "#000000",
              allowfullscreen: true
            },
            flashvars: {
              xmlFilePath: "http://photos.marshallupshur.com/slideshowpro/images.php?album=7",
              navAppearance: "Hidden",
              navLinkAppearance: "Numbers",
              feedbackPreloaderAppearance: "Bar",
              feedbackTimerAppearance: "Hidden",
              contentScale: "Crop to Fit All",
              transitionLength: 1,
              panZoom: "On",
              contentOrder: "Random"
            }
            });

            $scope.$apply();
        }
    ];

    module.exports = PhotosCtrl;

    return PhotosCtrl;

})(
    require('./../app'),
    require('./../lib/ssp/embed')
);
},{"./../app":1,"./../lib/ssp/embed":9}],7:[function(require,module,exports){
(function (angular, services) {
    'use strict';

    return angular.module('myApp.directives', ['myApp.services'])
        .directive('appVersion', ['version', function(version) {
            return function(scope, elm, attrs) {
                elm.text(version);
            };
    }]);

})(
    require('angular'),
    require('./services')
);
},{"./services":12,"angular":"s2QTgl"}],8:[function(require,module,exports){
(function (angular, services) {
    'use strict';

    return angular.module('myApp.filters', ['myApp.services'])
        .filter('interpolate', ['version', function(version) {
            return function(text) {
                return String(text).replace(/\%VERSION\%/mg, version);
            };
        }]);
})(
    require('angular'),
    require('./services')
);
},{"./services":12,"angular":"s2QTgl"}],9:[function(require,module,exports){

if(typeof SlideShowProRefs!='object'){SlideShowProRefs={};SlideShowPro=function(options){if(this instanceof SlideShowPro){this.opts={attributes:{width:550,height:400,autoMobile:false,mobileFlash:true,onEmbed:false,onReady:false},mobile:{auto:false,showBackButton:false,showInfoButton:true,flash:false,poster:'default',linkToPlayer:true,sharpening:true},params:{bgcolor:'#000000',allowFullScreen:true,allowscriptaccess:'always'},flashvars:{initialURL:escape(document.location),useExternalInterface:"false",id:options.attributes.id,xmlFileType:'Director'}};if(document.location.host!=''){var h=document.location.host;if(h.indexOf(':')!==-1){h=h.substr(0,h.indexOf(':'));};this.opts.flashvars.allowedDomains=h;};this.listeners={};this._autoMobile=false;for(var i in this.opts){for(var j in options[i]){this.opts[i][j]=options[i][j];};};if(this.opts.attributes.autoMobile){this.opts.mobile.auto=true;};if(!this.opts.attributes.mobileFlash){this.opts.mobile.flash=false;};if(!this.opts.flashvars.paramXMLPath){this.opts.flashvars.loadParams=false;};if(this.opts.flashvars.xmlFileType=='Single Content'){this.opts.flashvars.startup="Open album";this.opts.flashvars.panZoom="Off";this.opts.flashvars.navAppearance="Hidden";}
this.target=document.getElementById(this.opts.attributes.id);var divs=this.target.getElementsByTagName('div');for(var i=0;i<divs.length;i++){if(divs[i].className=='ssp-mobile-poster'){this.customPoster=divs[i];this.target.removeChild(divs[i]);};};this.fallbackText=this.target.innerHTML;this.target.innerHTML='';this.parseXMLPath(this.opts.flashvars.xmlFilePath);if(!this.opts.attributes.src){this.opts.attributes.src=this.host+'/m/slideshowpro.swf';};this.normPaths();if(this.opts.mobile.auto&&this.isMobile()&&(!this.hasFlash()||!this.opts.mobile.flash)){this._autoMobile=true;var cover=this.e('div',{position:'absolute',width:'10000px',height:'10000px',background:'#060606',top:0,left:0,zIndex:1000000});document.body.appendChild(cover);window.scrollTo(0,1);this.fallback();}else{if(this.opts.mobile.devMode||(this.isMobile()&&(!this.hasFlash()||!this.opts.mobile.flash))){this.fallback();}else{this.embed();}};SlideShowProRefs[this.opts.attributes.id]=this;return this;}else{return new SlideShowPro(options);};};SlideShowPro.prototype.parseXMLPath=function(path){var parts=/^(https?:\/\/)?(.*)?\/images.php\?(album|gallery)=(\d+)$/.exec(path);if(parts===null){parts=/^(https?:\/\/)?(.*)?\/[A-Za-z]+\/album-\d+\/lg\/.*$/.exec(path);}
if(parts[2]){this.host=parts[1]+parts[2];}else{this.host='';};this.contentType=parts[3];this.contentId=parts[4];};SlideShowPro.prototype.formOutlink=function(data){this.outlink=this.host+'/m/?'+this.contentType+'='+data.internal_id+data.id+'&back='+Number(this.opts.mobile.showBackButton)+'&info='+Number(this.opts.mobile.showInfoButton)+'&sharpening='+Number(this.opts.mobile.sharpening);if(this._autoMobile){top.location.replace(this.outlink);return true;};return false;};SlideShowPro.prototype.normPaths=function(){if(document.location.host==''){this.opts.flashvars.permalinks='Off';return false;};String.prototype.cleanWWW=function(){return this.replace('//www.','//');};var host=document.location.protocol+'//'+document.location.host;var hostClean=host.cleanWWW();var check=[this.host,this.opts.attributes.src,this.opts.flashvars.xmlFilePath];if(this.opts.flashvars.paramXMLPath){check.push(this.opts.flashvars.paramXMLPath);};for(var i=0;i<check.length;i++){var _s=check[i];var _clean=_s.cleanWWW();if(_clean.match(RegExp('^'+hostClean+'\/'))){_s=_clean.replace(hostClean,'');};check[i]=_s;};this.host=check[0];this.opts.attributes.src=check[1];this.opts.flashvars.xmlFilePath=check[2];if(check.length>3){this.opts.flashvars.paramXMLPath=check[3];};};SlideShowPro.prototype.isMobile=function(){return/iPad|iPhone|iPod|Kindle\sFire|Android\s[2-9]\.\d/.exec(navigator.userAgent)!==null;};SlideShowPro.prototype.hasFlash=function(){var p=navigator.plugins;if(p&&p['Shockwave Flash']&&p['Shockwave Flash'].description){return true;}else{return false;};};SlideShowPro.prototype.ready=function(){if(typeof this.opts.attributes.onReady=='function'){this.opts.attributes.onReady.call(this);};var evs=['albumData','albumEnd','albumStart','displayMode','galleryClosed','galleryClosing','galleryData','galleryHidden','galleryInfo','galleryOpen','galleryOpening','galleryToggled','imageAlign','imageClick','imageData','imageFormat','imageLoad','imageRollOut','imageRollOver','imageZone','nextImage','nextImageGroup','nextScreen','netStreamStatus','permalink','preloadEnd','preloadInit','preloadProgress','prevImage','prevImageGroup','prevScreen','transEffectStart','transEffectEnd','transPauseStart','transPauseEnd','videoCuePoint','videoEnd','videoMetadata','videoPause','videoPlayRelease','videoPreviewLoad','videoPreviewRemove','videoResume','videoStart','videoXMPData','xmlData'];for(var i in evs){this.api.addEventListener(evs[i],'SlideShowProRefs["'+this.opts.attributes.id+'"].answer');};var fns=['enterFullScreenDisplayState','getAlbumData','getGalleryData','halt','loadAlbum','loadContent','muteMedia','nextGalleryScreen','nextImage','nextImageGroup','pauseMedia','playMedia','previousGalleryScreen','previousImage','previousImageGroup','removeEventListener','setMediaVolume','setSize','setStartAlbum','toggleDisplayMode','toggleGallery','toggleNav','unloadContent','unMuteMedia'];for(var i in fns){var exec="this."+fns[i]+" = function() { var n = '"+fns[i]+"'; var _str = ''; if (arguments.length > 0) { var _a = []; for (i = 0; i < arguments.length; i++) { _a.push(\"'\" + arguments[i] + \"'\"); }; if (n == 'loadAlbum' && _a.length == 1) { _a.push(0); }; _str = _a.join(','); }; eval('this.api."+fns[i]+"(' + _str + ')'); }";eval(exec);}};SlideShowPro.prototype.addEventListener=function(name,fn){if(!this.listeners[name]){this.listeners[name]=[];};this.listeners[name].push(fn);};SlideShowPro.prototype.embed=function(){var f=this.opts.flashvars||{};var p=this.opts.params||{};var a=this.opts.attributes||{};var self=this;if(typeof flashPutHref!=='function'){flashPutHref=function(href){location.href=href;};};swfobjectSSP.embedSWF(a.src,a.id,a.width,a.height,"10.0.0",false,f,p,a,function(e){self.embedCallback(e);});};function onSlideShowProReady(id){SlideShowProRefs[id].ready();};SlideShowPro.prototype.answer=function(obj){if(this.listeners[obj.name]){for(var i in this.listeners[obj.name]){this.listeners[obj.name][i].apply(this,[obj]);}}}
SlideShowPro.prototype.embedCallback=function(e){if(e.success){this.api=e.ref;}else{if(this.isMobile()){this.fallback();}else{this.target.innerHTML=this.fallbackText;}};if(this.opts.attributes.onEmbed){this.opts.attributes.onEmbed.apply(this,[e.success]);};return e.success;};SlideShowPro.prototype.videoFallback=function(){var mimes={'mov':'video/quicktime','mp4':'video/mp4','m4v':'video/x-m4v'};var path=this.opts.flashvars.xmlFilePath
var ext=path.substr(path.lastIndexOf('.')+1,path.length);if(mimes[ext]){var video=document.createElement('video');if(typeof(video.canPlayType)!==undefined&&video.canPlayType(mimes[ext])!=''){video.width=this.opts.attributes.width;video.height=this.opts.attributes.height;video.controls=true;video.autoplay=true;video.src=path;this.target.appendChild(video);return;};};this.target.innerHTML=this.fallbackText;};SlideShowPro.prototype.e=function(element,style,klass){if(typeof element=='string'){element=document.createElement(element);element.style.fontWeight='normal';element.style.textTransform='none';element.style.textAlign='left';element.style.float='none';element.style.lineHeight='1em';var zeros=['margin','padding','border'];for(var i=0;i<zeros.length;i++){element.style[zeros[i]]='0px';};var autos=['top','left','right','bottom'];for(var i=0;i<autos.length;i++){element.style[autos[i]]='auto';};};for(var i in style){element.style[i]=style[i];};element.style.zoom=1;if(klass){element.className=klass;};return element;};SlideShowPro.prototype.computeStyle=function(e,p){if(p=='width'){return e.offsetWidth;}else if(p=='height'){return e.offsetHeight;}else{if(e.currentStyle){return e.currentStyle[p];}else if(window.getComputedStyle){return document.defaultView.getComputedStyle(e,null).getPropertyValue(p);}else{return false;};};};SlideShowPro.prototype.fallback=function(){if(this.opts.flashvars.xmlFileType=='Single Content'){this.videoFallback();return;};if(this.opts.mobile.xmlFilePath){this.parseXMLPath(this.opts.mobile.xmlFilePath);};var w=this.opts.attributes.width;var h=this.opts.attributes.height;var computeW=true,computeH=true;if(!isNaN(w)){w+='px';computeW=false;}
if(!isNaN(h)){h+='px';computeH=false;}
var css={position:'relative',width:w,height:h,backgroundColor:this.opts.params.bgcolor,overflow:'hidden'};if(this.opts.mobile.linkToPlayer){css.cursor='pointer';};this.e(this.target,css);var _w,_h;if(computeW){_w=parseInt(this.computeStyle(this.target,'width'),10);}else{_w=this.opts.attributes.width;}
if(computeH){_h=parseInt(this.computeStyle(this.target,'height'));}else{_h=this.opts.attributes.height;};this.realH=_h;this.realW=_w;var self=this;if(this.opts.mobile.linkToPlayer){this.target.onclick=function(){if(self.bttn){self.e(self.bttn,{background:'#333'});};top.location.href=self.outlink;};};DirectorJS.setHost(this.host);if(this.contentType=='album'){DirectorJS.Format.preview({width:100,height:100,square:1});DirectorJS.Album.get(this.contentId,function(data){self.startDraw(data);},{with_content:false});}else{DirectorJS.Gallery.get(this.contentId,function(data){self.startDraw(data);},{with_content:false});};};SlideShowPro.prototype.startDraw=function(data){if(this.formOutlink(data)){return;};if(!data.description){data.description='';};if(this.customPoster){this.e(this.customPoster,{position:'absolute',top:'0px',left:'0px',width:'100%',height:'100%'});var _html=this.customPoster.innerHTML.replace('{{title}}',data.name).replace('{{description}}',data.description).replace('{{mobile_link}}',this.outlink);this.customPoster.innerHTML=_html;this.target.appendChild(this.customPoster);}else{var mjs=this.host+'/m/posters/'+this.opts.mobile.poster+'.js';var j=document.createElement('script');j.src=mjs;j.charset='utf-8';var self=this;j.onload=function(){self.drawPoster(data);};document.body.appendChild(j);};};var DirectorJS={req:[],userScope:{},formats:{},selfHosted:true,setHost:function(h){this.host=h;if(this.selfHosted){this.host+='/index.php?';};},initReq:function(salt){var key=salt+Math.floor(Math.random()*1000);this.req[key]=new Object;this.req[key].params=[];return this.req[key]},conn:function(req){if(req){var handler=req.apiMethod+Math.floor(Math.random()*10000);req.params.push('callback='+handler);for(i in this.formats){var f=this.formats[i];req.params.push('size['+i+']='+f);};if(this.previewFormat){req.params.push('preview='+this.previewFormat);};req.params=req.params.join('&');var qs='?'+req.params;var url=this.host+'/api/'+req.apiMethod+qs;var head=document.getElementsByTagName('head')[0];window[handler]=function(response){if(response.stat=='fail'){if(console){console.log('SlideShowPro API error: '+response.error);}
return;}else{req.callback.apply(this,[response.data]);}
window[handler]=null;head.removeChild(script);};var script=document.createElement('script');script.src=url;script.charset='utf-8';head.appendChild(script);};},Format:{add:function(options){var defaults={square:0,quality:85,sharpening:1};for(i in options){defaults[i]=options[i];};DirectorJS.formats[options.name]=[defaults.name,defaults.width,defaults.height,defaults.square,defaults.quality,defaults.sharpening].join(',');},preview:function(options){var defaults={square:0,quality:85,sharpening:1};for(i in options){defaults[i]=options[i];};DirectorJS.previewFormat=[defaults.width,defaults.height,defaults.square,defaults.quality,defaults.sharpening].join(',');}},Album:{get:function(id,callback,options){var req=DirectorJS.initReq('album.get.');var defaults={only_active:1};DirectorJS.prepAndSendObjs(defaults,options,req);req.apiMethod='get_album';req.callback=callback;req.params.push("album_id="+id);DirectorJS.conn(req);}},Gallery:{get:function(id,callback,options){var req=DirectorJS.initReq('gallery.get.');var defaults={limit:null,order:'display',with_content:true};DirectorJS.prepAndSendObjs(defaults,options,req);req.apiMethod='get_gallery';req.callback=callback;req.params.push("gallery_id="+id);DirectorJS.conn(req);}},prepAndSendObjs:function(obj1,obj2,req){if(typeof obj2=='object'){if(typeof obj2.tags=='object'){var tmp={};var tags=obj2.tags[0];if(obj2.tags[1]=='all'){var all=1;}else{var all=0;};obj2.tags=tags;obj2.tags_exclusive=all;};if(typeof obj2.scope=='object'){var tmp={};var scope=obj2.scope[0];var scope_id=obj2.scope[1];obj2.scope=scope;obj2.scope_id=scope_id;};for(i in obj2){obj1[i]=obj2[i];};};for(i in obj1){if(i=='sort_on'&&obj1[i]=='random'){req.params.push('buster='+String(Math.round(Math.random()*10)));};if(String(obj1[i])=='true'||String(obj1[i])=='false'){obj1[i]=Number(obj1[i]);};req.params.push(i+'='+obj1[i]);};}};SlideShowPro.prototype.drawPreview=function(h,data,top){top=top||0;var self=this;if(this.contentType=='album'){DirectorJS.Format.preview({width:Number(this.realW),height:Number(h),square:1});DirectorJS.Album.get(this.contentId,function(data){var w=self.realW,left=0,aspect=data.preview.width/data.preview.height;if(data.preview.width<self.realW){w=data.preview.width;left=(self.realW-w)/2;h=w/aspect;};if(data.preview.height<h){top+=(h-data.preview.height)/2;h=data.preview.height;w=aspect*h;};var img=self.e('img',{width:w+'px',height:h+'px',position:'absolute',top:top+'px',left:left+'px',zIndex:1,opacity:0,webkitTransition:'opacity 750ms 500ms'});img.onload=function(){self.e(this,{opacity:1});};self.target.appendChild(img);img.src=data.preview.url;},{with_content:false});}else{var c=data.albums.length;var d=4;if(c<4){d=c;}else if(c%4==1){d=3;};var _w=self.realW;var _h=self.realH;var rows=Math.min(Math.ceil(c/d),Math.floor(_h/(_w/d)));rows=Math.max(rows,1);this.galleryH=Math.ceil(h/rows);this.galleryW=Math.ceil(_w/d);DirectorJS.Format.preview({width:self.galleryW,height:self.galleryH,square:1});DirectorJS.Gallery.get(this.contentId,function(data){var wrap=self.e('div',{position:'absolute',top:'0px',left:'0px',height:h+'px',width:'100%'});self.target.appendChild(wrap);var row=0,pos=0;for(i in data.albums){var a=data.albums[i];if(a.preview){var l=pos*self.galleryW;if(l>=self.realW){l=0;row++;pos=0;};var img=self.e('img',{position:'absolute',top:top+(row*self.galleryH)+'px',left:l+'px',width:self.galleryW+'px',height:self.galleryH+'px',opacity:0,webkitTransition:'opacity 750ms 500ms'});img.onload=function(){self.e(this,{opacity:1});};wrap.appendChild(img);img.src=a.preview.url;pos++;};};},{with_content:false,limit:d*rows});}};swfobjectSSP=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobjectSSP){swfobjectSSP[X]=null}swfobjectSSP=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();};
},{}],10:[function(require,module,exports){
/*global require: false */
// require.config({
//   paths: {
//     pdfCompatibility:     'lib/pdf/compatibility',
//     pdfl10n:              'lib/pdf/l10n',
//     pdf:                  'lib/pdf/pdf',
//     pdfViewer:            'lib/pdf/viewer',
//     ssp:                  'lib/ssp/embed'
//   },
//   shim: {

//     // pdfCompatibility: ['jquery'],
//     pdfl10n: ['pdfCompatibility'],
//     pdf: ['pdfl10n'],
//     pdfViewer: ['pdf']
//   }
// });

window.name = "NG_DEFER_BOOTSTRAP!";

(function (
    $, 
    _,
    angular, 
    app, 
    routes,
    translate
) {
    'use strict';

    var $html = angular.element(document.getElementsByTagName('html')[0]);

    angular.element().ready(function() {
        angular.resumeBootstrap([app.name]);
    });

    $(document).ready(function () {

        // TODO: move to a directive
        var navLinks;

        $('#creations-slider.carousel').carousel();

        navLinks = function(clicked) {
            var itemId;
            itemId = clicked.attr('href');
            return $('body').stop().scrollTo(itemId, 500);
        };

        $('a.scrollto').click(function() {
            var nav_clicked;
            nav_clicked = $(this);
            navLinks(nav_clicked);
            return false;
        });

        $('[data-spy="scroll"]').each(function () {
            var $spy = $(this).scrollspy('refresh');
        });
    });
}(
    require('jquery'),
    require('lodash'),
    require('angular'),
    require('./app')
));

},{"./app":1,"angular":"s2QTgl","jquery":"WGVgcA","lodash":"76bcNB"}],11:[function(require,module,exports){
/*global define: false */

(function () {
  'use strict';
  
  module.exports = ['$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) {

    $routeProvider.otherwise({redirectTo: '/'});

    $locationProvider.html5Mode(true);

  }];

}(
));
},{}],12:[function(require,module,exports){
/*global define: false */

(function (angular) {
    'use strict';

    /**
     * set up generic myApp.services namespace
     */
    var servicesModule = angular.module('myApp.services', [/*'myApp.config',*/ 'ngResource']);

    servicesModule.value('version', '0.4.0');

    servicesModule.factory('FeedService', ['$http', function($http) {
        var service = {};

        service.parseFeed = function parseFeed(url, count) {
            var numberOfFeeds = count || 6;
            return $http.jsonp('//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=' + 
                numberOfFeeds + '&callback=JSON_CALLBACK&q=' + encodeURIComponent(url));
        };

        return service;
    }]);

    // servicesModule.factory('NikePlusService', ['$http', '$log', 'CONFIG', function($http, $log, CONFIG) {
    //     var service = {};

    //     service.listActivities = function listActivities() {
    //         var nikeAPI = CONFIG.NIKE_API;
    //         var activitiesURL = nikeAPI.ENDPOINT_BASE_URL + '/activities?access_token=' + nikeAPI.ACCESS_TOKEN;

    //     return $http.get(activitiesURL)
    //         .success(function(response, status, headers, config) {
    //             $log.log('nike plus activities: ', response, status, headers, config);

    //             return response;
    //         })
    //         .error(function(response, status, headers, config) {
    //             $log.log('error retrieving nike plus activities', response, status, headers, config);

    //         });
    //     };

    //     return service;
    // }]);

    return servicesModule;

})(
  require('angular')
);
},{"angular":"s2QTgl"}],13:[function(require,module,exports){
/*global define: false */

(function () {
  'use strict';

  module.exports = ['$translateProvider', function ($translateProvider) {
    // TODO: load these via a separate file, don't really need to for now

    $translateProvider.translations('en', {
      
    });
   
    // $translateProvider.translations('de', {
    //   'TITLE': 'Hallo',
    //   'FOO': 'Dies ist ein Paragraph'
    // });
   
    $translateProvider.preferredLanguage('en');
  }];

}(
));

},{}]},{},[10])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvbWFyc2hhbGxidS9Qcm9qZWN0cy9qc19wcm9qZWN0cy9pZGVudGl0eS9hcHAvc2NyaXB0cy9hcHAuanMiLCIvVXNlcnMvbWFyc2hhbGxidS9Qcm9qZWN0cy9qc19wcm9qZWN0cy9pZGVudGl0eS9hcHAvc2NyaXB0cy9jb250cm9sbGVycy5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL2NvbnRyb2xsZXJzL2ZlZWRjdHJsLmpzIiwiL1VzZXJzL21hcnNoYWxsYnUvUHJvamVjdHMvanNfcHJvamVjdHMvaWRlbnRpdHkvYXBwL3NjcmlwdHMvY29udHJvbGxlcnMvZm9vdGVyY3RybC5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL2NvbnRyb2xsZXJzL25hdmN0cmwuanMiLCIvVXNlcnMvbWFyc2hhbGxidS9Qcm9qZWN0cy9qc19wcm9qZWN0cy9pZGVudGl0eS9hcHAvc2NyaXB0cy9jb250cm9sbGVycy9waG90b3NjdHJsLmpzIiwiL1VzZXJzL21hcnNoYWxsYnUvUHJvamVjdHMvanNfcHJvamVjdHMvaWRlbnRpdHkvYXBwL3NjcmlwdHMvZGlyZWN0aXZlcy5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL2ZpbHRlcnMuanMiLCIvVXNlcnMvbWFyc2hhbGxidS9Qcm9qZWN0cy9qc19wcm9qZWN0cy9pZGVudGl0eS9hcHAvc2NyaXB0cy9saWIvc3NwL2VtYmVkLmpzIiwiL1VzZXJzL21hcnNoYWxsYnUvUHJvamVjdHMvanNfcHJvamVjdHMvaWRlbnRpdHkvYXBwL3NjcmlwdHMvbWFpbi5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL3JvdXRlcy5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL3NlcnZpY2VzLmpzIiwiL1VzZXJzL21hcnNoYWxsYnUvUHJvamVjdHMvanNfcHJvamVjdHMvaWRlbnRpdHkvYXBwL3NjcmlwdHMvdHJhbnNsYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKmdsb2JhbCBkZWZpbmU6IGZhbHNlICovXG5cbihmdW5jdGlvbiAoYW5ndWxhciwgcm91dGVzLCB0cmFuc2xhdGUpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIERlY2xhcmUgYXBwIGxldmVsIG1vZHVsZVxuICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJywgW1xuICAgICAgLy8gJ215QXBwLmNvbmZpZycsXG4gICAgICAnbmdSb3V0ZScsXG4gICAgICAnbmdSZXNvdXJjZScsXG4gICAgICAnbmdTYW5pdGl6ZScsXG4gICAgICAncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScsXG4gICAgICAnbXlBcHAuZmlsdGVycycsXG4gICAgICAnbXlBcHAuc2VydmljZXMnLFxuICAgICAgJ215QXBwLmRpcmVjdGl2ZXMnLFxuICAgICAgJ215QXBwLmNvbnRyb2xsZXJzJ1xuICAgICAgLy8gJ2FkYXB0aXZlLnNwZWVjaCdcbiAgXSlcbiAgLmNvbmZpZyhyb3V0ZXMpXG4gIC5jb25maWcodHJhbnNsYXRlKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGFwcDtcblxuICByZXR1cm4gYXBwO1xuXG59KFxuICAgIHJlcXVpcmUoJ2FuZ3VsYXInKSxcbiAgICByZXF1aXJlKCcuL3JvdXRlcycpLFxuICAgIHJlcXVpcmUoJy4vdHJhbnNsYXRlJyksXG4gICAgLy8gcmVxdWlyZSgnLi9jb25maWcnKSxcbiAgICByZXF1aXJlKCcuL2ZpbHRlcnMnKSxcbiAgICByZXF1aXJlKCcuL3NlcnZpY2VzJyksXG4gICAgcmVxdWlyZSgnLi9kaXJlY3RpdmVzJyksXG4gICAgcmVxdWlyZSgnLi9jb250cm9sbGVycycpXG4pKTtcbiIsIi8qZ2xvYmFsIGRlZmluZTogZmFsc2UsIHJlcXVpcmU6IGZhbHNlICovXG4oZnVuY3Rpb24gKFxuICAgIGFuZ3VsYXIsIFxuICAgIE5hdkN0cmwsIFxuICAgIEZlZWRDdHJsLCBcbiAgICAvLyBSZXN1bWVDdHJsLCBcbiAgICBQaG90b3NDdHJsLCBcbiAgICBGb290ZXJDdHJsIFxuICAgIC8vIE5pa2VDdHJsXG4pIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHJldHVybiBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuY29udHJvbGxlcnMnLCBbJ215QXBwLnNlcnZpY2VzJ10pXG5cbiAgICAuY29udHJvbGxlcignTmF2Q3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIC8vIGluamVjdG9yIG1ldGhvZCB0YWtlcyBhbiBhcnJheSBvZiBtb2R1bGVzIGFzIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAgICAvLyBpZiB5b3Ugd2FudCB5b3VyIGNvbnRyb2xsZXIgdG8gYmUgYWJsZSB0byB1c2UgY29tcG9uZW50cyBmcm9tXG4gICAgICAgIC8vIGFueSBvZiB5b3VyIG90aGVyIG1vZHVsZXMsIG1ha2Ugc3VyZSB5b3UgaW5jbHVkZSBpdCB0b2dldGhlciB3aXRoICduZydcbiAgICAgICAgLy8gRnVydGhlcm1vcmUgd2UgbmVlZCB0byBwYXNzIG9uIHRoZSAkc2NvcGUgYXMgaXQncyB1bmlxdWUgdG8gdGhpcyBjb250cm9sbGVyXG4gICAgICAgIGFuZ3VsYXIuaW5qZWN0b3IoWyduZyddKS5pbnZva2UoTmF2Q3RybCwgdGhpcywgeyckc2NvcGUnOiAkc2NvcGV9KTtcbiAgICB9XSlcblxuICAgIC5jb250cm9sbGVyKCdGZWVkQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIGFuZ3VsYXIuaW5qZWN0b3IoWyduZycsICdteUFwcC5zZXJ2aWNlcyddKS5pbnZva2UoRmVlZEN0cmwsIHRoaXMsIHsnJHNjb3BlJzogJHNjb3BlfSk7XG4gICAgfV0pXG5cbiAgICAvLyAuY29udHJvbGxlcignUmVzdW1lQ3RybCcsIFsnJHNjb3BlJywgJ0NPTkZJRycsIGZ1bmN0aW9uKCRzY29wZSwgQ09ORklHKSB7XG4gICAgICAgIFxuICAgIC8vICAgICBhbmd1bGFyLmluamVjdG9yLmludm9rZShSZXN1bWVDdHJsLCB0aGlzLCB7XG4gICAgLy8gICAgICAgICAnJHNjb3BlJzogJHNjb3BlLFxuICAgIC8vICAgICAgICAgJ0NPTkZJRyc6IENPTkZJR1xuICAgIC8vICAgICB9KTtcblxuICAgIC8vIH1dKVxuXG4gICAgLmNvbnRyb2xsZXIoJ1Bob3Rvc0N0cmwnLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICBhbmd1bGFyLmluamVjdG9yKFsnbmcnLCAnbXlBcHAuc2VydmljZXMnXSkuaW52b2tlKFBob3Rvc0N0cmwsIHRoaXMsIHsnJHNjb3BlJzogJHNjb3BlfSk7XG4gICAgfV0pXG5cbiAgICAuY29udHJvbGxlcignRm9vdGVyQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIGFuZ3VsYXIuaW5qZWN0b3IoWyduZycsICdteUFwcC5zZXJ2aWNlcyddKS5pbnZva2UoRm9vdGVyQ3RybCwgdGhpcywgeyckc2NvcGUnOiAkc2NvcGV9KTtcbiAgICB9XSk7XG5cbiAgICAvLyAuY29udHJvbGxlcignTmlrZUN0cmwnLCBbJyRzY29wZScsICdDT05GSUcnLCBmdW5jdGlvbigkc2NvcGUsIENPTkZJRykge1xuICAgICAgICBcbiAgICAvLyAgICAgYW5ndWxhci5pbmplY3Rvci5pbnZva2UoTmlrZUN0cmwsIHRoaXMsIHtcbiAgICAvLyAgICAgICAgICckc2NvcGUnOiAkc2NvcGUsXG4gICAgLy8gICAgICAgICAnQ09ORklHJzogQ09ORklHXG4gICAgLy8gICAgIH0pO1xuXG4gICAgLy8gfV0pO1xuXG59KShcbiAgICByZXF1aXJlKCdhbmd1bGFyJyksXG4gICAgcmVxdWlyZSgnLi9jb250cm9sbGVycy9uYXZjdHJsJyksXG4gICAgcmVxdWlyZSgnLi9jb250cm9sbGVycy9mZWVkY3RybCcpLFxuICAgIC8vIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvcmVzdW1lY3RybCcpLFxuICAgIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvcGhvdG9zY3RybCcpLFxuICAgIHJlcXVpcmUoJy4vY29udHJvbGxlcnMvZm9vdGVyY3RybCcpXG4gICAgLy8gcmVxdWlyZSgnLi9jb250cm9sbGVycy9uaWtlY3RybCcpXG4pOyIsIi8qKlxuICogVGhlIG1haW4gY29udHJvbGxlciBmb3IgdGhlIGFwcC4gVGhlIGNvbnRyb2xsZXI6XG4gKiAtIHJldHJpZXZlcyBhbmQgcGVyc2lzdCB0aGUgbW9kZWwgdmlhIHRoZSB0b2RvU3RvcmFnZSBzZXJ2aWNlXG4gKiAtIGV4cG9zZXMgdGhlIG1vZGVsIHRvIHRoZSB0ZW1wbGF0ZSBhbmQgcHJvdmlkZXMgZXZlbnQgaGFuZGxlcnNcbiAqL1xuXG4oZnVuY3Rpb24gKF8sIGFwcCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBGZWVkQ3RybCA9IFsnJHNjb3BlJywgJyRodHRwJywgJyRsb2cnLCAnRmVlZFNlcnZpY2UnLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGxvZywgRmVlZCkge1xuICAgICAgICAgICAgJHNjb3BlLmZlZWRzID0gW107XG5cbiAgICAgICAgICAgIEZlZWQucGFyc2VGZWVkKCdodHRwOi8vYmxvZy5tYXJzaGFsbHVwc2h1ci5jb20vZmVlZC8nLCAzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmVlZHMgPSByZXMuZGF0YS5yZXNwb25zZURhdGEuZmVlZC5lbnRyaWVzO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChmZWVkcywgZnVuY3Rpb24oZmVlZCkge1xuICAgICAgICAgICAgICAgICAgICBmZWVkLnB1Ymxpc2hlZERhdGVPYmplY3QgPSBuZXcgRGF0ZShmZWVkLnB1Ymxpc2hlZERhdGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICRzY29wZS5mZWVkcyA9IGZlZWRzO1xuICAgICAgICAgICAgICAgIC8vICRsb2cubG9nKCRzY29wZS5mZWVkcyk7XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgIFxuICAgICAgICAvLyAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH1cbiAgICBdO1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBGZWVkQ3RybDtcblxuICAgIHJldHVybiBGZWVkQ3RybDtcbn0pKFxuICAgIHJlcXVpcmUoJ2xvZGFzaCcpLFxuICAgIHJlcXVpcmUoJy4vLi4vYXBwJylcbik7IiwiLypnbG9iYWwgZGVmaW5lOiBmYWxzZSAqL1xuXG4oZnVuY3Rpb24gKGFwcCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBGb290ZXJDdHJsID0gWyckc2NvcGUnLCAnJGh0dHAnLCAnJGxvZycsICd2ZXJzaW9uJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRsb2csIHZlcnNpb24pIHtcbiAgICAgICAgICAgICRzY29wZS52ZXJzaW9uID0gdmVyc2lvbjtcblxuICAgICAgICAgICAgLy8gJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICB9XG4gICAgXTtcblxuICAgIG1vZHVsZS5leHBvcnRzID0gRm9vdGVyQ3RybDtcblxuICAgIHJldHVybiBGb290ZXJDdHJsO1xufSkoXG4gICAgcmVxdWlyZSgnLi8uLi9hcHAnKVxuKTsiLCIvKmdsb2JhbCBkZWZpbmU6IGZhbHNlICovXG5cbihmdW5jdGlvbiAoXywgYXBwKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIE5hdkN0cmwgPSBbJyRzY29wZScsICckbG9nJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvZykge1xuXG5cblxuXG4gICAgICAgICAgICAvLyAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH1cbiAgICBdO1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBOYXZDdHJsO1xuXG4gICAgcmV0dXJuIE5hdkN0cmw7XG59KShcbiAgICByZXF1aXJlKCdsb2Rhc2gnKSxcbiAgICByZXF1aXJlKCcuLi9hcHAnKVxuKTsiLCIvKmdsb2JhbCBkZWZpbmU6IGZhbHNlICovXG5cbihmdW5jdGlvbiAoYXBwLCBzc3ApIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFBob3Rvc0N0cmwgPSBbJyRzY29wZScsICckaHR0cCcsICckbG9nJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRsb2cpIHtcblxuICAgICAgICAgICAgJHNjb3BlLm15c3NwID0gbmV3IFNsaWRlU2hvd1Bybyh7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgIGlkOiBcImFsYnVtLTdcIixcbiAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW9iaWxlOiB7XG4gICAgICAgICAgICAgIGF1dG86IGZhbHNlLFxuICAgICAgICAgICAgICBwb3N0ZXI6IFwidmlnbmV0dGVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICBiZ2NvbG9yOiBcIiMwMDAwMDBcIixcbiAgICAgICAgICAgICAgYWxsb3dmdWxsc2NyZWVuOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmxhc2h2YXJzOiB7XG4gICAgICAgICAgICAgIHhtbEZpbGVQYXRoOiBcImh0dHA6Ly9waG90b3MubWFyc2hhbGx1cHNodXIuY29tL3NsaWRlc2hvd3Byby9pbWFnZXMucGhwP2FsYnVtPTdcIixcbiAgICAgICAgICAgICAgbmF2QXBwZWFyYW5jZTogXCJIaWRkZW5cIixcbiAgICAgICAgICAgICAgbmF2TGlua0FwcGVhcmFuY2U6IFwiTnVtYmVyc1wiLFxuICAgICAgICAgICAgICBmZWVkYmFja1ByZWxvYWRlckFwcGVhcmFuY2U6IFwiQmFyXCIsXG4gICAgICAgICAgICAgIGZlZWRiYWNrVGltZXJBcHBlYXJhbmNlOiBcIkhpZGRlblwiLFxuICAgICAgICAgICAgICBjb250ZW50U2NhbGU6IFwiQ3JvcCB0byBGaXQgQWxsXCIsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25MZW5ndGg6IDEsXG4gICAgICAgICAgICAgIHBhblpvb206IFwiT25cIixcbiAgICAgICAgICAgICAgY29udGVudE9yZGVyOiBcIlJhbmRvbVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICB9XG4gICAgXTtcblxuICAgIG1vZHVsZS5leHBvcnRzID0gUGhvdG9zQ3RybDtcblxuICAgIHJldHVybiBQaG90b3NDdHJsO1xuXG59KShcbiAgICByZXF1aXJlKCcuLy4uL2FwcCcpLFxuICAgIHJlcXVpcmUoJy4vLi4vbGliL3NzcC9lbWJlZCcpXG4pOyIsIihmdW5jdGlvbiAoYW5ndWxhciwgc2VydmljZXMpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ215QXBwLmRpcmVjdGl2ZXMnLCBbJ215QXBwLnNlcnZpY2VzJ10pXG4gICAgICAgIC5kaXJlY3RpdmUoJ2FwcFZlcnNpb24nLCBbJ3ZlcnNpb24nLCBmdW5jdGlvbih2ZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMpIHtcbiAgICAgICAgICAgICAgICBlbG0udGV4dCh2ZXJzaW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgfV0pO1xuXG59KShcbiAgICByZXF1aXJlKCdhbmd1bGFyJyksXG4gICAgcmVxdWlyZSgnLi9zZXJ2aWNlcycpXG4pOyIsIihmdW5jdGlvbiAoYW5ndWxhciwgc2VydmljZXMpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ215QXBwLmZpbHRlcnMnLCBbJ215QXBwLnNlcnZpY2VzJ10pXG4gICAgICAgIC5maWx0ZXIoJ2ludGVycG9sYXRlJywgWyd2ZXJzaW9uJywgZnVuY3Rpb24odmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHRleHQpLnJlcGxhY2UoL1xcJVZFUlNJT05cXCUvbWcsIHZlcnNpb24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xufSkoXG4gICAgcmVxdWlyZSgnYW5ndWxhcicpLFxuICAgIHJlcXVpcmUoJy4vc2VydmljZXMnKVxuKTsiLCJcbmlmKHR5cGVvZiBTbGlkZVNob3dQcm9SZWZzIT0nb2JqZWN0Jyl7U2xpZGVTaG93UHJvUmVmcz17fTtTbGlkZVNob3dQcm89ZnVuY3Rpb24ob3B0aW9ucyl7aWYodGhpcyBpbnN0YW5jZW9mIFNsaWRlU2hvd1Bybyl7dGhpcy5vcHRzPXthdHRyaWJ1dGVzOnt3aWR0aDo1NTAsaGVpZ2h0OjQwMCxhdXRvTW9iaWxlOmZhbHNlLG1vYmlsZUZsYXNoOnRydWUsb25FbWJlZDpmYWxzZSxvblJlYWR5OmZhbHNlfSxtb2JpbGU6e2F1dG86ZmFsc2Usc2hvd0JhY2tCdXR0b246ZmFsc2Usc2hvd0luZm9CdXR0b246dHJ1ZSxmbGFzaDpmYWxzZSxwb3N0ZXI6J2RlZmF1bHQnLGxpbmtUb1BsYXllcjp0cnVlLHNoYXJwZW5pbmc6dHJ1ZX0scGFyYW1zOntiZ2NvbG9yOicjMDAwMDAwJyxhbGxvd0Z1bGxTY3JlZW46dHJ1ZSxhbGxvd3NjcmlwdGFjY2VzczonYWx3YXlzJ30sZmxhc2h2YXJzOntpbml0aWFsVVJMOmVzY2FwZShkb2N1bWVudC5sb2NhdGlvbiksdXNlRXh0ZXJuYWxJbnRlcmZhY2U6XCJmYWxzZVwiLGlkOm9wdGlvbnMuYXR0cmlidXRlcy5pZCx4bWxGaWxlVHlwZTonRGlyZWN0b3InfX07aWYoZG9jdW1lbnQubG9jYXRpb24uaG9zdCE9Jycpe3ZhciBoPWRvY3VtZW50LmxvY2F0aW9uLmhvc3Q7aWYoaC5pbmRleE9mKCc6JykhPT0tMSl7aD1oLnN1YnN0cigwLGguaW5kZXhPZignOicpKTt9O3RoaXMub3B0cy5mbGFzaHZhcnMuYWxsb3dlZERvbWFpbnM9aDt9O3RoaXMubGlzdGVuZXJzPXt9O3RoaXMuX2F1dG9Nb2JpbGU9ZmFsc2U7Zm9yKHZhciBpIGluIHRoaXMub3B0cyl7Zm9yKHZhciBqIGluIG9wdGlvbnNbaV0pe3RoaXMub3B0c1tpXVtqXT1vcHRpb25zW2ldW2pdO307fTtpZih0aGlzLm9wdHMuYXR0cmlidXRlcy5hdXRvTW9iaWxlKXt0aGlzLm9wdHMubW9iaWxlLmF1dG89dHJ1ZTt9O2lmKCF0aGlzLm9wdHMuYXR0cmlidXRlcy5tb2JpbGVGbGFzaCl7dGhpcy5vcHRzLm1vYmlsZS5mbGFzaD1mYWxzZTt9O2lmKCF0aGlzLm9wdHMuZmxhc2h2YXJzLnBhcmFtWE1MUGF0aCl7dGhpcy5vcHRzLmZsYXNodmFycy5sb2FkUGFyYW1zPWZhbHNlO307aWYodGhpcy5vcHRzLmZsYXNodmFycy54bWxGaWxlVHlwZT09J1NpbmdsZSBDb250ZW50Jyl7dGhpcy5vcHRzLmZsYXNodmFycy5zdGFydHVwPVwiT3BlbiBhbGJ1bVwiO3RoaXMub3B0cy5mbGFzaHZhcnMucGFuWm9vbT1cIk9mZlwiO3RoaXMub3B0cy5mbGFzaHZhcnMubmF2QXBwZWFyYW5jZT1cIkhpZGRlblwiO31cbnRoaXMudGFyZ2V0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMub3B0cy5hdHRyaWJ1dGVzLmlkKTt2YXIgZGl2cz10aGlzLnRhcmdldC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGl2Jyk7Zm9yKHZhciBpPTA7aTxkaXZzLmxlbmd0aDtpKyspe2lmKGRpdnNbaV0uY2xhc3NOYW1lPT0nc3NwLW1vYmlsZS1wb3N0ZXInKXt0aGlzLmN1c3RvbVBvc3Rlcj1kaXZzW2ldO3RoaXMudGFyZ2V0LnJlbW92ZUNoaWxkKGRpdnNbaV0pO307fTt0aGlzLmZhbGxiYWNrVGV4dD10aGlzLnRhcmdldC5pbm5lckhUTUw7dGhpcy50YXJnZXQuaW5uZXJIVE1MPScnO3RoaXMucGFyc2VYTUxQYXRoKHRoaXMub3B0cy5mbGFzaHZhcnMueG1sRmlsZVBhdGgpO2lmKCF0aGlzLm9wdHMuYXR0cmlidXRlcy5zcmMpe3RoaXMub3B0cy5hdHRyaWJ1dGVzLnNyYz10aGlzLmhvc3QrJy9tL3NsaWRlc2hvd3Byby5zd2YnO307dGhpcy5ub3JtUGF0aHMoKTtpZih0aGlzLm9wdHMubW9iaWxlLmF1dG8mJnRoaXMuaXNNb2JpbGUoKSYmKCF0aGlzLmhhc0ZsYXNoKCl8fCF0aGlzLm9wdHMubW9iaWxlLmZsYXNoKSl7dGhpcy5fYXV0b01vYmlsZT10cnVlO3ZhciBjb3Zlcj10aGlzLmUoJ2Rpdicse3Bvc2l0aW9uOidhYnNvbHV0ZScsd2lkdGg6JzEwMDAwcHgnLGhlaWdodDonMTAwMDBweCcsYmFja2dyb3VuZDonIzA2MDYwNicsdG9wOjAsbGVmdDowLHpJbmRleDoxMDAwMDAwfSk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb3Zlcik7d2luZG93LnNjcm9sbFRvKDAsMSk7dGhpcy5mYWxsYmFjaygpO31lbHNle2lmKHRoaXMub3B0cy5tb2JpbGUuZGV2TW9kZXx8KHRoaXMuaXNNb2JpbGUoKSYmKCF0aGlzLmhhc0ZsYXNoKCl8fCF0aGlzLm9wdHMubW9iaWxlLmZsYXNoKSkpe3RoaXMuZmFsbGJhY2soKTt9ZWxzZXt0aGlzLmVtYmVkKCk7fX07U2xpZGVTaG93UHJvUmVmc1t0aGlzLm9wdHMuYXR0cmlidXRlcy5pZF09dGhpcztyZXR1cm4gdGhpczt9ZWxzZXtyZXR1cm4gbmV3IFNsaWRlU2hvd1BybyhvcHRpb25zKTt9O307U2xpZGVTaG93UHJvLnByb3RvdHlwZS5wYXJzZVhNTFBhdGg9ZnVuY3Rpb24ocGF0aCl7dmFyIHBhcnRzPS9eKGh0dHBzPzpcXC9cXC8pPyguKik/XFwvaW1hZ2VzLnBocFxcPyhhbGJ1bXxnYWxsZXJ5KT0oXFxkKykkLy5leGVjKHBhdGgpO2lmKHBhcnRzPT09bnVsbCl7cGFydHM9L14oaHR0cHM/OlxcL1xcLyk/KC4qKT9cXC9bQS1aYS16XStcXC9hbGJ1bS1cXGQrXFwvbGdcXC8uKiQvLmV4ZWMocGF0aCk7fVxuaWYocGFydHNbMl0pe3RoaXMuaG9zdD1wYXJ0c1sxXStwYXJ0c1syXTt9ZWxzZXt0aGlzLmhvc3Q9Jyc7fTt0aGlzLmNvbnRlbnRUeXBlPXBhcnRzWzNdO3RoaXMuY29udGVudElkPXBhcnRzWzRdO307U2xpZGVTaG93UHJvLnByb3RvdHlwZS5mb3JtT3V0bGluaz1mdW5jdGlvbihkYXRhKXt0aGlzLm91dGxpbms9dGhpcy5ob3N0KycvbS8/Jyt0aGlzLmNvbnRlbnRUeXBlKyc9JytkYXRhLmludGVybmFsX2lkK2RhdGEuaWQrJyZiYWNrPScrTnVtYmVyKHRoaXMub3B0cy5tb2JpbGUuc2hvd0JhY2tCdXR0b24pKycmaW5mbz0nK051bWJlcih0aGlzLm9wdHMubW9iaWxlLnNob3dJbmZvQnV0dG9uKSsnJnNoYXJwZW5pbmc9JytOdW1iZXIodGhpcy5vcHRzLm1vYmlsZS5zaGFycGVuaW5nKTtpZih0aGlzLl9hdXRvTW9iaWxlKXt0b3AubG9jYXRpb24ucmVwbGFjZSh0aGlzLm91dGxpbmspO3JldHVybiB0cnVlO307cmV0dXJuIGZhbHNlO307U2xpZGVTaG93UHJvLnByb3RvdHlwZS5ub3JtUGF0aHM9ZnVuY3Rpb24oKXtpZihkb2N1bWVudC5sb2NhdGlvbi5ob3N0PT0nJyl7dGhpcy5vcHRzLmZsYXNodmFycy5wZXJtYWxpbmtzPSdPZmYnO3JldHVybiBmYWxzZTt9O1N0cmluZy5wcm90b3R5cGUuY2xlYW5XV1c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXBsYWNlKCcvL3d3dy4nLCcvLycpO307dmFyIGhvc3Q9ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wrJy8vJytkb2N1bWVudC5sb2NhdGlvbi5ob3N0O3ZhciBob3N0Q2xlYW49aG9zdC5jbGVhbldXVygpO3ZhciBjaGVjaz1bdGhpcy5ob3N0LHRoaXMub3B0cy5hdHRyaWJ1dGVzLnNyYyx0aGlzLm9wdHMuZmxhc2h2YXJzLnhtbEZpbGVQYXRoXTtpZih0aGlzLm9wdHMuZmxhc2h2YXJzLnBhcmFtWE1MUGF0aCl7Y2hlY2sucHVzaCh0aGlzLm9wdHMuZmxhc2h2YXJzLnBhcmFtWE1MUGF0aCk7fTtmb3IodmFyIGk9MDtpPGNoZWNrLmxlbmd0aDtpKyspe3ZhciBfcz1jaGVja1tpXTt2YXIgX2NsZWFuPV9zLmNsZWFuV1dXKCk7aWYoX2NsZWFuLm1hdGNoKFJlZ0V4cCgnXicraG9zdENsZWFuKydcXC8nKSkpe19zPV9jbGVhbi5yZXBsYWNlKGhvc3RDbGVhbiwnJyk7fTtjaGVja1tpXT1fczt9O3RoaXMuaG9zdD1jaGVja1swXTt0aGlzLm9wdHMuYXR0cmlidXRlcy5zcmM9Y2hlY2tbMV07dGhpcy5vcHRzLmZsYXNodmFycy54bWxGaWxlUGF0aD1jaGVja1syXTtpZihjaGVjay5sZW5ndGg+Myl7dGhpcy5vcHRzLmZsYXNodmFycy5wYXJhbVhNTFBhdGg9Y2hlY2tbM107fTt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUuaXNNb2JpbGU9ZnVuY3Rpb24oKXtyZXR1cm4vaVBhZHxpUGhvbmV8aVBvZHxLaW5kbGVcXHNGaXJlfEFuZHJvaWRcXHNbMi05XVxcLlxcZC8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSE9PW51bGw7fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLmhhc0ZsYXNoPWZ1bmN0aW9uKCl7dmFyIHA9bmF2aWdhdG9yLnBsdWdpbnM7aWYocCYmcFsnU2hvY2t3YXZlIEZsYXNoJ10mJnBbJ1Nob2Nrd2F2ZSBGbGFzaCddLmRlc2NyaXB0aW9uKXtyZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gZmFsc2U7fTt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUucmVhZHk9ZnVuY3Rpb24oKXtpZih0eXBlb2YgdGhpcy5vcHRzLmF0dHJpYnV0ZXMub25SZWFkeT09J2Z1bmN0aW9uJyl7dGhpcy5vcHRzLmF0dHJpYnV0ZXMub25SZWFkeS5jYWxsKHRoaXMpO307dmFyIGV2cz1bJ2FsYnVtRGF0YScsJ2FsYnVtRW5kJywnYWxidW1TdGFydCcsJ2Rpc3BsYXlNb2RlJywnZ2FsbGVyeUNsb3NlZCcsJ2dhbGxlcnlDbG9zaW5nJywnZ2FsbGVyeURhdGEnLCdnYWxsZXJ5SGlkZGVuJywnZ2FsbGVyeUluZm8nLCdnYWxsZXJ5T3BlbicsJ2dhbGxlcnlPcGVuaW5nJywnZ2FsbGVyeVRvZ2dsZWQnLCdpbWFnZUFsaWduJywnaW1hZ2VDbGljaycsJ2ltYWdlRGF0YScsJ2ltYWdlRm9ybWF0JywnaW1hZ2VMb2FkJywnaW1hZ2VSb2xsT3V0JywnaW1hZ2VSb2xsT3ZlcicsJ2ltYWdlWm9uZScsJ25leHRJbWFnZScsJ25leHRJbWFnZUdyb3VwJywnbmV4dFNjcmVlbicsJ25ldFN0cmVhbVN0YXR1cycsJ3Blcm1hbGluaycsJ3ByZWxvYWRFbmQnLCdwcmVsb2FkSW5pdCcsJ3ByZWxvYWRQcm9ncmVzcycsJ3ByZXZJbWFnZScsJ3ByZXZJbWFnZUdyb3VwJywncHJldlNjcmVlbicsJ3RyYW5zRWZmZWN0U3RhcnQnLCd0cmFuc0VmZmVjdEVuZCcsJ3RyYW5zUGF1c2VTdGFydCcsJ3RyYW5zUGF1c2VFbmQnLCd2aWRlb0N1ZVBvaW50JywndmlkZW9FbmQnLCd2aWRlb01ldGFkYXRhJywndmlkZW9QYXVzZScsJ3ZpZGVvUGxheVJlbGVhc2UnLCd2aWRlb1ByZXZpZXdMb2FkJywndmlkZW9QcmV2aWV3UmVtb3ZlJywndmlkZW9SZXN1bWUnLCd2aWRlb1N0YXJ0JywndmlkZW9YTVBEYXRhJywneG1sRGF0YSddO2Zvcih2YXIgaSBpbiBldnMpe3RoaXMuYXBpLmFkZEV2ZW50TGlzdGVuZXIoZXZzW2ldLCdTbGlkZVNob3dQcm9SZWZzW1wiJyt0aGlzLm9wdHMuYXR0cmlidXRlcy5pZCsnXCJdLmFuc3dlcicpO307dmFyIGZucz1bJ2VudGVyRnVsbFNjcmVlbkRpc3BsYXlTdGF0ZScsJ2dldEFsYnVtRGF0YScsJ2dldEdhbGxlcnlEYXRhJywnaGFsdCcsJ2xvYWRBbGJ1bScsJ2xvYWRDb250ZW50JywnbXV0ZU1lZGlhJywnbmV4dEdhbGxlcnlTY3JlZW4nLCduZXh0SW1hZ2UnLCduZXh0SW1hZ2VHcm91cCcsJ3BhdXNlTWVkaWEnLCdwbGF5TWVkaWEnLCdwcmV2aW91c0dhbGxlcnlTY3JlZW4nLCdwcmV2aW91c0ltYWdlJywncHJldmlvdXNJbWFnZUdyb3VwJywncmVtb3ZlRXZlbnRMaXN0ZW5lcicsJ3NldE1lZGlhVm9sdW1lJywnc2V0U2l6ZScsJ3NldFN0YXJ0QWxidW0nLCd0b2dnbGVEaXNwbGF5TW9kZScsJ3RvZ2dsZUdhbGxlcnknLCd0b2dnbGVOYXYnLCd1bmxvYWRDb250ZW50JywndW5NdXRlTWVkaWEnXTtmb3IodmFyIGkgaW4gZm5zKXt2YXIgZXhlYz1cInRoaXMuXCIrZm5zW2ldK1wiID0gZnVuY3Rpb24oKSB7IHZhciBuID0gJ1wiK2Zuc1tpXStcIic7IHZhciBfc3RyID0gJyc7IGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkgeyB2YXIgX2EgPSBbXTsgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyBfYS5wdXNoKFxcXCInXFxcIiArIGFyZ3VtZW50c1tpXSArIFxcXCInXFxcIik7IH07IGlmIChuID09ICdsb2FkQWxidW0nICYmIF9hLmxlbmd0aCA9PSAxKSB7IF9hLnB1c2goMCk7IH07IF9zdHIgPSBfYS5qb2luKCcsJyk7IH07IGV2YWwoJ3RoaXMuYXBpLlwiK2Zuc1tpXStcIignICsgX3N0ciArICcpJyk7IH1cIjtldmFsKGV4ZWMpO319O1NsaWRlU2hvd1Byby5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihuYW1lLGZuKXtpZighdGhpcy5saXN0ZW5lcnNbbmFtZV0pe3RoaXMubGlzdGVuZXJzW25hbWVdPVtdO307dGhpcy5saXN0ZW5lcnNbbmFtZV0ucHVzaChmbik7fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLmVtYmVkPWZ1bmN0aW9uKCl7dmFyIGY9dGhpcy5vcHRzLmZsYXNodmFyc3x8e307dmFyIHA9dGhpcy5vcHRzLnBhcmFtc3x8e307dmFyIGE9dGhpcy5vcHRzLmF0dHJpYnV0ZXN8fHt9O3ZhciBzZWxmPXRoaXM7aWYodHlwZW9mIGZsYXNoUHV0SHJlZiE9PSdmdW5jdGlvbicpe2ZsYXNoUHV0SHJlZj1mdW5jdGlvbihocmVmKXtsb2NhdGlvbi5ocmVmPWhyZWY7fTt9O3N3Zm9iamVjdFNTUC5lbWJlZFNXRihhLnNyYyxhLmlkLGEud2lkdGgsYS5oZWlnaHQsXCIxMC4wLjBcIixmYWxzZSxmLHAsYSxmdW5jdGlvbihlKXtzZWxmLmVtYmVkQ2FsbGJhY2soZSk7fSk7fTtmdW5jdGlvbiBvblNsaWRlU2hvd1Byb1JlYWR5KGlkKXtTbGlkZVNob3dQcm9SZWZzW2lkXS5yZWFkeSgpO307U2xpZGVTaG93UHJvLnByb3RvdHlwZS5hbnN3ZXI9ZnVuY3Rpb24ob2JqKXtpZih0aGlzLmxpc3RlbmVyc1tvYmoubmFtZV0pe2Zvcih2YXIgaSBpbiB0aGlzLmxpc3RlbmVyc1tvYmoubmFtZV0pe3RoaXMubGlzdGVuZXJzW29iai5uYW1lXVtpXS5hcHBseSh0aGlzLFtvYmpdKTt9fX1cblNsaWRlU2hvd1Byby5wcm90b3R5cGUuZW1iZWRDYWxsYmFjaz1mdW5jdGlvbihlKXtpZihlLnN1Y2Nlc3Mpe3RoaXMuYXBpPWUucmVmO31lbHNle2lmKHRoaXMuaXNNb2JpbGUoKSl7dGhpcy5mYWxsYmFjaygpO31lbHNle3RoaXMudGFyZ2V0LmlubmVySFRNTD10aGlzLmZhbGxiYWNrVGV4dDt9fTtpZih0aGlzLm9wdHMuYXR0cmlidXRlcy5vbkVtYmVkKXt0aGlzLm9wdHMuYXR0cmlidXRlcy5vbkVtYmVkLmFwcGx5KHRoaXMsW2Uuc3VjY2Vzc10pO307cmV0dXJuIGUuc3VjY2Vzczt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUudmlkZW9GYWxsYmFjaz1mdW5jdGlvbigpe3ZhciBtaW1lcz17J21vdic6J3ZpZGVvL3F1aWNrdGltZScsJ21wNCc6J3ZpZGVvL21wNCcsJ200dic6J3ZpZGVvL3gtbTR2J307dmFyIHBhdGg9dGhpcy5vcHRzLmZsYXNodmFycy54bWxGaWxlUGF0aFxudmFyIGV4dD1wYXRoLnN1YnN0cihwYXRoLmxhc3RJbmRleE9mKCcuJykrMSxwYXRoLmxlbmd0aCk7aWYobWltZXNbZXh0XSl7dmFyIHZpZGVvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7aWYodHlwZW9mKHZpZGVvLmNhblBsYXlUeXBlKSE9PXVuZGVmaW5lZCYmdmlkZW8uY2FuUGxheVR5cGUobWltZXNbZXh0XSkhPScnKXt2aWRlby53aWR0aD10aGlzLm9wdHMuYXR0cmlidXRlcy53aWR0aDt2aWRlby5oZWlnaHQ9dGhpcy5vcHRzLmF0dHJpYnV0ZXMuaGVpZ2h0O3ZpZGVvLmNvbnRyb2xzPXRydWU7dmlkZW8uYXV0b3BsYXk9dHJ1ZTt2aWRlby5zcmM9cGF0aDt0aGlzLnRhcmdldC5hcHBlbmRDaGlsZCh2aWRlbyk7cmV0dXJuO307fTt0aGlzLnRhcmdldC5pbm5lckhUTUw9dGhpcy5mYWxsYmFja1RleHQ7fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLmU9ZnVuY3Rpb24oZWxlbWVudCxzdHlsZSxrbGFzcyl7aWYodHlwZW9mIGVsZW1lbnQ9PSdzdHJpbmcnKXtlbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbWVudCk7ZWxlbWVudC5zdHlsZS5mb250V2VpZ2h0PSdub3JtYWwnO2VsZW1lbnQuc3R5bGUudGV4dFRyYW5zZm9ybT0nbm9uZSc7ZWxlbWVudC5zdHlsZS50ZXh0QWxpZ249J2xlZnQnO2VsZW1lbnQuc3R5bGUuZmxvYXQ9J25vbmUnO2VsZW1lbnQuc3R5bGUubGluZUhlaWdodD0nMWVtJzt2YXIgemVyb3M9WydtYXJnaW4nLCdwYWRkaW5nJywnYm9yZGVyJ107Zm9yKHZhciBpPTA7aTx6ZXJvcy5sZW5ndGg7aSsrKXtlbGVtZW50LnN0eWxlW3plcm9zW2ldXT0nMHB4Jzt9O3ZhciBhdXRvcz1bJ3RvcCcsJ2xlZnQnLCdyaWdodCcsJ2JvdHRvbSddO2Zvcih2YXIgaT0wO2k8YXV0b3MubGVuZ3RoO2krKyl7ZWxlbWVudC5zdHlsZVthdXRvc1tpXV09J2F1dG8nO307fTtmb3IodmFyIGkgaW4gc3R5bGUpe2VsZW1lbnQuc3R5bGVbaV09c3R5bGVbaV07fTtlbGVtZW50LnN0eWxlLnpvb209MTtpZihrbGFzcyl7ZWxlbWVudC5jbGFzc05hbWU9a2xhc3M7fTtyZXR1cm4gZWxlbWVudDt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUuY29tcHV0ZVN0eWxlPWZ1bmN0aW9uKGUscCl7aWYocD09J3dpZHRoJyl7cmV0dXJuIGUub2Zmc2V0V2lkdGg7fWVsc2UgaWYocD09J2hlaWdodCcpe3JldHVybiBlLm9mZnNldEhlaWdodDt9ZWxzZXtpZihlLmN1cnJlbnRTdHlsZSl7cmV0dXJuIGUuY3VycmVudFN0eWxlW3BdO31lbHNlIGlmKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKXtyZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmdldFByb3BlcnR5VmFsdWUocCk7fWVsc2V7cmV0dXJuIGZhbHNlO307fTt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUuZmFsbGJhY2s9ZnVuY3Rpb24oKXtpZih0aGlzLm9wdHMuZmxhc2h2YXJzLnhtbEZpbGVUeXBlPT0nU2luZ2xlIENvbnRlbnQnKXt0aGlzLnZpZGVvRmFsbGJhY2soKTtyZXR1cm47fTtpZih0aGlzLm9wdHMubW9iaWxlLnhtbEZpbGVQYXRoKXt0aGlzLnBhcnNlWE1MUGF0aCh0aGlzLm9wdHMubW9iaWxlLnhtbEZpbGVQYXRoKTt9O3ZhciB3PXRoaXMub3B0cy5hdHRyaWJ1dGVzLndpZHRoO3ZhciBoPXRoaXMub3B0cy5hdHRyaWJ1dGVzLmhlaWdodDt2YXIgY29tcHV0ZVc9dHJ1ZSxjb21wdXRlSD10cnVlO2lmKCFpc05hTih3KSl7dys9J3B4Jztjb21wdXRlVz1mYWxzZTt9XG5pZighaXNOYU4oaCkpe2grPSdweCc7Y29tcHV0ZUg9ZmFsc2U7fVxudmFyIGNzcz17cG9zaXRpb246J3JlbGF0aXZlJyx3aWR0aDp3LGhlaWdodDpoLGJhY2tncm91bmRDb2xvcjp0aGlzLm9wdHMucGFyYW1zLmJnY29sb3Isb3ZlcmZsb3c6J2hpZGRlbid9O2lmKHRoaXMub3B0cy5tb2JpbGUubGlua1RvUGxheWVyKXtjc3MuY3Vyc29yPSdwb2ludGVyJzt9O3RoaXMuZSh0aGlzLnRhcmdldCxjc3MpO3ZhciBfdyxfaDtpZihjb21wdXRlVyl7X3c9cGFyc2VJbnQodGhpcy5jb21wdXRlU3R5bGUodGhpcy50YXJnZXQsJ3dpZHRoJyksMTApO31lbHNle193PXRoaXMub3B0cy5hdHRyaWJ1dGVzLndpZHRoO31cbmlmKGNvbXB1dGVIKXtfaD1wYXJzZUludCh0aGlzLmNvbXB1dGVTdHlsZSh0aGlzLnRhcmdldCwnaGVpZ2h0JykpO31lbHNle19oPXRoaXMub3B0cy5hdHRyaWJ1dGVzLmhlaWdodDt9O3RoaXMucmVhbEg9X2g7dGhpcy5yZWFsVz1fdzt2YXIgc2VsZj10aGlzO2lmKHRoaXMub3B0cy5tb2JpbGUubGlua1RvUGxheWVyKXt0aGlzLnRhcmdldC5vbmNsaWNrPWZ1bmN0aW9uKCl7aWYoc2VsZi5idHRuKXtzZWxmLmUoc2VsZi5idHRuLHtiYWNrZ3JvdW5kOicjMzMzJ30pO307dG9wLmxvY2F0aW9uLmhyZWY9c2VsZi5vdXRsaW5rO307fTtEaXJlY3RvckpTLnNldEhvc3QodGhpcy5ob3N0KTtpZih0aGlzLmNvbnRlbnRUeXBlPT0nYWxidW0nKXtEaXJlY3RvckpTLkZvcm1hdC5wcmV2aWV3KHt3aWR0aDoxMDAsaGVpZ2h0OjEwMCxzcXVhcmU6MX0pO0RpcmVjdG9ySlMuQWxidW0uZ2V0KHRoaXMuY29udGVudElkLGZ1bmN0aW9uKGRhdGEpe3NlbGYuc3RhcnREcmF3KGRhdGEpO30se3dpdGhfY29udGVudDpmYWxzZX0pO31lbHNle0RpcmVjdG9ySlMuR2FsbGVyeS5nZXQodGhpcy5jb250ZW50SWQsZnVuY3Rpb24oZGF0YSl7c2VsZi5zdGFydERyYXcoZGF0YSk7fSx7d2l0aF9jb250ZW50OmZhbHNlfSk7fTt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUuc3RhcnREcmF3PWZ1bmN0aW9uKGRhdGEpe2lmKHRoaXMuZm9ybU91dGxpbmsoZGF0YSkpe3JldHVybjt9O2lmKCFkYXRhLmRlc2NyaXB0aW9uKXtkYXRhLmRlc2NyaXB0aW9uPScnO307aWYodGhpcy5jdXN0b21Qb3N0ZXIpe3RoaXMuZSh0aGlzLmN1c3RvbVBvc3Rlcix7cG9zaXRpb246J2Fic29sdXRlJyx0b3A6JzBweCcsbGVmdDonMHB4Jyx3aWR0aDonMTAwJScsaGVpZ2h0OicxMDAlJ30pO3ZhciBfaHRtbD10aGlzLmN1c3RvbVBvc3Rlci5pbm5lckhUTUwucmVwbGFjZSgne3t0aXRsZX19JyxkYXRhLm5hbWUpLnJlcGxhY2UoJ3t7ZGVzY3JpcHRpb259fScsZGF0YS5kZXNjcmlwdGlvbikucmVwbGFjZSgne3ttb2JpbGVfbGlua319Jyx0aGlzLm91dGxpbmspO3RoaXMuY3VzdG9tUG9zdGVyLmlubmVySFRNTD1faHRtbDt0aGlzLnRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmN1c3RvbVBvc3Rlcik7fWVsc2V7dmFyIG1qcz10aGlzLmhvc3QrJy9tL3Bvc3RlcnMvJyt0aGlzLm9wdHMubW9iaWxlLnBvc3RlcisnLmpzJzt2YXIgaj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtqLnNyYz1tanM7ai5jaGFyc2V0PSd1dGYtOCc7dmFyIHNlbGY9dGhpcztqLm9ubG9hZD1mdW5jdGlvbigpe3NlbGYuZHJhd1Bvc3RlcihkYXRhKTt9O2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaik7fTt9O3ZhciBEaXJlY3RvckpTPXtyZXE6W10sdXNlclNjb3BlOnt9LGZvcm1hdHM6e30sc2VsZkhvc3RlZDp0cnVlLHNldEhvc3Q6ZnVuY3Rpb24oaCl7dGhpcy5ob3N0PWg7aWYodGhpcy5zZWxmSG9zdGVkKXt0aGlzLmhvc3QrPScvaW5kZXgucGhwPyc7fTt9LGluaXRSZXE6ZnVuY3Rpb24oc2FsdCl7dmFyIGtleT1zYWx0K01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDAwKTt0aGlzLnJlcVtrZXldPW5ldyBPYmplY3Q7dGhpcy5yZXFba2V5XS5wYXJhbXM9W107cmV0dXJuIHRoaXMucmVxW2tleV19LGNvbm46ZnVuY3Rpb24ocmVxKXtpZihyZXEpe3ZhciBoYW5kbGVyPXJlcS5hcGlNZXRob2QrTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMDAwKTtyZXEucGFyYW1zLnB1c2goJ2NhbGxiYWNrPScraGFuZGxlcik7Zm9yKGkgaW4gdGhpcy5mb3JtYXRzKXt2YXIgZj10aGlzLmZvcm1hdHNbaV07cmVxLnBhcmFtcy5wdXNoKCdzaXplWycraSsnXT0nK2YpO307aWYodGhpcy5wcmV2aWV3Rm9ybWF0KXtyZXEucGFyYW1zLnB1c2goJ3ByZXZpZXc9Jyt0aGlzLnByZXZpZXdGb3JtYXQpO307cmVxLnBhcmFtcz1yZXEucGFyYW1zLmpvaW4oJyYnKTt2YXIgcXM9Jz8nK3JlcS5wYXJhbXM7dmFyIHVybD10aGlzLmhvc3QrJy9hcGkvJytyZXEuYXBpTWV0aG9kK3FzO3ZhciBoZWFkPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07d2luZG93W2hhbmRsZXJdPWZ1bmN0aW9uKHJlc3BvbnNlKXtpZihyZXNwb25zZS5zdGF0PT0nZmFpbCcpe2lmKGNvbnNvbGUpe2NvbnNvbGUubG9nKCdTbGlkZVNob3dQcm8gQVBJIGVycm9yOiAnK3Jlc3BvbnNlLmVycm9yKTt9XG5yZXR1cm47fWVsc2V7cmVxLmNhbGxiYWNrLmFwcGx5KHRoaXMsW3Jlc3BvbnNlLmRhdGFdKTt9XG53aW5kb3dbaGFuZGxlcl09bnVsbDtoZWFkLnJlbW92ZUNoaWxkKHNjcmlwdCk7fTt2YXIgc2NyaXB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO3NjcmlwdC5zcmM9dXJsO3NjcmlwdC5jaGFyc2V0PSd1dGYtOCc7aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO307fSxGb3JtYXQ6e2FkZDpmdW5jdGlvbihvcHRpb25zKXt2YXIgZGVmYXVsdHM9e3NxdWFyZTowLHF1YWxpdHk6ODUsc2hhcnBlbmluZzoxfTtmb3IoaSBpbiBvcHRpb25zKXtkZWZhdWx0c1tpXT1vcHRpb25zW2ldO307RGlyZWN0b3JKUy5mb3JtYXRzW29wdGlvbnMubmFtZV09W2RlZmF1bHRzLm5hbWUsZGVmYXVsdHMud2lkdGgsZGVmYXVsdHMuaGVpZ2h0LGRlZmF1bHRzLnNxdWFyZSxkZWZhdWx0cy5xdWFsaXR5LGRlZmF1bHRzLnNoYXJwZW5pbmddLmpvaW4oJywnKTt9LHByZXZpZXc6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIGRlZmF1bHRzPXtzcXVhcmU6MCxxdWFsaXR5Ojg1LHNoYXJwZW5pbmc6MX07Zm9yKGkgaW4gb3B0aW9ucyl7ZGVmYXVsdHNbaV09b3B0aW9uc1tpXTt9O0RpcmVjdG9ySlMucHJldmlld0Zvcm1hdD1bZGVmYXVsdHMud2lkdGgsZGVmYXVsdHMuaGVpZ2h0LGRlZmF1bHRzLnNxdWFyZSxkZWZhdWx0cy5xdWFsaXR5LGRlZmF1bHRzLnNoYXJwZW5pbmddLmpvaW4oJywnKTt9fSxBbGJ1bTp7Z2V0OmZ1bmN0aW9uKGlkLGNhbGxiYWNrLG9wdGlvbnMpe3ZhciByZXE9RGlyZWN0b3JKUy5pbml0UmVxKCdhbGJ1bS5nZXQuJyk7dmFyIGRlZmF1bHRzPXtvbmx5X2FjdGl2ZToxfTtEaXJlY3RvckpTLnByZXBBbmRTZW5kT2JqcyhkZWZhdWx0cyxvcHRpb25zLHJlcSk7cmVxLmFwaU1ldGhvZD0nZ2V0X2FsYnVtJztyZXEuY2FsbGJhY2s9Y2FsbGJhY2s7cmVxLnBhcmFtcy5wdXNoKFwiYWxidW1faWQ9XCIraWQpO0RpcmVjdG9ySlMuY29ubihyZXEpO319LEdhbGxlcnk6e2dldDpmdW5jdGlvbihpZCxjYWxsYmFjayxvcHRpb25zKXt2YXIgcmVxPURpcmVjdG9ySlMuaW5pdFJlcSgnZ2FsbGVyeS5nZXQuJyk7dmFyIGRlZmF1bHRzPXtsaW1pdDpudWxsLG9yZGVyOidkaXNwbGF5Jyx3aXRoX2NvbnRlbnQ6dHJ1ZX07RGlyZWN0b3JKUy5wcmVwQW5kU2VuZE9ianMoZGVmYXVsdHMsb3B0aW9ucyxyZXEpO3JlcS5hcGlNZXRob2Q9J2dldF9nYWxsZXJ5JztyZXEuY2FsbGJhY2s9Y2FsbGJhY2s7cmVxLnBhcmFtcy5wdXNoKFwiZ2FsbGVyeV9pZD1cIitpZCk7RGlyZWN0b3JKUy5jb25uKHJlcSk7fX0scHJlcEFuZFNlbmRPYmpzOmZ1bmN0aW9uKG9iajEsb2JqMixyZXEpe2lmKHR5cGVvZiBvYmoyPT0nb2JqZWN0Jyl7aWYodHlwZW9mIG9iajIudGFncz09J29iamVjdCcpe3ZhciB0bXA9e307dmFyIHRhZ3M9b2JqMi50YWdzWzBdO2lmKG9iajIudGFnc1sxXT09J2FsbCcpe3ZhciBhbGw9MTt9ZWxzZXt2YXIgYWxsPTA7fTtvYmoyLnRhZ3M9dGFncztvYmoyLnRhZ3NfZXhjbHVzaXZlPWFsbDt9O2lmKHR5cGVvZiBvYmoyLnNjb3BlPT0nb2JqZWN0Jyl7dmFyIHRtcD17fTt2YXIgc2NvcGU9b2JqMi5zY29wZVswXTt2YXIgc2NvcGVfaWQ9b2JqMi5zY29wZVsxXTtvYmoyLnNjb3BlPXNjb3BlO29iajIuc2NvcGVfaWQ9c2NvcGVfaWQ7fTtmb3IoaSBpbiBvYmoyKXtvYmoxW2ldPW9iajJbaV07fTt9O2ZvcihpIGluIG9iajEpe2lmKGk9PSdzb3J0X29uJyYmb2JqMVtpXT09J3JhbmRvbScpe3JlcS5wYXJhbXMucHVzaCgnYnVzdGVyPScrU3RyaW5nKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSoxMCkpKTt9O2lmKFN0cmluZyhvYmoxW2ldKT09J3RydWUnfHxTdHJpbmcob2JqMVtpXSk9PSdmYWxzZScpe29iajFbaV09TnVtYmVyKG9iajFbaV0pO307cmVxLnBhcmFtcy5wdXNoKGkrJz0nK29iajFbaV0pO307fX07U2xpZGVTaG93UHJvLnByb3RvdHlwZS5kcmF3UHJldmlldz1mdW5jdGlvbihoLGRhdGEsdG9wKXt0b3A9dG9wfHwwO3ZhciBzZWxmPXRoaXM7aWYodGhpcy5jb250ZW50VHlwZT09J2FsYnVtJyl7RGlyZWN0b3JKUy5Gb3JtYXQucHJldmlldyh7d2lkdGg6TnVtYmVyKHRoaXMucmVhbFcpLGhlaWdodDpOdW1iZXIoaCksc3F1YXJlOjF9KTtEaXJlY3RvckpTLkFsYnVtLmdldCh0aGlzLmNvbnRlbnRJZCxmdW5jdGlvbihkYXRhKXt2YXIgdz1zZWxmLnJlYWxXLGxlZnQ9MCxhc3BlY3Q9ZGF0YS5wcmV2aWV3LndpZHRoL2RhdGEucHJldmlldy5oZWlnaHQ7aWYoZGF0YS5wcmV2aWV3LndpZHRoPHNlbGYucmVhbFcpe3c9ZGF0YS5wcmV2aWV3LndpZHRoO2xlZnQ9KHNlbGYucmVhbFctdykvMjtoPXcvYXNwZWN0O307aWYoZGF0YS5wcmV2aWV3LmhlaWdodDxoKXt0b3ArPShoLWRhdGEucHJldmlldy5oZWlnaHQpLzI7aD1kYXRhLnByZXZpZXcuaGVpZ2h0O3c9YXNwZWN0Kmg7fTt2YXIgaW1nPXNlbGYuZSgnaW1nJyx7d2lkdGg6dysncHgnLGhlaWdodDpoKydweCcscG9zaXRpb246J2Fic29sdXRlJyx0b3A6dG9wKydweCcsbGVmdDpsZWZ0KydweCcsekluZGV4OjEsb3BhY2l0eTowLHdlYmtpdFRyYW5zaXRpb246J29wYWNpdHkgNzUwbXMgNTAwbXMnfSk7aW1nLm9ubG9hZD1mdW5jdGlvbigpe3NlbGYuZSh0aGlzLHtvcGFjaXR5OjF9KTt9O3NlbGYudGFyZ2V0LmFwcGVuZENoaWxkKGltZyk7aW1nLnNyYz1kYXRhLnByZXZpZXcudXJsO30se3dpdGhfY29udGVudDpmYWxzZX0pO31lbHNle3ZhciBjPWRhdGEuYWxidW1zLmxlbmd0aDt2YXIgZD00O2lmKGM8NCl7ZD1jO31lbHNlIGlmKGMlND09MSl7ZD0zO307dmFyIF93PXNlbGYucmVhbFc7dmFyIF9oPXNlbGYucmVhbEg7dmFyIHJvd3M9TWF0aC5taW4oTWF0aC5jZWlsKGMvZCksTWF0aC5mbG9vcihfaC8oX3cvZCkpKTtyb3dzPU1hdGgubWF4KHJvd3MsMSk7dGhpcy5nYWxsZXJ5SD1NYXRoLmNlaWwoaC9yb3dzKTt0aGlzLmdhbGxlcnlXPU1hdGguY2VpbChfdy9kKTtEaXJlY3RvckpTLkZvcm1hdC5wcmV2aWV3KHt3aWR0aDpzZWxmLmdhbGxlcnlXLGhlaWdodDpzZWxmLmdhbGxlcnlILHNxdWFyZToxfSk7RGlyZWN0b3JKUy5HYWxsZXJ5LmdldCh0aGlzLmNvbnRlbnRJZCxmdW5jdGlvbihkYXRhKXt2YXIgd3JhcD1zZWxmLmUoJ2Rpdicse3Bvc2l0aW9uOidhYnNvbHV0ZScsdG9wOicwcHgnLGxlZnQ6JzBweCcsaGVpZ2h0OmgrJ3B4Jyx3aWR0aDonMTAwJSd9KTtzZWxmLnRhcmdldC5hcHBlbmRDaGlsZCh3cmFwKTt2YXIgcm93PTAscG9zPTA7Zm9yKGkgaW4gZGF0YS5hbGJ1bXMpe3ZhciBhPWRhdGEuYWxidW1zW2ldO2lmKGEucHJldmlldyl7dmFyIGw9cG9zKnNlbGYuZ2FsbGVyeVc7aWYobD49c2VsZi5yZWFsVyl7bD0wO3JvdysrO3Bvcz0wO307dmFyIGltZz1zZWxmLmUoJ2ltZycse3Bvc2l0aW9uOidhYnNvbHV0ZScsdG9wOnRvcCsocm93KnNlbGYuZ2FsbGVyeUgpKydweCcsbGVmdDpsKydweCcsd2lkdGg6c2VsZi5nYWxsZXJ5VysncHgnLGhlaWdodDpzZWxmLmdhbGxlcnlIKydweCcsb3BhY2l0eTowLHdlYmtpdFRyYW5zaXRpb246J29wYWNpdHkgNzUwbXMgNTAwbXMnfSk7aW1nLm9ubG9hZD1mdW5jdGlvbigpe3NlbGYuZSh0aGlzLHtvcGFjaXR5OjF9KTt9O3dyYXAuYXBwZW5kQ2hpbGQoaW1nKTtpbWcuc3JjPWEucHJldmlldy51cmw7cG9zKys7fTt9O30se3dpdGhfY29udGVudDpmYWxzZSxsaW1pdDpkKnJvd3N9KTt9fTtzd2ZvYmplY3RTU1A9ZnVuY3Rpb24oKXt2YXIgRD1cInVuZGVmaW5lZFwiLHI9XCJvYmplY3RcIixTPVwiU2hvY2t3YXZlIEZsYXNoXCIsVz1cIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoXCIscT1cImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCIsUj1cIlNXRk9iamVjdEV4cHJJbnN0XCIseD1cIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLE89d2luZG93LGo9ZG9jdW1lbnQsdD1uYXZpZ2F0b3IsVD1mYWxzZSxVPVtoXSxvPVtdLE49W10sST1bXSxsLFEsRSxCLEo9ZmFsc2UsYT1mYWxzZSxuLEcsbT10cnVlLE09ZnVuY3Rpb24oKXt2YXIgYWE9dHlwZW9mIGouZ2V0RWxlbWVudEJ5SWQhPUQmJnR5cGVvZiBqLmdldEVsZW1lbnRzQnlUYWdOYW1lIT1EJiZ0eXBlb2Ygai5jcmVhdGVFbGVtZW50IT1ELGFoPXQudXNlckFnZW50LnRvTG93ZXJDYXNlKCksWT10LnBsYXRmb3JtLnRvTG93ZXJDYXNlKCksYWU9WT8vd2luLy50ZXN0KFkpOi93aW4vLnRlc3QoYWgpLGFjPVk/L21hYy8udGVzdChZKTovbWFjLy50ZXN0KGFoKSxhZj0vd2Via2l0Ly50ZXN0KGFoKT9wYXJzZUZsb2F0KGFoLnJlcGxhY2UoL14uKndlYmtpdFxcLyhcXGQrKFxcLlxcZCspPykuKiQvLFwiJDFcIikpOmZhbHNlLFg9IStcIlxcdjFcIixhZz1bMCwwLDBdLGFiPW51bGw7aWYodHlwZW9mIHQucGx1Z2lucyE9RCYmdHlwZW9mIHQucGx1Z2luc1tTXT09cil7YWI9dC5wbHVnaW5zW1NdLmRlc2NyaXB0aW9uO2lmKGFiJiYhKHR5cGVvZiB0Lm1pbWVUeXBlcyE9RCYmdC5taW1lVHlwZXNbcV0mJiF0Lm1pbWVUeXBlc1txXS5lbmFibGVkUGx1Z2luKSl7VD10cnVlO1g9ZmFsc2U7YWI9YWIucmVwbGFjZSgvXi4qXFxzKyhcXFMrXFxzK1xcUyskKS8sXCIkMVwiKTthZ1swXT1wYXJzZUludChhYi5yZXBsYWNlKC9eKC4qKVxcLi4qJC8sXCIkMVwiKSwxMCk7YWdbMV09cGFyc2VJbnQoYWIucmVwbGFjZSgvXi4qXFwuKC4qKVxccy4qJC8sXCIkMVwiKSwxMCk7YWdbMl09L1thLXpBLVpdLy50ZXN0KGFiKT9wYXJzZUludChhYi5yZXBsYWNlKC9eLipbYS16QS1aXSsoLiopJC8sXCIkMVwiKSwxMCk6MH19ZWxzZXtpZih0eXBlb2YgTy5BY3RpdmVYT2JqZWN0IT1EKXt0cnl7dmFyIGFkPW5ldyBBY3RpdmVYT2JqZWN0KFcpO2lmKGFkKXthYj1hZC5HZXRWYXJpYWJsZShcIiR2ZXJzaW9uXCIpO2lmKGFiKXtYPXRydWU7YWI9YWIuc3BsaXQoXCIgXCIpWzFdLnNwbGl0KFwiLFwiKTthZz1bcGFyc2VJbnQoYWJbMF0sMTApLHBhcnNlSW50KGFiWzFdLDEwKSxwYXJzZUludChhYlsyXSwxMCldfX19Y2F0Y2goWil7fX19cmV0dXJue3czOmFhLHB2OmFnLHdrOmFmLGllOlgsd2luOmFlLG1hYzphY319KCksaz1mdW5jdGlvbigpe2lmKCFNLnczKXtyZXR1cm59aWYoKHR5cGVvZiBqLnJlYWR5U3RhdGUhPUQmJmoucmVhZHlTdGF0ZT09XCJjb21wbGV0ZVwiKXx8KHR5cGVvZiBqLnJlYWR5U3RhdGU9PUQmJihqLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXXx8ai5ib2R5KSkpe2YoKX1pZighSil7aWYodHlwZW9mIGouYWRkRXZlbnRMaXN0ZW5lciE9RCl7ai5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGYsZmFsc2UpfWlmKE0uaWUmJk0ud2luKXtqLmF0dGFjaEV2ZW50KHgsZnVuY3Rpb24oKXtpZihqLnJlYWR5U3RhdGU9PVwiY29tcGxldGVcIil7ai5kZXRhY2hFdmVudCh4LGFyZ3VtZW50cy5jYWxsZWUpO2YoKX19KTtpZihPPT10b3ApeyhmdW5jdGlvbigpe2lmKEope3JldHVybn10cnl7ai5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoXCJsZWZ0XCIpfWNhdGNoKFgpe3NldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwwKTtyZXR1cm59ZigpfSkoKX19aWYoTS53ayl7KGZ1bmN0aW9uKCl7aWYoSil7cmV0dXJufWlmKCEvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGoucmVhZHlTdGF0ZSkpe3NldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwwKTtyZXR1cm59ZigpfSkoKX1zKGYpfX0oKTtmdW5jdGlvbiBmKCl7aWYoSil7cmV0dXJufXRyeXt2YXIgWj1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXS5hcHBlbmRDaGlsZChDKFwic3BhblwiKSk7Wi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKFopfWNhdGNoKGFhKXtyZXR1cm59Sj10cnVlO3ZhciBYPVUubGVuZ3RoO2Zvcih2YXIgWT0wO1k8WDtZKyspe1VbWV0oKX19ZnVuY3Rpb24gSyhYKXtpZihKKXtYKCl9ZWxzZXtVW1UubGVuZ3RoXT1YfX1mdW5jdGlvbiBzKFkpe2lmKHR5cGVvZiBPLmFkZEV2ZW50TGlzdGVuZXIhPUQpe08uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixZLGZhbHNlKX1lbHNle2lmKHR5cGVvZiBqLmFkZEV2ZW50TGlzdGVuZXIhPUQpe2ouYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixZLGZhbHNlKX1lbHNle2lmKHR5cGVvZiBPLmF0dGFjaEV2ZW50IT1EKXtpKE8sXCJvbmxvYWRcIixZKX1lbHNle2lmKHR5cGVvZiBPLm9ubG9hZD09XCJmdW5jdGlvblwiKXt2YXIgWD1PLm9ubG9hZDtPLm9ubG9hZD1mdW5jdGlvbigpe1goKTtZKCl9fWVsc2V7Ty5vbmxvYWQ9WX19fX19ZnVuY3Rpb24gaCgpe2lmKFQpe1YoKX1lbHNle0goKX19ZnVuY3Rpb24gVigpe3ZhciBYPWouZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO3ZhciBhYT1DKHIpO2FhLnNldEF0dHJpYnV0ZShcInR5cGVcIixxKTt2YXIgWj1YLmFwcGVuZENoaWxkKGFhKTtpZihaKXt2YXIgWT0wOyhmdW5jdGlvbigpe2lmKHR5cGVvZiBaLkdldFZhcmlhYmxlIT1EKXt2YXIgYWI9Wi5HZXRWYXJpYWJsZShcIiR2ZXJzaW9uXCIpO2lmKGFiKXthYj1hYi5zcGxpdChcIiBcIilbMV0uc3BsaXQoXCIsXCIpO00ucHY9W3BhcnNlSW50KGFiWzBdLDEwKSxwYXJzZUludChhYlsxXSwxMCkscGFyc2VJbnQoYWJbMl0sMTApXX19ZWxzZXtpZihZPDEwKXtZKys7c2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLDEwKTtyZXR1cm59fVgucmVtb3ZlQ2hpbGQoYWEpO1o9bnVsbDtIKCl9KSgpfWVsc2V7SCgpfX1mdW5jdGlvbiBIKCl7dmFyIGFnPW8ubGVuZ3RoO2lmKGFnPjApe2Zvcih2YXIgYWY9MDthZjxhZzthZisrKXt2YXIgWT1vW2FmXS5pZDt2YXIgYWI9b1thZl0uY2FsbGJhY2tGbjt2YXIgYWE9e3N1Y2Nlc3M6ZmFsc2UsaWQ6WX07aWYoTS5wdlswXT4wKXt2YXIgYWU9YyhZKTtpZihhZSl7aWYoRihvW2FmXS5zd2ZWZXJzaW9uKSYmIShNLndrJiZNLndrPDMxMikpe3coWSx0cnVlKTtpZihhYil7YWEuc3VjY2Vzcz10cnVlO2FhLnJlZj16KFkpO2FiKGFhKX19ZWxzZXtpZihvW2FmXS5leHByZXNzSW5zdGFsbCYmQSgpKXt2YXIgYWk9e307YWkuZGF0YT1vW2FmXS5leHByZXNzSW5zdGFsbDthaS53aWR0aD1hZS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKXx8XCIwXCI7YWkuaGVpZ2h0PWFlLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKXx8XCIwXCI7aWYoYWUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpe2FpLnN0eWxlY2xhc3M9YWUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil9aWYoYWUuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIikpe2FpLmFsaWduPWFlLmdldEF0dHJpYnV0ZShcImFsaWduXCIpfXZhciBhaD17fTt2YXIgWD1hZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcmFtXCIpO3ZhciBhYz1YLmxlbmd0aDtmb3IodmFyIGFkPTA7YWQ8YWM7YWQrKyl7aWYoWFthZF0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKS50b0xvd2VyQ2FzZSgpIT1cIm1vdmllXCIpe2FoW1hbYWRdLmdldEF0dHJpYnV0ZShcIm5hbWVcIildPVhbYWRdLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfX1QKGFpLGFoLFksYWIpfWVsc2V7cChhZSk7aWYoYWIpe2FiKGFhKX19fX19ZWxzZXt3KFksdHJ1ZSk7aWYoYWIpe3ZhciBaPXooWSk7aWYoWiYmdHlwZW9mIFouU2V0VmFyaWFibGUhPUQpe2FhLnN1Y2Nlc3M9dHJ1ZTthYS5yZWY9Wn1hYihhYSl9fX19fWZ1bmN0aW9uIHooYWEpe3ZhciBYPW51bGw7dmFyIFk9YyhhYSk7aWYoWSYmWS5ub2RlTmFtZT09XCJPQkpFQ1RcIil7aWYodHlwZW9mIFkuU2V0VmFyaWFibGUhPUQpe1g9WX1lbHNle3ZhciBaPVkuZ2V0RWxlbWVudHNCeVRhZ05hbWUocilbMF07aWYoWil7WD1afX19cmV0dXJuIFh9ZnVuY3Rpb24gQSgpe3JldHVybiFhJiZGKFwiNi4wLjY1XCIpJiYoTS53aW58fE0ubWFjKSYmIShNLndrJiZNLndrPDMxMil9ZnVuY3Rpb24gUChhYSxhYixYLFope2E9dHJ1ZTtFPVp8fG51bGw7Qj17c3VjY2VzczpmYWxzZSxpZDpYfTt2YXIgYWU9YyhYKTtpZihhZSl7aWYoYWUubm9kZU5hbWU9PVwiT0JKRUNUXCIpe2w9ZyhhZSk7UT1udWxsfWVsc2V7bD1hZTtRPVh9YWEuaWQ9UjtpZih0eXBlb2YgYWEud2lkdGg9PUR8fCghLyUkLy50ZXN0KGFhLndpZHRoKSYmcGFyc2VJbnQoYWEud2lkdGgsMTApPDMxMCkpe2FhLndpZHRoPVwiMzEwXCJ9aWYodHlwZW9mIGFhLmhlaWdodD09RHx8KCEvJSQvLnRlc3QoYWEuaGVpZ2h0KSYmcGFyc2VJbnQoYWEuaGVpZ2h0LDEwKTwxMzcpKXthYS5oZWlnaHQ9XCIxMzdcIn1qLnRpdGxlPWoudGl0bGUuc2xpY2UoMCw0NykrXCIgLSBGbGFzaCBQbGF5ZXIgSW5zdGFsbGF0aW9uXCI7dmFyIGFkPU0uaWUmJk0ud2luP1wiQWN0aXZlWFwiOlwiUGx1Z0luXCIsYWM9XCJNTXJlZGlyZWN0VVJMPVwiK08ubG9jYXRpb24udG9TdHJpbmcoKS5yZXBsYWNlKC8mL2csXCIlMjZcIikrXCImTU1wbGF5ZXJUeXBlPVwiK2FkK1wiJk1NZG9jdGl0bGU9XCIrai50aXRsZTtpZih0eXBlb2YgYWIuZmxhc2h2YXJzIT1EKXthYi5mbGFzaHZhcnMrPVwiJlwiK2FjfWVsc2V7YWIuZmxhc2h2YXJzPWFjfWlmKE0uaWUmJk0ud2luJiZhZS5yZWFkeVN0YXRlIT00KXt2YXIgWT1DKFwiZGl2XCIpO1grPVwiU1dGT2JqZWN0TmV3XCI7WS5zZXRBdHRyaWJ1dGUoXCJpZFwiLFgpO2FlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFksYWUpO2FlLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7KGZ1bmN0aW9uKCl7aWYoYWUucmVhZHlTdGF0ZT09NCl7YWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhZSl9ZWxzZXtzZXRUaW1lb3V0KGFyZ3VtZW50cy5jYWxsZWUsMTApfX0pKCl9dShhYSxhYixYKX19ZnVuY3Rpb24gcChZKXtpZihNLmllJiZNLndpbiYmWS5yZWFkeVN0YXRlIT00KXt2YXIgWD1DKFwiZGl2XCIpO1kucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoWCxZKTtYLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGcoWSksWCk7WS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOyhmdW5jdGlvbigpe2lmKFkucmVhZHlTdGF0ZT09NCl7WS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKFkpfWVsc2V7c2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLDEwKX19KSgpfWVsc2V7WS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChnKFkpLFkpfX1mdW5jdGlvbiBnKGFiKXt2YXIgYWE9QyhcImRpdlwiKTtpZihNLndpbiYmTS5pZSl7YWEuaW5uZXJIVE1MPWFiLmlubmVySFRNTH1lbHNle3ZhciBZPWFiLmdldEVsZW1lbnRzQnlUYWdOYW1lKHIpWzBdO2lmKFkpe3ZhciBhZD1ZLmNoaWxkTm9kZXM7aWYoYWQpe3ZhciBYPWFkLmxlbmd0aDtmb3IodmFyIFo9MDtaPFg7WisrKXtpZighKGFkW1pdLm5vZGVUeXBlPT0xJiZhZFtaXS5ub2RlTmFtZT09XCJQQVJBTVwiKSYmIShhZFtaXS5ub2RlVHlwZT09OCkpe2FhLmFwcGVuZENoaWxkKGFkW1pdLmNsb25lTm9kZSh0cnVlKSl9fX19fXJldHVybiBhYX1mdW5jdGlvbiB1KGFpLGFnLFkpe3ZhciBYLGFhPWMoWSk7aWYoTS53ayYmTS53azwzMTIpe3JldHVybiBYfWlmKGFhKXtpZih0eXBlb2YgYWkuaWQ9PUQpe2FpLmlkPVl9aWYoTS5pZSYmTS53aW4pe3ZhciBhaD1cIlwiO2Zvcih2YXIgYWUgaW4gYWkpe2lmKGFpW2FlXSE9T2JqZWN0LnByb3RvdHlwZVthZV0pe2lmKGFlLnRvTG93ZXJDYXNlKCk9PVwiZGF0YVwiKXthZy5tb3ZpZT1haVthZV19ZWxzZXtpZihhZS50b0xvd2VyQ2FzZSgpPT1cInN0eWxlY2xhc3NcIil7YWgrPScgY2xhc3M9XCInK2FpW2FlXSsnXCInfWVsc2V7aWYoYWUudG9Mb3dlckNhc2UoKSE9XCJjbGFzc2lkXCIpe2FoKz1cIiBcIithZSsnPVwiJythaVthZV0rJ1wiJ319fX19dmFyIGFmPVwiXCI7Zm9yKHZhciBhZCBpbiBhZyl7aWYoYWdbYWRdIT1PYmplY3QucHJvdG90eXBlW2FkXSl7YWYrPSc8cGFyYW0gbmFtZT1cIicrYWQrJ1wiIHZhbHVlPVwiJythZ1thZF0rJ1wiIC8+J319YWEub3V0ZXJIVE1MPSc8b2JqZWN0IGNsYXNzaWQ9XCJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDBcIicrYWgrXCI+XCIrYWYrXCI8L29iamVjdD5cIjtOW04ubGVuZ3RoXT1haS5pZDtYPWMoYWkuaWQpfWVsc2V7dmFyIFo9QyhyKTtaLnNldEF0dHJpYnV0ZShcInR5cGVcIixxKTtmb3IodmFyIGFjIGluIGFpKXtpZihhaVthY10hPU9iamVjdC5wcm90b3R5cGVbYWNdKXtpZihhYy50b0xvd2VyQ2FzZSgpPT1cInN0eWxlY2xhc3NcIil7Wi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGFpW2FjXSl9ZWxzZXtpZihhYy50b0xvd2VyQ2FzZSgpIT1cImNsYXNzaWRcIil7Wi5zZXRBdHRyaWJ1dGUoYWMsYWlbYWNdKX19fX1mb3IodmFyIGFiIGluIGFnKXtpZihhZ1thYl0hPU9iamVjdC5wcm90b3R5cGVbYWJdJiZhYi50b0xvd2VyQ2FzZSgpIT1cIm1vdmllXCIpe2UoWixhYixhZ1thYl0pfX1hYS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChaLGFhKTtYPVp9fXJldHVybiBYfWZ1bmN0aW9uIGUoWixYLFkpe3ZhciBhYT1DKFwicGFyYW1cIik7YWEuc2V0QXR0cmlidXRlKFwibmFtZVwiLFgpO2FhLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsWSk7Wi5hcHBlbmRDaGlsZChhYSl9ZnVuY3Rpb24geShZKXt2YXIgWD1jKFkpO2lmKFgmJlgubm9kZU5hbWU9PVwiT0JKRUNUXCIpe2lmKE0uaWUmJk0ud2luKXtYLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7KGZ1bmN0aW9uKCl7aWYoWC5yZWFkeVN0YXRlPT00KXtiKFkpfWVsc2V7c2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLDEwKX19KSgpfWVsc2V7WC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKFgpfX19ZnVuY3Rpb24gYihaKXt2YXIgWT1jKFopO2lmKFkpe2Zvcih2YXIgWCBpbiBZKXtpZih0eXBlb2YgWVtYXT09XCJmdW5jdGlvblwiKXtZW1hdPW51bGx9fVkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChZKX19ZnVuY3Rpb24gYyhaKXt2YXIgWD1udWxsO3RyeXtYPWouZ2V0RWxlbWVudEJ5SWQoWil9Y2F0Y2goWSl7fXJldHVybiBYfWZ1bmN0aW9uIEMoWCl7cmV0dXJuIGouY3JlYXRlRWxlbWVudChYKX1mdW5jdGlvbiBpKFosWCxZKXtaLmF0dGFjaEV2ZW50KFgsWSk7SVtJLmxlbmd0aF09W1osWCxZXX1mdW5jdGlvbiBGKFope3ZhciBZPU0ucHYsWD1aLnNwbGl0KFwiLlwiKTtYWzBdPXBhcnNlSW50KFhbMF0sMTApO1hbMV09cGFyc2VJbnQoWFsxXSwxMCl8fDA7WFsyXT1wYXJzZUludChYWzJdLDEwKXx8MDtyZXR1cm4oWVswXT5YWzBdfHwoWVswXT09WFswXSYmWVsxXT5YWzFdKXx8KFlbMF09PVhbMF0mJllbMV09PVhbMV0mJllbMl0+PVhbMl0pKT90cnVlOmZhbHNlfWZ1bmN0aW9uIHYoYWMsWSxhZCxhYil7aWYoTS5pZSYmTS5tYWMpe3JldHVybn12YXIgYWE9ai5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07aWYoIWFhKXtyZXR1cm59dmFyIFg9KGFkJiZ0eXBlb2YgYWQ9PVwic3RyaW5nXCIpP2FkOlwic2NyZWVuXCI7aWYoYWIpe249bnVsbDtHPW51bGx9aWYoIW58fEchPVgpe3ZhciBaPUMoXCJzdHlsZVwiKTtaLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInRleHQvY3NzXCIpO1ouc2V0QXR0cmlidXRlKFwibWVkaWFcIixYKTtuPWFhLmFwcGVuZENoaWxkKFopO2lmKE0uaWUmJk0ud2luJiZ0eXBlb2Ygai5zdHlsZVNoZWV0cyE9RCYmai5zdHlsZVNoZWV0cy5sZW5ndGg+MCl7bj1qLnN0eWxlU2hlZXRzW2ouc3R5bGVTaGVldHMubGVuZ3RoLTFdfUc9WH1pZihNLmllJiZNLndpbil7aWYobiYmdHlwZW9mIG4uYWRkUnVsZT09cil7bi5hZGRSdWxlKGFjLFkpfX1lbHNle2lmKG4mJnR5cGVvZiBqLmNyZWF0ZVRleHROb2RlIT1EKXtuLmFwcGVuZENoaWxkKGouY3JlYXRlVGV4dE5vZGUoYWMrXCIge1wiK1krXCJ9XCIpKX19fWZ1bmN0aW9uIHcoWixYKXtpZighbSl7cmV0dXJufXZhciBZPVg/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIjtpZihKJiZjKFopKXtjKFopLnN0eWxlLnZpc2liaWxpdHk9WX1lbHNle3YoXCIjXCIrWixcInZpc2liaWxpdHk6XCIrWSl9fWZ1bmN0aW9uIEwoWSl7dmFyIFo9L1tcXFxcXFxcIjw+XFwuO10vO3ZhciBYPVouZXhlYyhZKSE9bnVsbDtyZXR1cm4gWCYmdHlwZW9mIGVuY29kZVVSSUNvbXBvbmVudCE9RD9lbmNvZGVVUklDb21wb25lbnQoWSk6WX12YXIgZD1mdW5jdGlvbigpe2lmKE0uaWUmJk0ud2luKXt3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGFjPUkubGVuZ3RoO2Zvcih2YXIgYWI9MDthYjxhYzthYisrKXtJW2FiXVswXS5kZXRhY2hFdmVudChJW2FiXVsxXSxJW2FiXVsyXSl9dmFyIFo9Ti5sZW5ndGg7Zm9yKHZhciBhYT0wO2FhPFo7YWErKyl7eShOW2FhXSl9Zm9yKHZhciBZIGluIE0pe01bWV09bnVsbH1NPW51bGw7Zm9yKHZhciBYIGluIHN3Zm9iamVjdFNTUCl7c3dmb2JqZWN0U1NQW1hdPW51bGx9c3dmb2JqZWN0U1NQPW51bGx9KX19KCk7cmV0dXJue3JlZ2lzdGVyT2JqZWN0OmZ1bmN0aW9uKGFiLFgsYWEsWil7aWYoTS53MyYmYWImJlgpe3ZhciBZPXt9O1kuaWQ9YWI7WS5zd2ZWZXJzaW9uPVg7WS5leHByZXNzSW5zdGFsbD1hYTtZLmNhbGxiYWNrRm49WjtvW28ubGVuZ3RoXT1ZO3coYWIsZmFsc2UpfWVsc2V7aWYoWil7Wih7c3VjY2VzczpmYWxzZSxpZDphYn0pfX19LGdldE9iamVjdEJ5SWQ6ZnVuY3Rpb24oWCl7aWYoTS53Myl7cmV0dXJuIHooWCl9fSxlbWJlZFNXRjpmdW5jdGlvbihhYixhaCxhZSxhZyxZLGFhLFosYWQsYWYsYWMpe3ZhciBYPXtzdWNjZXNzOmZhbHNlLGlkOmFofTtpZihNLnczJiYhKE0ud2smJk0ud2s8MzEyKSYmYWImJmFoJiZhZSYmYWcmJlkpe3coYWgsZmFsc2UpO0soZnVuY3Rpb24oKXthZSs9XCJcIjthZys9XCJcIjt2YXIgYWo9e307aWYoYWYmJnR5cGVvZiBhZj09PXIpe2Zvcih2YXIgYWwgaW4gYWYpe2FqW2FsXT1hZlthbF19fWFqLmRhdGE9YWI7YWoud2lkdGg9YWU7YWouaGVpZ2h0PWFnO3ZhciBhbT17fTtpZihhZCYmdHlwZW9mIGFkPT09cil7Zm9yKHZhciBhayBpbiBhZCl7YW1bYWtdPWFkW2FrXX19aWYoWiYmdHlwZW9mIFo9PT1yKXtmb3IodmFyIGFpIGluIFope2lmKHR5cGVvZiBhbS5mbGFzaHZhcnMhPUQpe2FtLmZsYXNodmFycys9XCImXCIrYWkrXCI9XCIrWlthaV19ZWxzZXthbS5mbGFzaHZhcnM9YWkrXCI9XCIrWlthaV19fX1pZihGKFkpKXt2YXIgYW49dShhaixhbSxhaCk7aWYoYWouaWQ9PWFoKXt3KGFoLHRydWUpfVguc3VjY2Vzcz10cnVlO1gucmVmPWFufWVsc2V7aWYoYWEmJkEoKSl7YWouZGF0YT1hYTtQKGFqLGFtLGFoLGFjKTtyZXR1cm59ZWxzZXt3KGFoLHRydWUpfX1pZihhYyl7YWMoWCl9fSl9ZWxzZXtpZihhYyl7YWMoWCl9fX0sc3dpdGNoT2ZmQXV0b0hpZGVTaG93OmZ1bmN0aW9uKCl7bT1mYWxzZX0sdWE6TSxnZXRGbGFzaFBsYXllclZlcnNpb246ZnVuY3Rpb24oKXtyZXR1cm57bWFqb3I6TS5wdlswXSxtaW5vcjpNLnB2WzFdLHJlbGVhc2U6TS5wdlsyXX19LGhhc0ZsYXNoUGxheWVyVmVyc2lvbjpGLGNyZWF0ZVNXRjpmdW5jdGlvbihaLFksWCl7aWYoTS53Myl7cmV0dXJuIHUoWixZLFgpfWVsc2V7cmV0dXJuIHVuZGVmaW5lZH19LHNob3dFeHByZXNzSW5zdGFsbDpmdW5jdGlvbihaLGFhLFgsWSl7aWYoTS53MyYmQSgpKXtQKFosYWEsWCxZKX19LHJlbW92ZVNXRjpmdW5jdGlvbihYKXtpZihNLnczKXt5KFgpfX0sY3JlYXRlQ1NTOmZ1bmN0aW9uKGFhLFosWSxYKXtpZihNLnczKXt2KGFhLFosWSxYKX19LGFkZERvbUxvYWRFdmVudDpLLGFkZExvYWRFdmVudDpzLGdldFF1ZXJ5UGFyYW1WYWx1ZTpmdW5jdGlvbihhYSl7dmFyIFo9ai5sb2NhdGlvbi5zZWFyY2h8fGoubG9jYXRpb24uaGFzaDtpZihaKXtpZigvXFw/Ly50ZXN0KFopKXtaPVouc3BsaXQoXCI/XCIpWzFdfWlmKGFhPT1udWxsKXtyZXR1cm4gTChaKX12YXIgWT1aLnNwbGl0KFwiJlwiKTtmb3IodmFyIFg9MDtYPFkubGVuZ3RoO1grKyl7aWYoWVtYXS5zdWJzdHJpbmcoMCxZW1hdLmluZGV4T2YoXCI9XCIpKT09YWEpe3JldHVybiBMKFlbWF0uc3Vic3RyaW5nKChZW1hdLmluZGV4T2YoXCI9XCIpKzEpKSl9fX1yZXR1cm5cIlwifSxleHByZXNzSW5zdGFsbENhbGxiYWNrOmZ1bmN0aW9uKCl7aWYoYSl7dmFyIFg9YyhSKTtpZihYJiZsKXtYLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGwsWCk7aWYoUSl7dyhRLHRydWUpO2lmKE0uaWUmJk0ud2luKXtsLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wifX1pZihFKXtFKEIpfX1hPWZhbHNlfX19fSgpO307IiwiLypnbG9iYWwgcmVxdWlyZTogZmFsc2UgKi9cbi8vIHJlcXVpcmUuY29uZmlnKHtcbi8vICAgcGF0aHM6IHtcbi8vICAgICBwZGZDb21wYXRpYmlsaXR5OiAgICAgJ2xpYi9wZGYvY29tcGF0aWJpbGl0eScsXG4vLyAgICAgcGRmbDEwbjogICAgICAgICAgICAgICdsaWIvcGRmL2wxMG4nLFxuLy8gICAgIHBkZjogICAgICAgICAgICAgICAgICAnbGliL3BkZi9wZGYnLFxuLy8gICAgIHBkZlZpZXdlcjogICAgICAgICAgICAnbGliL3BkZi92aWV3ZXInLFxuLy8gICAgIHNzcDogICAgICAgICAgICAgICAgICAnbGliL3NzcC9lbWJlZCdcbi8vICAgfSxcbi8vICAgc2hpbToge1xuXG4vLyAgICAgLy8gcGRmQ29tcGF0aWJpbGl0eTogWydqcXVlcnknXSxcbi8vICAgICBwZGZsMTBuOiBbJ3BkZkNvbXBhdGliaWxpdHknXSxcbi8vICAgICBwZGY6IFsncGRmbDEwbiddLFxuLy8gICAgIHBkZlZpZXdlcjogWydwZGYnXVxuLy8gICB9XG4vLyB9KTtcblxud2luZG93Lm5hbWUgPSBcIk5HX0RFRkVSX0JPT1RTVFJBUCFcIjtcblxuKGZ1bmN0aW9uIChcbiAgICAkLCBcbiAgICBfLFxuICAgIGFuZ3VsYXIsIFxuICAgIGFwcCwgXG4gICAgcm91dGVzLFxuICAgIHRyYW5zbGF0ZVxuKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyICRodG1sID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF0pO1xuXG4gICAgYW5ndWxhci5lbGVtZW50KCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGFuZ3VsYXIucmVzdW1lQm9vdHN0cmFwKFthcHAubmFtZV0pO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vIFRPRE86IG1vdmUgdG8gYSBkaXJlY3RpdmVcbiAgICAgICAgdmFyIG5hdkxpbmtzO1xuXG4gICAgICAgICQoJyNjcmVhdGlvbnMtc2xpZGVyLmNhcm91c2VsJykuY2Fyb3VzZWwoKTtcblxuICAgICAgICBuYXZMaW5rcyA9IGZ1bmN0aW9uKGNsaWNrZWQpIHtcbiAgICAgICAgICAgIHZhciBpdGVtSWQ7XG4gICAgICAgICAgICBpdGVtSWQgPSBjbGlja2VkLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgIHJldHVybiAkKCdib2R5Jykuc3RvcCgpLnNjcm9sbFRvKGl0ZW1JZCwgNTAwKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkKCdhLnNjcm9sbHRvJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbmF2X2NsaWNrZWQ7XG4gICAgICAgICAgICBuYXZfY2xpY2tlZCA9ICQodGhpcyk7XG4gICAgICAgICAgICBuYXZMaW5rcyhuYXZfY2xpY2tlZCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJ1tkYXRhLXNweT1cInNjcm9sbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRzcHkgPSAkKHRoaXMpLnNjcm9sbHNweSgncmVmcmVzaCcpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0oXG4gICAgcmVxdWlyZSgnanF1ZXJ5JyksXG4gICAgcmVxdWlyZSgnbG9kYXNoJyksXG4gICAgcmVxdWlyZSgnYW5ndWxhcicpLFxuICAgIHJlcXVpcmUoJy4vYXBwJylcbikpO1xuIiwiLypnbG9iYWwgZGVmaW5lOiBmYWxzZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG4gIFxuICBtb2R1bGUuZXhwb3J0cyA9IFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcblxuICAgICRyb3V0ZVByb3ZpZGVyLm90aGVyd2lzZSh7cmVkaXJlY3RUbzogJy8nfSk7XG5cbiAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG5cbiAgfV07XG5cbn0oXG4pKTsiLCIvKmdsb2JhbCBkZWZpbmU6IGZhbHNlICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIHNldCB1cCBnZW5lcmljIG15QXBwLnNlcnZpY2VzIG5hbWVzcGFjZVxuICAgICAqL1xuICAgIHZhciBzZXJ2aWNlc01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcC5zZXJ2aWNlcycsIFsvKidteUFwcC5jb25maWcnLCovICduZ1Jlc291cmNlJ10pO1xuXG4gICAgc2VydmljZXNNb2R1bGUudmFsdWUoJ3ZlcnNpb24nLCAnMC40LjAnKTtcblxuICAgIHNlcnZpY2VzTW9kdWxlLmZhY3RvcnkoJ0ZlZWRTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlID0ge307XG5cbiAgICAgICAgc2VydmljZS5wYXJzZUZlZWQgPSBmdW5jdGlvbiBwYXJzZUZlZWQodXJsLCBjb3VudCkge1xuICAgICAgICAgICAgdmFyIG51bWJlck9mRmVlZHMgPSBjb3VudCB8fCA2O1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmpzb25wKCcvL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9zZXJ2aWNlcy9mZWVkL2xvYWQ/dj0xLjAmbnVtPScgKyBcbiAgICAgICAgICAgICAgICBudW1iZXJPZkZlZWRzICsgJyZjYWxsYmFjaz1KU09OX0NBTExCQUNLJnE9JyArIGVuY29kZVVSSUNvbXBvbmVudCh1cmwpKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VydmljZTtcbiAgICB9XSk7XG5cbiAgICAvLyBzZXJ2aWNlc01vZHVsZS5mYWN0b3J5KCdOaWtlUGx1c1NlcnZpY2UnLCBbJyRodHRwJywgJyRsb2cnLCAnQ09ORklHJywgZnVuY3Rpb24oJGh0dHAsICRsb2csIENPTkZJRykge1xuICAgIC8vICAgICB2YXIgc2VydmljZSA9IHt9O1xuXG4gICAgLy8gICAgIHNlcnZpY2UubGlzdEFjdGl2aXRpZXMgPSBmdW5jdGlvbiBsaXN0QWN0aXZpdGllcygpIHtcbiAgICAvLyAgICAgICAgIHZhciBuaWtlQVBJID0gQ09ORklHLk5JS0VfQVBJO1xuICAgIC8vICAgICAgICAgdmFyIGFjdGl2aXRpZXNVUkwgPSBuaWtlQVBJLkVORFBPSU5UX0JBU0VfVVJMICsgJy9hY3Rpdml0aWVzP2FjY2Vzc190b2tlbj0nICsgbmlrZUFQSS5BQ0NFU1NfVE9LRU47XG5cbiAgICAvLyAgICAgcmV0dXJuICRodHRwLmdldChhY3Rpdml0aWVzVVJMKVxuICAgIC8vICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgLy8gICAgICAgICAgICAgJGxvZy5sb2coJ25pa2UgcGx1cyBhY3Rpdml0aWVzOiAnLCByZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpO1xuXG4gICAgLy8gICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIC8vICAgICAgICAgfSlcbiAgICAvLyAgICAgICAgIC5lcnJvcihmdW5jdGlvbihyZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAvLyAgICAgICAgICAgICAkbG9nLmxvZygnZXJyb3IgcmV0cmlldmluZyBuaWtlIHBsdXMgYWN0aXZpdGllcycsIHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZyk7XG5cbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICB9O1xuXG4gICAgLy8gICAgIHJldHVybiBzZXJ2aWNlO1xuICAgIC8vIH1dKTtcblxuICAgIHJldHVybiBzZXJ2aWNlc01vZHVsZTtcblxufSkoXG4gIHJlcXVpcmUoJ2FuZ3VsYXInKVxuKTsiLCIvKmdsb2JhbCBkZWZpbmU6IGZhbHNlICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBtb2R1bGUuZXhwb3J0cyA9IFsnJHRyYW5zbGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgIC8vIFRPRE86IGxvYWQgdGhlc2UgdmlhIGEgc2VwYXJhdGUgZmlsZSwgZG9uJ3QgcmVhbGx5IG5lZWQgdG8gZm9yIG5vd1xuXG4gICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICBcbiAgICB9KTtcbiAgIFxuICAgIC8vICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2RlJywge1xuICAgIC8vICAgJ1RJVExFJzogJ0hhbGxvJyxcbiAgICAvLyAgICdGT08nOiAnRGllcyBpc3QgZWluIFBhcmFncmFwaCdcbiAgICAvLyB9KTtcbiAgIFxuICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcbiAgfV07XG5cbn0oXG4pKTtcbiJdfQ==
