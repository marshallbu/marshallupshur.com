(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/*global define: false */

(function (angular, routes, translate) {
  'use strict';

  // Declare app level module
  var app = angular.module('myApp', [
      // 'myApp.config',
      'ngRoute',
      'ngResource',
      'ngSanitize',
      'pascalprecht.translate',
      'myApp.filters',
      'myApp.services',
      'myApp.directives',
      'myApp.controllers'
      // 'adaptive.speech'
  ])
  .config(routes)
  .config(translate);

  module.exports = app;

  return app;

}(
    require('angular'),
    require('./routes'),
    require('./translate'),
    // require('./config'),
    require('./filters'),
    require('./services'),
    require('./directives'),
    require('./controllers')
));

},{"./controllers":2,"./directives":7,"./filters":8,"./routes":11,"./services":12,"./translate":13,"angular":"s2QTgl"}],2:[function(require,module,exports){
/*global define: false, require: false */
(function (
    angular, 
    NavCtrl, 
    FeedCtrl, 
    // ResumeCtrl, 
    PhotosCtrl, 
    FooterCtrl 
    // NikeCtrl
) {
  'use strict';

  return angular.module('myApp.controllers', ['myApp.services'])

    .controller('NavCtrl', ['$scope', function($scope) {
        // injector method takes an array of modules as the first argument
        // if you want your controller to be able to use components from
        // any of your other modules, make sure you include it together with 'ng'
        // Furthermore we need to pass on the $scope as it's unique to this controller
        angular.injector(['ng']).invoke(NavCtrl, this, {'$scope': $scope});
    }])

    .controller('FeedCtrl', ['$scope', function($scope) {
        angular.injector(['ng', 'myApp.services']).invoke(FeedCtrl, this, {'$scope': $scope});
    }])

    // .controller('ResumeCtrl', ['$scope', 'CONFIG', function($scope, CONFIG) {
        
    //     angular.injector.invoke(ResumeCtrl, this, {
    //         '$scope': $scope,
    //         'CONFIG': CONFIG
    //     });

    // }])

    .controller('PhotosCtrl', ['$scope', function($scope) {
        angular.injector(['ng', 'myApp.services']).invoke(PhotosCtrl, this, {'$scope': $scope});
    }])

    .controller('FooterCtrl', ['$scope', function($scope) {
        angular.injector(['ng', 'myApp.services']).invoke(FooterCtrl, this, {'$scope': $scope});
    }]);

    // .controller('NikeCtrl', ['$scope', 'CONFIG', function($scope, CONFIG) {
        
    //     angular.injector.invoke(NikeCtrl, this, {
    //         '$scope': $scope,
    //         'CONFIG': CONFIG
    //     });

    // }]);

})(
    require('angular'),
    require('./controllers/navctrl'),
    require('./controllers/feedctrl'),
    // require('./controllers/resumectrl'),
    require('./controllers/photosctrl'),
    require('./controllers/footerctrl')
    // require('./controllers/nikectrl')
);
},{"./controllers/feedctrl":3,"./controllers/footerctrl":4,"./controllers/navctrl":5,"./controllers/photosctrl":6,"angular":"s2QTgl"}],3:[function(require,module,exports){
/**
 * The main controller for the app. The controller:
 * - retrieves and persist the model via the todoStorage service
 * - exposes the model to the template and provides event handlers
 */

(function (_, app) {
    'use strict';

    var FeedCtrl = ['$scope', '$http', '$log', 'FeedService',
        function ($scope, $http, $log, Feed) {
            $scope.feeds = [];

            Feed.parseFeed('http://blog.marshallupshur.com/feed/', 3).then(function (res) {
                var feeds = res.data.responseData.feed.entries;
                _.forEach(feeds, function(feed) {
                    feed.publishedDateObject = new Date(feed.publishedDate);
                });
                
                $scope.feeds = feeds;
                // $log.log($scope.feeds);

                $scope.$apply();
            });
      
        // $scope.$apply();
        }
    ];

    module.exports = FeedCtrl;

    return FeedCtrl;
})(
    require('lodash'),
    require('./../app')
);
},{"./../app":1,"lodash":"76bcNB"}],4:[function(require,module,exports){
/*global define: false */

(function () {
    'use strict';

    var FooterCtrl = ['$scope', '$http', '$log', 'version',
        function ($scope, $http, $log, version) {
            $scope.version = version;

            // $scope.$apply();

            $log.info('FooterCtrl initialized');
        }
    ];

    module.exports = FooterCtrl;

    return FooterCtrl;
})(
);
},{}],5:[function(require,module,exports){
/*global define: false */

(function () {
    'use strict';

    var NavCtrl = ['$scope', '$log',
        function ($scope, $log) {





            // $scope.$apply();
            $log.info('NavCtrl initialized');
        }
    ];

    module.exports = NavCtrl;

    return NavCtrl;
})(
);
},{}],6:[function(require,module,exports){
/*global define: false */

(function (app, ssp) {
  'use strict';

    var PhotosCtrl = ['$scope', '$http', '$log',
        function ($scope, $http, $log) {

            $scope.myssp = new SlideShowPro({
            attributes: {
              id: "album-7",
              width: "100%",
              height: "100%"
            },
            mobile: {
              auto: false,
              poster: "vignette"
            },
            params: {
              bgcolor: "#000000",
              allowfullscreen: true
            },
            flashvars: {
              xmlFilePath: "http://photos.marshallupshur.com/slideshowpro/images.php?album=7",
              navAppearance: "Hidden",
              navLinkAppearance: "Numbers",
              feedbackPreloaderAppearance: "Bar",
              feedbackTimerAppearance: "Hidden",
              contentScale: "Crop to Fit All",
              transitionLength: 1,
              panZoom: "On",
              contentOrder: "Random"
            }
            });

            $scope.$apply();
        }
    ];

    module.exports = PhotosCtrl;

    return PhotosCtrl;

})(
    require('./../app'),
    require('./../lib/ssp/embed')
);
},{"./../app":1,"./../lib/ssp/embed":9}],7:[function(require,module,exports){
(function (angular, services) {
    'use strict';

    return angular.module('myApp.directives', ['myApp.services'])
        .directive('appVersion', ['version', function(version) {
            return function(scope, elm, attrs) {
                elm.text(version);
            };
    }]);

})(
    require('angular'),
    require('./services')
);
},{"./services":12,"angular":"s2QTgl"}],8:[function(require,module,exports){
(function (angular, services) {
    'use strict';

    return angular.module('myApp.filters', ['myApp.services'])
        .filter('interpolate', ['version', function(version) {
            return function(text) {
                return String(text).replace(/\%VERSION\%/mg, version);
            };
        }]);
})(
    require('angular'),
    require('./services')
);
},{"./services":12,"angular":"s2QTgl"}],9:[function(require,module,exports){

if(typeof SlideShowProRefs!='object'){SlideShowProRefs={};SlideShowPro=function(options){if(this instanceof SlideShowPro){this.opts={attributes:{width:550,height:400,autoMobile:false,mobileFlash:true,onEmbed:false,onReady:false},mobile:{auto:false,showBackButton:false,showInfoButton:true,flash:false,poster:'default',linkToPlayer:true,sharpening:true},params:{bgcolor:'#000000',allowFullScreen:true,allowscriptaccess:'always'},flashvars:{initialURL:escape(document.location),useExternalInterface:"false",id:options.attributes.id,xmlFileType:'Director'}};if(document.location.host!=''){var h=document.location.host;if(h.indexOf(':')!==-1){h=h.substr(0,h.indexOf(':'));};this.opts.flashvars.allowedDomains=h;};this.listeners={};this._autoMobile=false;for(var i in this.opts){for(var j in options[i]){this.opts[i][j]=options[i][j];};};if(this.opts.attributes.autoMobile){this.opts.mobile.auto=true;};if(!this.opts.attributes.mobileFlash){this.opts.mobile.flash=false;};if(!this.opts.flashvars.paramXMLPath){this.opts.flashvars.loadParams=false;};if(this.opts.flashvars.xmlFileType=='Single Content'){this.opts.flashvars.startup="Open album";this.opts.flashvars.panZoom="Off";this.opts.flashvars.navAppearance="Hidden";}
this.target=document.getElementById(this.opts.attributes.id);var divs=this.target.getElementsByTagName('div');for(var i=0;i<divs.length;i++){if(divs[i].className=='ssp-mobile-poster'){this.customPoster=divs[i];this.target.removeChild(divs[i]);};};this.fallbackText=this.target.innerHTML;this.target.innerHTML='';this.parseXMLPath(this.opts.flashvars.xmlFilePath);if(!this.opts.attributes.src){this.opts.attributes.src=this.host+'/m/slideshowpro.swf';};this.normPaths();if(this.opts.mobile.auto&&this.isMobile()&&(!this.hasFlash()||!this.opts.mobile.flash)){this._autoMobile=true;var cover=this.e('div',{position:'absolute',width:'10000px',height:'10000px',background:'#060606',top:0,left:0,zIndex:1000000});document.body.appendChild(cover);window.scrollTo(0,1);this.fallback();}else{if(this.opts.mobile.devMode||(this.isMobile()&&(!this.hasFlash()||!this.opts.mobile.flash))){this.fallback();}else{this.embed();}};SlideShowProRefs[this.opts.attributes.id]=this;return this;}else{return new SlideShowPro(options);};};SlideShowPro.prototype.parseXMLPath=function(path){var parts=/^(https?:\/\/)?(.*)?\/images.php\?(album|gallery)=(\d+)$/.exec(path);if(parts===null){parts=/^(https?:\/\/)?(.*)?\/[A-Za-z]+\/album-\d+\/lg\/.*$/.exec(path);}
if(parts[2]){this.host=parts[1]+parts[2];}else{this.host='';};this.contentType=parts[3];this.contentId=parts[4];};SlideShowPro.prototype.formOutlink=function(data){this.outlink=this.host+'/m/?'+this.contentType+'='+data.internal_id+data.id+'&back='+Number(this.opts.mobile.showBackButton)+'&info='+Number(this.opts.mobile.showInfoButton)+'&sharpening='+Number(this.opts.mobile.sharpening);if(this._autoMobile){top.location.replace(this.outlink);return true;};return false;};SlideShowPro.prototype.normPaths=function(){if(document.location.host==''){this.opts.flashvars.permalinks='Off';return false;};String.prototype.cleanWWW=function(){return this.replace('//www.','//');};var host=document.location.protocol+'//'+document.location.host;var hostClean=host.cleanWWW();var check=[this.host,this.opts.attributes.src,this.opts.flashvars.xmlFilePath];if(this.opts.flashvars.paramXMLPath){check.push(this.opts.flashvars.paramXMLPath);};for(var i=0;i<check.length;i++){var _s=check[i];var _clean=_s.cleanWWW();if(_clean.match(RegExp('^'+hostClean+'\/'))){_s=_clean.replace(hostClean,'');};check[i]=_s;};this.host=check[0];this.opts.attributes.src=check[1];this.opts.flashvars.xmlFilePath=check[2];if(check.length>3){this.opts.flashvars.paramXMLPath=check[3];};};SlideShowPro.prototype.isMobile=function(){return/iPad|iPhone|iPod|Kindle\sFire|Android\s[2-9]\.\d/.exec(navigator.userAgent)!==null;};SlideShowPro.prototype.hasFlash=function(){var p=navigator.plugins;if(p&&p['Shockwave Flash']&&p['Shockwave Flash'].description){return true;}else{return false;};};SlideShowPro.prototype.ready=function(){if(typeof this.opts.attributes.onReady=='function'){this.opts.attributes.onReady.call(this);};var evs=['albumData','albumEnd','albumStart','displayMode','galleryClosed','galleryClosing','galleryData','galleryHidden','galleryInfo','galleryOpen','galleryOpening','galleryToggled','imageAlign','imageClick','imageData','imageFormat','imageLoad','imageRollOut','imageRollOver','imageZone','nextImage','nextImageGroup','nextScreen','netStreamStatus','permalink','preloadEnd','preloadInit','preloadProgress','prevImage','prevImageGroup','prevScreen','transEffectStart','transEffectEnd','transPauseStart','transPauseEnd','videoCuePoint','videoEnd','videoMetadata','videoPause','videoPlayRelease','videoPreviewLoad','videoPreviewRemove','videoResume','videoStart','videoXMPData','xmlData'];for(var i in evs){this.api.addEventListener(evs[i],'SlideShowProRefs["'+this.opts.attributes.id+'"].answer');};var fns=['enterFullScreenDisplayState','getAlbumData','getGalleryData','halt','loadAlbum','loadContent','muteMedia','nextGalleryScreen','nextImage','nextImageGroup','pauseMedia','playMedia','previousGalleryScreen','previousImage','previousImageGroup','removeEventListener','setMediaVolume','setSize','setStartAlbum','toggleDisplayMode','toggleGallery','toggleNav','unloadContent','unMuteMedia'];for(var i in fns){var exec="this."+fns[i]+" = function() { var n = '"+fns[i]+"'; var _str = ''; if (arguments.length > 0) { var _a = []; for (i = 0; i < arguments.length; i++) { _a.push(\"'\" + arguments[i] + \"'\"); }; if (n == 'loadAlbum' && _a.length == 1) { _a.push(0); }; _str = _a.join(','); }; eval('this.api."+fns[i]+"(' + _str + ')'); }";eval(exec);}};SlideShowPro.prototype.addEventListener=function(name,fn){if(!this.listeners[name]){this.listeners[name]=[];};this.listeners[name].push(fn);};SlideShowPro.prototype.embed=function(){var f=this.opts.flashvars||{};var p=this.opts.params||{};var a=this.opts.attributes||{};var self=this;if(typeof flashPutHref!=='function'){flashPutHref=function(href){location.href=href;};};swfobjectSSP.embedSWF(a.src,a.id,a.width,a.height,"10.0.0",false,f,p,a,function(e){self.embedCallback(e);});};function onSlideShowProReady(id){SlideShowProRefs[id].ready();};SlideShowPro.prototype.answer=function(obj){if(this.listeners[obj.name]){for(var i in this.listeners[obj.name]){this.listeners[obj.name][i].apply(this,[obj]);}}}
SlideShowPro.prototype.embedCallback=function(e){if(e.success){this.api=e.ref;}else{if(this.isMobile()){this.fallback();}else{this.target.innerHTML=this.fallbackText;}};if(this.opts.attributes.onEmbed){this.opts.attributes.onEmbed.apply(this,[e.success]);};return e.success;};SlideShowPro.prototype.videoFallback=function(){var mimes={'mov':'video/quicktime','mp4':'video/mp4','m4v':'video/x-m4v'};var path=this.opts.flashvars.xmlFilePath
var ext=path.substr(path.lastIndexOf('.')+1,path.length);if(mimes[ext]){var video=document.createElement('video');if(typeof(video.canPlayType)!==undefined&&video.canPlayType(mimes[ext])!=''){video.width=this.opts.attributes.width;video.height=this.opts.attributes.height;video.controls=true;video.autoplay=true;video.src=path;this.target.appendChild(video);return;};};this.target.innerHTML=this.fallbackText;};SlideShowPro.prototype.e=function(element,style,klass){if(typeof element=='string'){element=document.createElement(element);element.style.fontWeight='normal';element.style.textTransform='none';element.style.textAlign='left';element.style.float='none';element.style.lineHeight='1em';var zeros=['margin','padding','border'];for(var i=0;i<zeros.length;i++){element.style[zeros[i]]='0px';};var autos=['top','left','right','bottom'];for(var i=0;i<autos.length;i++){element.style[autos[i]]='auto';};};for(var i in style){element.style[i]=style[i];};element.style.zoom=1;if(klass){element.className=klass;};return element;};SlideShowPro.prototype.computeStyle=function(e,p){if(p=='width'){return e.offsetWidth;}else if(p=='height'){return e.offsetHeight;}else{if(e.currentStyle){return e.currentStyle[p];}else if(window.getComputedStyle){return document.defaultView.getComputedStyle(e,null).getPropertyValue(p);}else{return false;};};};SlideShowPro.prototype.fallback=function(){if(this.opts.flashvars.xmlFileType=='Single Content'){this.videoFallback();return;};if(this.opts.mobile.xmlFilePath){this.parseXMLPath(this.opts.mobile.xmlFilePath);};var w=this.opts.attributes.width;var h=this.opts.attributes.height;var computeW=true,computeH=true;if(!isNaN(w)){w+='px';computeW=false;}
if(!isNaN(h)){h+='px';computeH=false;}
var css={position:'relative',width:w,height:h,backgroundColor:this.opts.params.bgcolor,overflow:'hidden'};if(this.opts.mobile.linkToPlayer){css.cursor='pointer';};this.e(this.target,css);var _w,_h;if(computeW){_w=parseInt(this.computeStyle(this.target,'width'),10);}else{_w=this.opts.attributes.width;}
if(computeH){_h=parseInt(this.computeStyle(this.target,'height'));}else{_h=this.opts.attributes.height;};this.realH=_h;this.realW=_w;var self=this;if(this.opts.mobile.linkToPlayer){this.target.onclick=function(){if(self.bttn){self.e(self.bttn,{background:'#333'});};top.location.href=self.outlink;};};DirectorJS.setHost(this.host);if(this.contentType=='album'){DirectorJS.Format.preview({width:100,height:100,square:1});DirectorJS.Album.get(this.contentId,function(data){self.startDraw(data);},{with_content:false});}else{DirectorJS.Gallery.get(this.contentId,function(data){self.startDraw(data);},{with_content:false});};};SlideShowPro.prototype.startDraw=function(data){if(this.formOutlink(data)){return;};if(!data.description){data.description='';};if(this.customPoster){this.e(this.customPoster,{position:'absolute',top:'0px',left:'0px',width:'100%',height:'100%'});var _html=this.customPoster.innerHTML.replace('{{title}}',data.name).replace('{{description}}',data.description).replace('{{mobile_link}}',this.outlink);this.customPoster.innerHTML=_html;this.target.appendChild(this.customPoster);}else{var mjs=this.host+'/m/posters/'+this.opts.mobile.poster+'.js';var j=document.createElement('script');j.src=mjs;j.charset='utf-8';var self=this;j.onload=function(){self.drawPoster(data);};document.body.appendChild(j);};};var DirectorJS={req:[],userScope:{},formats:{},selfHosted:true,setHost:function(h){this.host=h;if(this.selfHosted){this.host+='/index.php?';};},initReq:function(salt){var key=salt+Math.floor(Math.random()*1000);this.req[key]=new Object;this.req[key].params=[];return this.req[key]},conn:function(req){if(req){var handler=req.apiMethod+Math.floor(Math.random()*10000);req.params.push('callback='+handler);for(i in this.formats){var f=this.formats[i];req.params.push('size['+i+']='+f);};if(this.previewFormat){req.params.push('preview='+this.previewFormat);};req.params=req.params.join('&');var qs='?'+req.params;var url=this.host+'/api/'+req.apiMethod+qs;var head=document.getElementsByTagName('head')[0];window[handler]=function(response){if(response.stat=='fail'){if(console){console.log('SlideShowPro API error: '+response.error);}
return;}else{req.callback.apply(this,[response.data]);}
window[handler]=null;head.removeChild(script);};var script=document.createElement('script');script.src=url;script.charset='utf-8';head.appendChild(script);};},Format:{add:function(options){var defaults={square:0,quality:85,sharpening:1};for(i in options){defaults[i]=options[i];};DirectorJS.formats[options.name]=[defaults.name,defaults.width,defaults.height,defaults.square,defaults.quality,defaults.sharpening].join(',');},preview:function(options){var defaults={square:0,quality:85,sharpening:1};for(i in options){defaults[i]=options[i];};DirectorJS.previewFormat=[defaults.width,defaults.height,defaults.square,defaults.quality,defaults.sharpening].join(',');}},Album:{get:function(id,callback,options){var req=DirectorJS.initReq('album.get.');var defaults={only_active:1};DirectorJS.prepAndSendObjs(defaults,options,req);req.apiMethod='get_album';req.callback=callback;req.params.push("album_id="+id);DirectorJS.conn(req);}},Gallery:{get:function(id,callback,options){var req=DirectorJS.initReq('gallery.get.');var defaults={limit:null,order:'display',with_content:true};DirectorJS.prepAndSendObjs(defaults,options,req);req.apiMethod='get_gallery';req.callback=callback;req.params.push("gallery_id="+id);DirectorJS.conn(req);}},prepAndSendObjs:function(obj1,obj2,req){if(typeof obj2=='object'){if(typeof obj2.tags=='object'){var tmp={};var tags=obj2.tags[0];if(obj2.tags[1]=='all'){var all=1;}else{var all=0;};obj2.tags=tags;obj2.tags_exclusive=all;};if(typeof obj2.scope=='object'){var tmp={};var scope=obj2.scope[0];var scope_id=obj2.scope[1];obj2.scope=scope;obj2.scope_id=scope_id;};for(i in obj2){obj1[i]=obj2[i];};};for(i in obj1){if(i=='sort_on'&&obj1[i]=='random'){req.params.push('buster='+String(Math.round(Math.random()*10)));};if(String(obj1[i])=='true'||String(obj1[i])=='false'){obj1[i]=Number(obj1[i]);};req.params.push(i+'='+obj1[i]);};}};SlideShowPro.prototype.drawPreview=function(h,data,top){top=top||0;var self=this;if(this.contentType=='album'){DirectorJS.Format.preview({width:Number(this.realW),height:Number(h),square:1});DirectorJS.Album.get(this.contentId,function(data){var w=self.realW,left=0,aspect=data.preview.width/data.preview.height;if(data.preview.width<self.realW){w=data.preview.width;left=(self.realW-w)/2;h=w/aspect;};if(data.preview.height<h){top+=(h-data.preview.height)/2;h=data.preview.height;w=aspect*h;};var img=self.e('img',{width:w+'px',height:h+'px',position:'absolute',top:top+'px',left:left+'px',zIndex:1,opacity:0,webkitTransition:'opacity 750ms 500ms'});img.onload=function(){self.e(this,{opacity:1});};self.target.appendChild(img);img.src=data.preview.url;},{with_content:false});}else{var c=data.albums.length;var d=4;if(c<4){d=c;}else if(c%4==1){d=3;};var _w=self.realW;var _h=self.realH;var rows=Math.min(Math.ceil(c/d),Math.floor(_h/(_w/d)));rows=Math.max(rows,1);this.galleryH=Math.ceil(h/rows);this.galleryW=Math.ceil(_w/d);DirectorJS.Format.preview({width:self.galleryW,height:self.galleryH,square:1});DirectorJS.Gallery.get(this.contentId,function(data){var wrap=self.e('div',{position:'absolute',top:'0px',left:'0px',height:h+'px',width:'100%'});self.target.appendChild(wrap);var row=0,pos=0;for(i in data.albums){var a=data.albums[i];if(a.preview){var l=pos*self.galleryW;if(l>=self.realW){l=0;row++;pos=0;};var img=self.e('img',{position:'absolute',top:top+(row*self.galleryH)+'px',left:l+'px',width:self.galleryW+'px',height:self.galleryH+'px',opacity:0,webkitTransition:'opacity 750ms 500ms'});img.onload=function(){self.e(this,{opacity:1});};wrap.appendChild(img);img.src=a.preview.url;pos++;};};},{with_content:false,limit:d*rows});}};swfobjectSSP=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobjectSSP){swfobjectSSP[X]=null}swfobjectSSP=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();};
},{}],10:[function(require,module,exports){
/*global require: false */
// require.config({
//   paths: {
//     pdfCompatibility:     'lib/pdf/compatibility',
//     pdfl10n:              'lib/pdf/l10n',
//     pdf:                  'lib/pdf/pdf',
//     pdfViewer:            'lib/pdf/viewer',
//     ssp:                  'lib/ssp/embed'
//   },
//   shim: {

//     // pdfCompatibility: ['jquery'],
//     pdfl10n: ['pdfCompatibility'],
//     pdf: ['pdfl10n'],
//     pdfViewer: ['pdf']
//   }
// });

window.name = "NG_DEFER_BOOTSTRAP!";

(function (
    $, 
    _,
    angular, 
    app, 
    routes,
    translate
) {
    'use strict';

    var $html = angular.element(document.getElementsByTagName('html')[0]);

    angular.element().ready(function() {
        angular.resumeBootstrap([app.name]);
    });

    $(document).ready(function () {

        // TODO: move to a directive
        var navLinks;

        $('#creations-slider.carousel').carousel();

        navLinks = function(clicked) {
            var itemId;
            itemId = clicked.attr('href');
            return $('body').stop().scrollTo(itemId, 500);
        };

        $('a.scrollto').click(function() {
            var nav_clicked;
            nav_clicked = $(this);
            navLinks(nav_clicked);
            return false;
        });

        $('[data-spy="scroll"]').each(function () {
            var $spy = $(this).scrollspy('refresh');
        });
    });
}(
    require('jquery'),
    require('lodash'),
    require('angular'),
    require('./app')
));

},{"./app":1,"angular":"s2QTgl","jquery":"WGVgcA","lodash":"76bcNB"}],11:[function(require,module,exports){
/*global define: false */

(function () {
  'use strict';
  
  module.exports = ['$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) {

    $routeProvider.otherwise({redirectTo: '/'});

    $locationProvider.html5Mode(true);

  }];

}(
));
},{}],12:[function(require,module,exports){
/*global define: false */

(function (angular) {
    'use strict';

    /**
     * set up generic myApp.services namespace
     */
    var servicesModule = angular.module('myApp.services', [/*'myApp.config',*/ 'ngResource']);

    servicesModule.value('version', '0.0.0');

    servicesModule.factory('FeedService', ['$http', function($http) {
        var service = {};

        service.parseFeed = function parseFeed(url, count) {
            var numberOfFeeds = count || 6;
            return $http.jsonp('//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=' + 
                numberOfFeeds + '&callback=JSON_CALLBACK&q=' + encodeURIComponent(url));
        };

        return service;
    }]);

    // servicesModule.factory('NikePlusService', ['$http', '$log', 'CONFIG', function($http, $log, CONFIG) {
    //     var service = {};

    //     service.listActivities = function listActivities() {
    //         var nikeAPI = CONFIG.NIKE_API;
    //         var activitiesURL = nikeAPI.ENDPOINT_BASE_URL + '/activities?access_token=' + nikeAPI.ACCESS_TOKEN;

    //     return $http.get(activitiesURL)
    //         .success(function(response, status, headers, config) {
    //             $log.log('nike plus activities: ', response, status, headers, config);

    //             return response;
    //         })
    //         .error(function(response, status, headers, config) {
    //             $log.log('error retrieving nike plus activities', response, status, headers, config);

    //         });
    //     };

    //     return service;
    // }]);

    return servicesModule;

})(
  require('angular')
);
},{"angular":"s2QTgl"}],13:[function(require,module,exports){
/*global define: false */

(function () {
  'use strict';

  module.exports = ['$translateProvider', function ($translateProvider) {
    // TODO: load these via a separate file, don't really need to for now

    $translateProvider.translations('en', {
      
    });
   
    // $translateProvider.translations('de', {
    //   'TITLE': 'Hallo',
    //   'FOO': 'Dies ist ein Paragraph'
    // });
   
    $translateProvider.preferredLanguage('en');
  }];

}(
));

},{}]},{},[10])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvbWFyc2hhbGxidS9Qcm9qZWN0cy9qc19wcm9qZWN0cy9pZGVudGl0eS9hcHAvc2NyaXB0cy9hcHAuanMiLCIvVXNlcnMvbWFyc2hhbGxidS9Qcm9qZWN0cy9qc19wcm9qZWN0cy9pZGVudGl0eS9hcHAvc2NyaXB0cy9jb250cm9sbGVycy5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL2NvbnRyb2xsZXJzL2ZlZWRjdHJsLmpzIiwiL1VzZXJzL21hcnNoYWxsYnUvUHJvamVjdHMvanNfcHJvamVjdHMvaWRlbnRpdHkvYXBwL3NjcmlwdHMvY29udHJvbGxlcnMvZm9vdGVyY3RybC5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL2NvbnRyb2xsZXJzL25hdmN0cmwuanMiLCIvVXNlcnMvbWFyc2hhbGxidS9Qcm9qZWN0cy9qc19wcm9qZWN0cy9pZGVudGl0eS9hcHAvc2NyaXB0cy9jb250cm9sbGVycy9waG90b3NjdHJsLmpzIiwiL1VzZXJzL21hcnNoYWxsYnUvUHJvamVjdHMvanNfcHJvamVjdHMvaWRlbnRpdHkvYXBwL3NjcmlwdHMvZGlyZWN0aXZlcy5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL2ZpbHRlcnMuanMiLCIvVXNlcnMvbWFyc2hhbGxidS9Qcm9qZWN0cy9qc19wcm9qZWN0cy9pZGVudGl0eS9hcHAvc2NyaXB0cy9saWIvc3NwL2VtYmVkLmpzIiwiL1VzZXJzL21hcnNoYWxsYnUvUHJvamVjdHMvanNfcHJvamVjdHMvaWRlbnRpdHkvYXBwL3NjcmlwdHMvbWFpbi5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL3JvdXRlcy5qcyIsIi9Vc2Vycy9tYXJzaGFsbGJ1L1Byb2plY3RzL2pzX3Byb2plY3RzL2lkZW50aXR5L2FwcC9zY3JpcHRzL3NlcnZpY2VzLmpzIiwiL1VzZXJzL21hcnNoYWxsYnUvUHJvamVjdHMvanNfcHJvamVjdHMvaWRlbnRpdHkvYXBwL3NjcmlwdHMvdHJhbnNsYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3Rocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIil9dmFyIGY9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGYuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sZixmLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qZ2xvYmFsIGRlZmluZTogZmFsc2UgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyLCByb3V0ZXMsIHRyYW5zbGF0ZSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gRGVjbGFyZSBhcHAgbGV2ZWwgbW9kdWxlXG4gIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXG4gICAgICAvLyAnbXlBcHAuY29uZmlnJyxcbiAgICAgICduZ1JvdXRlJyxcbiAgICAgICduZ1Jlc291cmNlJyxcbiAgICAgICduZ1Nhbml0aXplJyxcbiAgICAgICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJyxcbiAgICAgICdteUFwcC5maWx0ZXJzJyxcbiAgICAgICdteUFwcC5zZXJ2aWNlcycsXG4gICAgICAnbXlBcHAuZGlyZWN0aXZlcycsXG4gICAgICAnbXlBcHAuY29udHJvbGxlcnMnXG4gICAgICAvLyAnYWRhcHRpdmUuc3BlZWNoJ1xuICBdKVxuICAuY29uZmlnKHJvdXRlcylcbiAgLmNvbmZpZyh0cmFuc2xhdGUpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gYXBwO1xuXG4gIHJldHVybiBhcHA7XG5cbn0oXG4gICAgcmVxdWlyZSgnYW5ndWxhcicpLFxuICAgIHJlcXVpcmUoJy4vcm91dGVzJyksXG4gICAgcmVxdWlyZSgnLi90cmFuc2xhdGUnKSxcbiAgICAvLyByZXF1aXJlKCcuL2NvbmZpZycpLFxuICAgIHJlcXVpcmUoJy4vZmlsdGVycycpLFxuICAgIHJlcXVpcmUoJy4vc2VydmljZXMnKSxcbiAgICByZXF1aXJlKCcuL2RpcmVjdGl2ZXMnKSxcbiAgICByZXF1aXJlKCcuL2NvbnRyb2xsZXJzJylcbikpO1xuIiwiLypnbG9iYWwgZGVmaW5lOiBmYWxzZSwgcmVxdWlyZTogZmFsc2UgKi9cbihmdW5jdGlvbiAoXG4gICAgYW5ndWxhciwgXG4gICAgTmF2Q3RybCwgXG4gICAgRmVlZEN0cmwsIFxuICAgIC8vIFJlc3VtZUN0cmwsIFxuICAgIFBob3Rvc0N0cmwsIFxuICAgIEZvb3RlckN0cmwgXG4gICAgLy8gTmlrZUN0cmxcbikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgcmV0dXJuIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5jb250cm9sbGVycycsIFsnbXlBcHAuc2VydmljZXMnXSlcblxuICAgIC5jb250cm9sbGVyKCdOYXZDdHJsJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgLy8gaW5qZWN0b3IgbWV0aG9kIHRha2VzIGFuIGFycmF5IG9mIG1vZHVsZXMgYXMgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAgICAgIC8vIGlmIHlvdSB3YW50IHlvdXIgY29udHJvbGxlciB0byBiZSBhYmxlIHRvIHVzZSBjb21wb25lbnRzIGZyb21cbiAgICAgICAgLy8gYW55IG9mIHlvdXIgb3RoZXIgbW9kdWxlcywgbWFrZSBzdXJlIHlvdSBpbmNsdWRlIGl0IHRvZ2V0aGVyIHdpdGggJ25nJ1xuICAgICAgICAvLyBGdXJ0aGVybW9yZSB3ZSBuZWVkIHRvIHBhc3Mgb24gdGhlICRzY29wZSBhcyBpdCdzIHVuaXF1ZSB0byB0aGlzIGNvbnRyb2xsZXJcbiAgICAgICAgYW5ndWxhci5pbmplY3RvcihbJ25nJ10pLmludm9rZShOYXZDdHJsLCB0aGlzLCB7JyRzY29wZSc6ICRzY29wZX0pO1xuICAgIH1dKVxuXG4gICAgLmNvbnRyb2xsZXIoJ0ZlZWRDdHJsJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgYW5ndWxhci5pbmplY3RvcihbJ25nJywgJ215QXBwLnNlcnZpY2VzJ10pLmludm9rZShGZWVkQ3RybCwgdGhpcywgeyckc2NvcGUnOiAkc2NvcGV9KTtcbiAgICB9XSlcblxuICAgIC8vIC5jb250cm9sbGVyKCdSZXN1bWVDdHJsJywgWyckc2NvcGUnLCAnQ09ORklHJywgZnVuY3Rpb24oJHNjb3BlLCBDT05GSUcpIHtcbiAgICAgICAgXG4gICAgLy8gICAgIGFuZ3VsYXIuaW5qZWN0b3IuaW52b2tlKFJlc3VtZUN0cmwsIHRoaXMsIHtcbiAgICAvLyAgICAgICAgICckc2NvcGUnOiAkc2NvcGUsXG4gICAgLy8gICAgICAgICAnQ09ORklHJzogQ09ORklHXG4gICAgLy8gICAgIH0pO1xuXG4gICAgLy8gfV0pXG5cbiAgICAuY29udHJvbGxlcignUGhvdG9zQ3RybCcsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgIGFuZ3VsYXIuaW5qZWN0b3IoWyduZycsICdteUFwcC5zZXJ2aWNlcyddKS5pbnZva2UoUGhvdG9zQ3RybCwgdGhpcywgeyckc2NvcGUnOiAkc2NvcGV9KTtcbiAgICB9XSlcblxuICAgIC5jb250cm9sbGVyKCdGb290ZXJDdHJsJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgYW5ndWxhci5pbmplY3RvcihbJ25nJywgJ215QXBwLnNlcnZpY2VzJ10pLmludm9rZShGb290ZXJDdHJsLCB0aGlzLCB7JyRzY29wZSc6ICRzY29wZX0pO1xuICAgIH1dKTtcblxuICAgIC8vIC5jb250cm9sbGVyKCdOaWtlQ3RybCcsIFsnJHNjb3BlJywgJ0NPTkZJRycsIGZ1bmN0aW9uKCRzY29wZSwgQ09ORklHKSB7XG4gICAgICAgIFxuICAgIC8vICAgICBhbmd1bGFyLmluamVjdG9yLmludm9rZShOaWtlQ3RybCwgdGhpcywge1xuICAgIC8vICAgICAgICAgJyRzY29wZSc6ICRzY29wZSxcbiAgICAvLyAgICAgICAgICdDT05GSUcnOiBDT05GSUdcbiAgICAvLyAgICAgfSk7XG5cbiAgICAvLyB9XSk7XG5cbn0pKFxuICAgIHJlcXVpcmUoJ2FuZ3VsYXInKSxcbiAgICByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL25hdmN0cmwnKSxcbiAgICByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL2ZlZWRjdHJsJyksXG4gICAgLy8gcmVxdWlyZSgnLi9jb250cm9sbGVycy9yZXN1bWVjdHJsJyksXG4gICAgcmVxdWlyZSgnLi9jb250cm9sbGVycy9waG90b3NjdHJsJyksXG4gICAgcmVxdWlyZSgnLi9jb250cm9sbGVycy9mb290ZXJjdHJsJylcbiAgICAvLyByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL25pa2VjdHJsJylcbik7IiwiLyoqXG4gKiBUaGUgbWFpbiBjb250cm9sbGVyIGZvciB0aGUgYXBwLiBUaGUgY29udHJvbGxlcjpcbiAqIC0gcmV0cmlldmVzIGFuZCBwZXJzaXN0IHRoZSBtb2RlbCB2aWEgdGhlIHRvZG9TdG9yYWdlIHNlcnZpY2VcbiAqIC0gZXhwb3NlcyB0aGUgbW9kZWwgdG8gdGhlIHRlbXBsYXRlIGFuZCBwcm92aWRlcyBldmVudCBoYW5kbGVyc1xuICovXG5cbihmdW5jdGlvbiAoXywgYXBwKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIEZlZWRDdHJsID0gWyckc2NvcGUnLCAnJGh0dHAnLCAnJGxvZycsICdGZWVkU2VydmljZScsXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkbG9nLCBGZWVkKSB7XG4gICAgICAgICAgICAkc2NvcGUuZmVlZHMgPSBbXTtcblxuICAgICAgICAgICAgRmVlZC5wYXJzZUZlZWQoJ2h0dHA6Ly9ibG9nLm1hcnNoYWxsdXBzaHVyLmNvbS9mZWVkLycsIDMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICAgIHZhciBmZWVkcyA9IHJlcy5kYXRhLnJlc3BvbnNlRGF0YS5mZWVkLmVudHJpZXM7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGZlZWRzLCBmdW5jdGlvbihmZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlZWQucHVibGlzaGVkRGF0ZU9iamVjdCA9IG5ldyBEYXRlKGZlZWQucHVibGlzaGVkRGF0ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZlZWRzID0gZmVlZHM7XG4gICAgICAgICAgICAgICAgLy8gJGxvZy5sb2coJHNjb3BlLmZlZWRzKTtcblxuICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgXG4gICAgICAgIC8vICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgfVxuICAgIF07XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IEZlZWRDdHJsO1xuXG4gICAgcmV0dXJuIEZlZWRDdHJsO1xufSkoXG4gICAgcmVxdWlyZSgnbG9kYXNoJyksXG4gICAgcmVxdWlyZSgnLi8uLi9hcHAnKVxuKTsiLCIvKmdsb2JhbCBkZWZpbmU6IGZhbHNlICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIEZvb3RlckN0cmwgPSBbJyRzY29wZScsICckaHR0cCcsICckbG9nJywgJ3ZlcnNpb24nLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJGxvZywgdmVyc2lvbikge1xuICAgICAgICAgICAgJHNjb3BlLnZlcnNpb24gPSB2ZXJzaW9uO1xuXG4gICAgICAgICAgICAvLyAkc2NvcGUuJGFwcGx5KCk7XG5cbiAgICAgICAgICAgICRsb2cuaW5mbygnRm9vdGVyQ3RybCBpbml0aWFsaXplZCcpO1xuICAgICAgICB9XG4gICAgXTtcblxuICAgIG1vZHVsZS5leHBvcnRzID0gRm9vdGVyQ3RybDtcblxuICAgIHJldHVybiBGb290ZXJDdHJsO1xufSkoXG4pOyIsIi8qZ2xvYmFsIGRlZmluZTogZmFsc2UgKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgTmF2Q3RybCA9IFsnJHNjb3BlJywgJyRsb2cnLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkbG9nKSB7XG5cblxuXG5cblxuICAgICAgICAgICAgLy8gJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgJGxvZy5pbmZvKCdOYXZDdHJsIGluaXRpYWxpemVkJyk7XG4gICAgICAgIH1cbiAgICBdO1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBOYXZDdHJsO1xuXG4gICAgcmV0dXJuIE5hdkN0cmw7XG59KShcbik7IiwiLypnbG9iYWwgZGVmaW5lOiBmYWxzZSAqL1xuXG4oZnVuY3Rpb24gKGFwcCwgc3NwKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBQaG90b3NDdHJsID0gWyckc2NvcGUnLCAnJGh0dHAnLCAnJGxvZycsXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkbG9nKSB7XG5cbiAgICAgICAgICAgICRzY29wZS5teXNzcCA9IG5ldyBTbGlkZVNob3dQcm8oe1xuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICBpZDogXCJhbGJ1bS03XCIsXG4gICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vYmlsZToge1xuICAgICAgICAgICAgICBhdXRvOiBmYWxzZSxcbiAgICAgICAgICAgICAgcG9zdGVyOiBcInZpZ25ldHRlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgYmdjb2xvcjogXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICAgIGFsbG93ZnVsbHNjcmVlbjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZsYXNodmFyczoge1xuICAgICAgICAgICAgICB4bWxGaWxlUGF0aDogXCJodHRwOi8vcGhvdG9zLm1hcnNoYWxsdXBzaHVyLmNvbS9zbGlkZXNob3dwcm8vaW1hZ2VzLnBocD9hbGJ1bT03XCIsXG4gICAgICAgICAgICAgIG5hdkFwcGVhcmFuY2U6IFwiSGlkZGVuXCIsXG4gICAgICAgICAgICAgIG5hdkxpbmtBcHBlYXJhbmNlOiBcIk51bWJlcnNcIixcbiAgICAgICAgICAgICAgZmVlZGJhY2tQcmVsb2FkZXJBcHBlYXJhbmNlOiBcIkJhclwiLFxuICAgICAgICAgICAgICBmZWVkYmFja1RpbWVyQXBwZWFyYW5jZTogXCJIaWRkZW5cIixcbiAgICAgICAgICAgICAgY29udGVudFNjYWxlOiBcIkNyb3AgdG8gRml0IEFsbFwiLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uTGVuZ3RoOiAxLFxuICAgICAgICAgICAgICBwYW5ab29tOiBcIk9uXCIsXG4gICAgICAgICAgICAgIGNvbnRlbnRPcmRlcjogXCJSYW5kb21cIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgfVxuICAgIF07XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IFBob3Rvc0N0cmw7XG5cbiAgICByZXR1cm4gUGhvdG9zQ3RybDtcblxufSkoXG4gICAgcmVxdWlyZSgnLi8uLi9hcHAnKSxcbiAgICByZXF1aXJlKCcuLy4uL2xpYi9zc3AvZW1iZWQnKVxuKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIsIHNlcnZpY2VzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgcmV0dXJuIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5kaXJlY3RpdmVzJywgWydteUFwcC5zZXJ2aWNlcyddKVxuICAgICAgICAuZGlyZWN0aXZlKCdhcHBWZXJzaW9uJywgWyd2ZXJzaW9uJywgZnVuY3Rpb24odmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgZWxtLnRleHQodmVyc2lvbik7XG4gICAgICAgICAgICB9O1xuICAgIH1dKTtcblxufSkoXG4gICAgcmVxdWlyZSgnYW5ndWxhcicpLFxuICAgIHJlcXVpcmUoJy4vc2VydmljZXMnKVxuKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIsIHNlcnZpY2VzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgcmV0dXJuIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5maWx0ZXJzJywgWydteUFwcC5zZXJ2aWNlcyddKVxuICAgICAgICAuZmlsdGVyKCdpbnRlcnBvbGF0ZScsIFsndmVyc2lvbicsIGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh0ZXh0KS5yZXBsYWNlKC9cXCVWRVJTSU9OXFwlL21nLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbn0pKFxuICAgIHJlcXVpcmUoJ2FuZ3VsYXInKSxcbiAgICByZXF1aXJlKCcuL3NlcnZpY2VzJylcbik7IiwiXG5pZih0eXBlb2YgU2xpZGVTaG93UHJvUmVmcyE9J29iamVjdCcpe1NsaWRlU2hvd1Byb1JlZnM9e307U2xpZGVTaG93UHJvPWZ1bmN0aW9uKG9wdGlvbnMpe2lmKHRoaXMgaW5zdGFuY2VvZiBTbGlkZVNob3dQcm8pe3RoaXMub3B0cz17YXR0cmlidXRlczp7d2lkdGg6NTUwLGhlaWdodDo0MDAsYXV0b01vYmlsZTpmYWxzZSxtb2JpbGVGbGFzaDp0cnVlLG9uRW1iZWQ6ZmFsc2Usb25SZWFkeTpmYWxzZX0sbW9iaWxlOnthdXRvOmZhbHNlLHNob3dCYWNrQnV0dG9uOmZhbHNlLHNob3dJbmZvQnV0dG9uOnRydWUsZmxhc2g6ZmFsc2UscG9zdGVyOidkZWZhdWx0JyxsaW5rVG9QbGF5ZXI6dHJ1ZSxzaGFycGVuaW5nOnRydWV9LHBhcmFtczp7Ymdjb2xvcjonIzAwMDAwMCcsYWxsb3dGdWxsU2NyZWVuOnRydWUsYWxsb3dzY3JpcHRhY2Nlc3M6J2Fsd2F5cyd9LGZsYXNodmFyczp7aW5pdGlhbFVSTDplc2NhcGUoZG9jdW1lbnQubG9jYXRpb24pLHVzZUV4dGVybmFsSW50ZXJmYWNlOlwiZmFsc2VcIixpZDpvcHRpb25zLmF0dHJpYnV0ZXMuaWQseG1sRmlsZVR5cGU6J0RpcmVjdG9yJ319O2lmKGRvY3VtZW50LmxvY2F0aW9uLmhvc3QhPScnKXt2YXIgaD1kb2N1bWVudC5sb2NhdGlvbi5ob3N0O2lmKGguaW5kZXhPZignOicpIT09LTEpe2g9aC5zdWJzdHIoMCxoLmluZGV4T2YoJzonKSk7fTt0aGlzLm9wdHMuZmxhc2h2YXJzLmFsbG93ZWREb21haW5zPWg7fTt0aGlzLmxpc3RlbmVycz17fTt0aGlzLl9hdXRvTW9iaWxlPWZhbHNlO2Zvcih2YXIgaSBpbiB0aGlzLm9wdHMpe2Zvcih2YXIgaiBpbiBvcHRpb25zW2ldKXt0aGlzLm9wdHNbaV1bal09b3B0aW9uc1tpXVtqXTt9O307aWYodGhpcy5vcHRzLmF0dHJpYnV0ZXMuYXV0b01vYmlsZSl7dGhpcy5vcHRzLm1vYmlsZS5hdXRvPXRydWU7fTtpZighdGhpcy5vcHRzLmF0dHJpYnV0ZXMubW9iaWxlRmxhc2gpe3RoaXMub3B0cy5tb2JpbGUuZmxhc2g9ZmFsc2U7fTtpZighdGhpcy5vcHRzLmZsYXNodmFycy5wYXJhbVhNTFBhdGgpe3RoaXMub3B0cy5mbGFzaHZhcnMubG9hZFBhcmFtcz1mYWxzZTt9O2lmKHRoaXMub3B0cy5mbGFzaHZhcnMueG1sRmlsZVR5cGU9PSdTaW5nbGUgQ29udGVudCcpe3RoaXMub3B0cy5mbGFzaHZhcnMuc3RhcnR1cD1cIk9wZW4gYWxidW1cIjt0aGlzLm9wdHMuZmxhc2h2YXJzLnBhblpvb209XCJPZmZcIjt0aGlzLm9wdHMuZmxhc2h2YXJzLm5hdkFwcGVhcmFuY2U9XCJIaWRkZW5cIjt9XG50aGlzLnRhcmdldD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdHMuYXR0cmlidXRlcy5pZCk7dmFyIGRpdnM9dGhpcy50YXJnZXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpO2Zvcih2YXIgaT0wO2k8ZGl2cy5sZW5ndGg7aSsrKXtpZihkaXZzW2ldLmNsYXNzTmFtZT09J3NzcC1tb2JpbGUtcG9zdGVyJyl7dGhpcy5jdXN0b21Qb3N0ZXI9ZGl2c1tpXTt0aGlzLnRhcmdldC5yZW1vdmVDaGlsZChkaXZzW2ldKTt9O307dGhpcy5mYWxsYmFja1RleHQ9dGhpcy50YXJnZXQuaW5uZXJIVE1MO3RoaXMudGFyZ2V0LmlubmVySFRNTD0nJzt0aGlzLnBhcnNlWE1MUGF0aCh0aGlzLm9wdHMuZmxhc2h2YXJzLnhtbEZpbGVQYXRoKTtpZighdGhpcy5vcHRzLmF0dHJpYnV0ZXMuc3JjKXt0aGlzLm9wdHMuYXR0cmlidXRlcy5zcmM9dGhpcy5ob3N0KycvbS9zbGlkZXNob3dwcm8uc3dmJzt9O3RoaXMubm9ybVBhdGhzKCk7aWYodGhpcy5vcHRzLm1vYmlsZS5hdXRvJiZ0aGlzLmlzTW9iaWxlKCkmJighdGhpcy5oYXNGbGFzaCgpfHwhdGhpcy5vcHRzLm1vYmlsZS5mbGFzaCkpe3RoaXMuX2F1dG9Nb2JpbGU9dHJ1ZTt2YXIgY292ZXI9dGhpcy5lKCdkaXYnLHtwb3NpdGlvbjonYWJzb2x1dGUnLHdpZHRoOicxMDAwMHB4JyxoZWlnaHQ6JzEwMDAwcHgnLGJhY2tncm91bmQ6JyMwNjA2MDYnLHRvcDowLGxlZnQ6MCx6SW5kZXg6MTAwMDAwMH0pO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY292ZXIpO3dpbmRvdy5zY3JvbGxUbygwLDEpO3RoaXMuZmFsbGJhY2soKTt9ZWxzZXtpZih0aGlzLm9wdHMubW9iaWxlLmRldk1vZGV8fCh0aGlzLmlzTW9iaWxlKCkmJighdGhpcy5oYXNGbGFzaCgpfHwhdGhpcy5vcHRzLm1vYmlsZS5mbGFzaCkpKXt0aGlzLmZhbGxiYWNrKCk7fWVsc2V7dGhpcy5lbWJlZCgpO319O1NsaWRlU2hvd1Byb1JlZnNbdGhpcy5vcHRzLmF0dHJpYnV0ZXMuaWRdPXRoaXM7cmV0dXJuIHRoaXM7fWVsc2V7cmV0dXJuIG5ldyBTbGlkZVNob3dQcm8ob3B0aW9ucyk7fTt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUucGFyc2VYTUxQYXRoPWZ1bmN0aW9uKHBhdGgpe3ZhciBwYXJ0cz0vXihodHRwcz86XFwvXFwvKT8oLiopP1xcL2ltYWdlcy5waHBcXD8oYWxidW18Z2FsbGVyeSk9KFxcZCspJC8uZXhlYyhwYXRoKTtpZihwYXJ0cz09PW51bGwpe3BhcnRzPS9eKGh0dHBzPzpcXC9cXC8pPyguKik/XFwvW0EtWmEtel0rXFwvYWxidW0tXFxkK1xcL2xnXFwvLiokLy5leGVjKHBhdGgpO31cbmlmKHBhcnRzWzJdKXt0aGlzLmhvc3Q9cGFydHNbMV0rcGFydHNbMl07fWVsc2V7dGhpcy5ob3N0PScnO307dGhpcy5jb250ZW50VHlwZT1wYXJ0c1szXTt0aGlzLmNvbnRlbnRJZD1wYXJ0c1s0XTt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUuZm9ybU91dGxpbms9ZnVuY3Rpb24oZGF0YSl7dGhpcy5vdXRsaW5rPXRoaXMuaG9zdCsnL20vPycrdGhpcy5jb250ZW50VHlwZSsnPScrZGF0YS5pbnRlcm5hbF9pZCtkYXRhLmlkKycmYmFjaz0nK051bWJlcih0aGlzLm9wdHMubW9iaWxlLnNob3dCYWNrQnV0dG9uKSsnJmluZm89JytOdW1iZXIodGhpcy5vcHRzLm1vYmlsZS5zaG93SW5mb0J1dHRvbikrJyZzaGFycGVuaW5nPScrTnVtYmVyKHRoaXMub3B0cy5tb2JpbGUuc2hhcnBlbmluZyk7aWYodGhpcy5fYXV0b01vYmlsZSl7dG9wLmxvY2F0aW9uLnJlcGxhY2UodGhpcy5vdXRsaW5rKTtyZXR1cm4gdHJ1ZTt9O3JldHVybiBmYWxzZTt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUubm9ybVBhdGhzPWZ1bmN0aW9uKCl7aWYoZG9jdW1lbnQubG9jYXRpb24uaG9zdD09Jycpe3RoaXMub3B0cy5mbGFzaHZhcnMucGVybWFsaW5rcz0nT2ZmJztyZXR1cm4gZmFsc2U7fTtTdHJpbmcucHJvdG90eXBlLmNsZWFuV1dXPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwbGFjZSgnLy93d3cuJywnLy8nKTt9O3ZhciBob3N0PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sKycvLycrZG9jdW1lbnQubG9jYXRpb24uaG9zdDt2YXIgaG9zdENsZWFuPWhvc3QuY2xlYW5XV1coKTt2YXIgY2hlY2s9W3RoaXMuaG9zdCx0aGlzLm9wdHMuYXR0cmlidXRlcy5zcmMsdGhpcy5vcHRzLmZsYXNodmFycy54bWxGaWxlUGF0aF07aWYodGhpcy5vcHRzLmZsYXNodmFycy5wYXJhbVhNTFBhdGgpe2NoZWNrLnB1c2godGhpcy5vcHRzLmZsYXNodmFycy5wYXJhbVhNTFBhdGgpO307Zm9yKHZhciBpPTA7aTxjaGVjay5sZW5ndGg7aSsrKXt2YXIgX3M9Y2hlY2tbaV07dmFyIF9jbGVhbj1fcy5jbGVhbldXVygpO2lmKF9jbGVhbi5tYXRjaChSZWdFeHAoJ14nK2hvc3RDbGVhbisnXFwvJykpKXtfcz1fY2xlYW4ucmVwbGFjZShob3N0Q2xlYW4sJycpO307Y2hlY2tbaV09X3M7fTt0aGlzLmhvc3Q9Y2hlY2tbMF07dGhpcy5vcHRzLmF0dHJpYnV0ZXMuc3JjPWNoZWNrWzFdO3RoaXMub3B0cy5mbGFzaHZhcnMueG1sRmlsZVBhdGg9Y2hlY2tbMl07aWYoY2hlY2subGVuZ3RoPjMpe3RoaXMub3B0cy5mbGFzaHZhcnMucGFyYW1YTUxQYXRoPWNoZWNrWzNdO307fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLmlzTW9iaWxlPWZ1bmN0aW9uKCl7cmV0dXJuL2lQYWR8aVBob25lfGlQb2R8S2luZGxlXFxzRmlyZXxBbmRyb2lkXFxzWzItOV1cXC5cXGQvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkhPT1udWxsO307U2xpZGVTaG93UHJvLnByb3RvdHlwZS5oYXNGbGFzaD1mdW5jdGlvbigpe3ZhciBwPW5hdmlnYXRvci5wbHVnaW5zO2lmKHAmJnBbJ1Nob2Nrd2F2ZSBGbGFzaCddJiZwWydTaG9ja3dhdmUgRmxhc2gnXS5kZXNjcmlwdGlvbil7cmV0dXJuIHRydWU7fWVsc2V7cmV0dXJuIGZhbHNlO307fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLnJlYWR5PWZ1bmN0aW9uKCl7aWYodHlwZW9mIHRoaXMub3B0cy5hdHRyaWJ1dGVzLm9uUmVhZHk9PSdmdW5jdGlvbicpe3RoaXMub3B0cy5hdHRyaWJ1dGVzLm9uUmVhZHkuY2FsbCh0aGlzKTt9O3ZhciBldnM9WydhbGJ1bURhdGEnLCdhbGJ1bUVuZCcsJ2FsYnVtU3RhcnQnLCdkaXNwbGF5TW9kZScsJ2dhbGxlcnlDbG9zZWQnLCdnYWxsZXJ5Q2xvc2luZycsJ2dhbGxlcnlEYXRhJywnZ2FsbGVyeUhpZGRlbicsJ2dhbGxlcnlJbmZvJywnZ2FsbGVyeU9wZW4nLCdnYWxsZXJ5T3BlbmluZycsJ2dhbGxlcnlUb2dnbGVkJywnaW1hZ2VBbGlnbicsJ2ltYWdlQ2xpY2snLCdpbWFnZURhdGEnLCdpbWFnZUZvcm1hdCcsJ2ltYWdlTG9hZCcsJ2ltYWdlUm9sbE91dCcsJ2ltYWdlUm9sbE92ZXInLCdpbWFnZVpvbmUnLCduZXh0SW1hZ2UnLCduZXh0SW1hZ2VHcm91cCcsJ25leHRTY3JlZW4nLCduZXRTdHJlYW1TdGF0dXMnLCdwZXJtYWxpbmsnLCdwcmVsb2FkRW5kJywncHJlbG9hZEluaXQnLCdwcmVsb2FkUHJvZ3Jlc3MnLCdwcmV2SW1hZ2UnLCdwcmV2SW1hZ2VHcm91cCcsJ3ByZXZTY3JlZW4nLCd0cmFuc0VmZmVjdFN0YXJ0JywndHJhbnNFZmZlY3RFbmQnLCd0cmFuc1BhdXNlU3RhcnQnLCd0cmFuc1BhdXNlRW5kJywndmlkZW9DdWVQb2ludCcsJ3ZpZGVvRW5kJywndmlkZW9NZXRhZGF0YScsJ3ZpZGVvUGF1c2UnLCd2aWRlb1BsYXlSZWxlYXNlJywndmlkZW9QcmV2aWV3TG9hZCcsJ3ZpZGVvUHJldmlld1JlbW92ZScsJ3ZpZGVvUmVzdW1lJywndmlkZW9TdGFydCcsJ3ZpZGVvWE1QRGF0YScsJ3htbERhdGEnXTtmb3IodmFyIGkgaW4gZXZzKXt0aGlzLmFwaS5hZGRFdmVudExpc3RlbmVyKGV2c1tpXSwnU2xpZGVTaG93UHJvUmVmc1tcIicrdGhpcy5vcHRzLmF0dHJpYnV0ZXMuaWQrJ1wiXS5hbnN3ZXInKTt9O3ZhciBmbnM9WydlbnRlckZ1bGxTY3JlZW5EaXNwbGF5U3RhdGUnLCdnZXRBbGJ1bURhdGEnLCdnZXRHYWxsZXJ5RGF0YScsJ2hhbHQnLCdsb2FkQWxidW0nLCdsb2FkQ29udGVudCcsJ211dGVNZWRpYScsJ25leHRHYWxsZXJ5U2NyZWVuJywnbmV4dEltYWdlJywnbmV4dEltYWdlR3JvdXAnLCdwYXVzZU1lZGlhJywncGxheU1lZGlhJywncHJldmlvdXNHYWxsZXJ5U2NyZWVuJywncHJldmlvdXNJbWFnZScsJ3ByZXZpb3VzSW1hZ2VHcm91cCcsJ3JlbW92ZUV2ZW50TGlzdGVuZXInLCdzZXRNZWRpYVZvbHVtZScsJ3NldFNpemUnLCdzZXRTdGFydEFsYnVtJywndG9nZ2xlRGlzcGxheU1vZGUnLCd0b2dnbGVHYWxsZXJ5JywndG9nZ2xlTmF2JywndW5sb2FkQ29udGVudCcsJ3VuTXV0ZU1lZGlhJ107Zm9yKHZhciBpIGluIGZucyl7dmFyIGV4ZWM9XCJ0aGlzLlwiK2Zuc1tpXStcIiA9IGZ1bmN0aW9uKCkgeyB2YXIgbiA9ICdcIitmbnNbaV0rXCInOyB2YXIgX3N0ciA9ICcnOyBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHsgdmFyIF9hID0gW107IGZvciAoaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgX2EucHVzaChcXFwiJ1xcXCIgKyBhcmd1bWVudHNbaV0gKyBcXFwiJ1xcXCIpOyB9OyBpZiAobiA9PSAnbG9hZEFsYnVtJyAmJiBfYS5sZW5ndGggPT0gMSkgeyBfYS5wdXNoKDApOyB9OyBfc3RyID0gX2Euam9pbignLCcpOyB9OyBldmFsKCd0aGlzLmFwaS5cIitmbnNbaV0rXCIoJyArIF9zdHIgKyAnKScpOyB9XCI7ZXZhbChleGVjKTt9fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24obmFtZSxmbil7aWYoIXRoaXMubGlzdGVuZXJzW25hbWVdKXt0aGlzLmxpc3RlbmVyc1tuYW1lXT1bXTt9O3RoaXMubGlzdGVuZXJzW25hbWVdLnB1c2goZm4pO307U2xpZGVTaG93UHJvLnByb3RvdHlwZS5lbWJlZD1mdW5jdGlvbigpe3ZhciBmPXRoaXMub3B0cy5mbGFzaHZhcnN8fHt9O3ZhciBwPXRoaXMub3B0cy5wYXJhbXN8fHt9O3ZhciBhPXRoaXMub3B0cy5hdHRyaWJ1dGVzfHx7fTt2YXIgc2VsZj10aGlzO2lmKHR5cGVvZiBmbGFzaFB1dEhyZWYhPT0nZnVuY3Rpb24nKXtmbGFzaFB1dEhyZWY9ZnVuY3Rpb24oaHJlZil7bG9jYXRpb24uaHJlZj1ocmVmO307fTtzd2ZvYmplY3RTU1AuZW1iZWRTV0YoYS5zcmMsYS5pZCxhLndpZHRoLGEuaGVpZ2h0LFwiMTAuMC4wXCIsZmFsc2UsZixwLGEsZnVuY3Rpb24oZSl7c2VsZi5lbWJlZENhbGxiYWNrKGUpO30pO307ZnVuY3Rpb24gb25TbGlkZVNob3dQcm9SZWFkeShpZCl7U2xpZGVTaG93UHJvUmVmc1tpZF0ucmVhZHkoKTt9O1NsaWRlU2hvd1Byby5wcm90b3R5cGUuYW5zd2VyPWZ1bmN0aW9uKG9iail7aWYodGhpcy5saXN0ZW5lcnNbb2JqLm5hbWVdKXtmb3IodmFyIGkgaW4gdGhpcy5saXN0ZW5lcnNbb2JqLm5hbWVdKXt0aGlzLmxpc3RlbmVyc1tvYmoubmFtZV1baV0uYXBwbHkodGhpcyxbb2JqXSk7fX19XG5TbGlkZVNob3dQcm8ucHJvdG90eXBlLmVtYmVkQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7aWYoZS5zdWNjZXNzKXt0aGlzLmFwaT1lLnJlZjt9ZWxzZXtpZih0aGlzLmlzTW9iaWxlKCkpe3RoaXMuZmFsbGJhY2soKTt9ZWxzZXt0aGlzLnRhcmdldC5pbm5lckhUTUw9dGhpcy5mYWxsYmFja1RleHQ7fX07aWYodGhpcy5vcHRzLmF0dHJpYnV0ZXMub25FbWJlZCl7dGhpcy5vcHRzLmF0dHJpYnV0ZXMub25FbWJlZC5hcHBseSh0aGlzLFtlLnN1Y2Nlc3NdKTt9O3JldHVybiBlLnN1Y2Nlc3M7fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLnZpZGVvRmFsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgbWltZXM9eydtb3YnOid2aWRlby9xdWlja3RpbWUnLCdtcDQnOid2aWRlby9tcDQnLCdtNHYnOid2aWRlby94LW00did9O3ZhciBwYXRoPXRoaXMub3B0cy5mbGFzaHZhcnMueG1sRmlsZVBhdGhcbnZhciBleHQ9cGF0aC5zdWJzdHIocGF0aC5sYXN0SW5kZXhPZignLicpKzEscGF0aC5sZW5ndGgpO2lmKG1pbWVzW2V4dF0pe3ZhciB2aWRlbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO2lmKHR5cGVvZih2aWRlby5jYW5QbGF5VHlwZSkhPT11bmRlZmluZWQmJnZpZGVvLmNhblBsYXlUeXBlKG1pbWVzW2V4dF0pIT0nJyl7dmlkZW8ud2lkdGg9dGhpcy5vcHRzLmF0dHJpYnV0ZXMud2lkdGg7dmlkZW8uaGVpZ2h0PXRoaXMub3B0cy5hdHRyaWJ1dGVzLmhlaWdodDt2aWRlby5jb250cm9scz10cnVlO3ZpZGVvLmF1dG9wbGF5PXRydWU7dmlkZW8uc3JjPXBhdGg7dGhpcy50YXJnZXQuYXBwZW5kQ2hpbGQodmlkZW8pO3JldHVybjt9O307dGhpcy50YXJnZXQuaW5uZXJIVE1MPXRoaXMuZmFsbGJhY2tUZXh0O307U2xpZGVTaG93UHJvLnByb3RvdHlwZS5lPWZ1bmN0aW9uKGVsZW1lbnQsc3R5bGUsa2xhc3Mpe2lmKHR5cGVvZiBlbGVtZW50PT0nc3RyaW5nJyl7ZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpO2VsZW1lbnQuc3R5bGUuZm9udFdlaWdodD0nbm9ybWFsJztlbGVtZW50LnN0eWxlLnRleHRUcmFuc2Zvcm09J25vbmUnO2VsZW1lbnQuc3R5bGUudGV4dEFsaWduPSdsZWZ0JztlbGVtZW50LnN0eWxlLmZsb2F0PSdub25lJztlbGVtZW50LnN0eWxlLmxpbmVIZWlnaHQ9JzFlbSc7dmFyIHplcm9zPVsnbWFyZ2luJywncGFkZGluZycsJ2JvcmRlciddO2Zvcih2YXIgaT0wO2k8emVyb3MubGVuZ3RoO2krKyl7ZWxlbWVudC5zdHlsZVt6ZXJvc1tpXV09JzBweCc7fTt2YXIgYXV0b3M9Wyd0b3AnLCdsZWZ0JywncmlnaHQnLCdib3R0b20nXTtmb3IodmFyIGk9MDtpPGF1dG9zLmxlbmd0aDtpKyspe2VsZW1lbnQuc3R5bGVbYXV0b3NbaV1dPSdhdXRvJzt9O307Zm9yKHZhciBpIGluIHN0eWxlKXtlbGVtZW50LnN0eWxlW2ldPXN0eWxlW2ldO307ZWxlbWVudC5zdHlsZS56b29tPTE7aWYoa2xhc3Mpe2VsZW1lbnQuY2xhc3NOYW1lPWtsYXNzO307cmV0dXJuIGVsZW1lbnQ7fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLmNvbXB1dGVTdHlsZT1mdW5jdGlvbihlLHApe2lmKHA9PSd3aWR0aCcpe3JldHVybiBlLm9mZnNldFdpZHRoO31lbHNlIGlmKHA9PSdoZWlnaHQnKXtyZXR1cm4gZS5vZmZzZXRIZWlnaHQ7fWVsc2V7aWYoZS5jdXJyZW50U3R5bGUpe3JldHVybiBlLmN1cnJlbnRTdHlsZVtwXTt9ZWxzZSBpZih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSl7cmV0dXJuIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZSxudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHApO31lbHNle3JldHVybiBmYWxzZTt9O307fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLmZhbGxiYWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRzLmZsYXNodmFycy54bWxGaWxlVHlwZT09J1NpbmdsZSBDb250ZW50Jyl7dGhpcy52aWRlb0ZhbGxiYWNrKCk7cmV0dXJuO307aWYodGhpcy5vcHRzLm1vYmlsZS54bWxGaWxlUGF0aCl7dGhpcy5wYXJzZVhNTFBhdGgodGhpcy5vcHRzLm1vYmlsZS54bWxGaWxlUGF0aCk7fTt2YXIgdz10aGlzLm9wdHMuYXR0cmlidXRlcy53aWR0aDt2YXIgaD10aGlzLm9wdHMuYXR0cmlidXRlcy5oZWlnaHQ7dmFyIGNvbXB1dGVXPXRydWUsY29tcHV0ZUg9dHJ1ZTtpZighaXNOYU4odykpe3crPSdweCc7Y29tcHV0ZVc9ZmFsc2U7fVxuaWYoIWlzTmFOKGgpKXtoKz0ncHgnO2NvbXB1dGVIPWZhbHNlO31cbnZhciBjc3M9e3Bvc2l0aW9uOidyZWxhdGl2ZScsd2lkdGg6dyxoZWlnaHQ6aCxiYWNrZ3JvdW5kQ29sb3I6dGhpcy5vcHRzLnBhcmFtcy5iZ2NvbG9yLG92ZXJmbG93OidoaWRkZW4nfTtpZih0aGlzLm9wdHMubW9iaWxlLmxpbmtUb1BsYXllcil7Y3NzLmN1cnNvcj0ncG9pbnRlcic7fTt0aGlzLmUodGhpcy50YXJnZXQsY3NzKTt2YXIgX3csX2g7aWYoY29tcHV0ZVcpe193PXBhcnNlSW50KHRoaXMuY29tcHV0ZVN0eWxlKHRoaXMudGFyZ2V0LCd3aWR0aCcpLDEwKTt9ZWxzZXtfdz10aGlzLm9wdHMuYXR0cmlidXRlcy53aWR0aDt9XG5pZihjb21wdXRlSCl7X2g9cGFyc2VJbnQodGhpcy5jb21wdXRlU3R5bGUodGhpcy50YXJnZXQsJ2hlaWdodCcpKTt9ZWxzZXtfaD10aGlzLm9wdHMuYXR0cmlidXRlcy5oZWlnaHQ7fTt0aGlzLnJlYWxIPV9oO3RoaXMucmVhbFc9X3c7dmFyIHNlbGY9dGhpcztpZih0aGlzLm9wdHMubW9iaWxlLmxpbmtUb1BsYXllcil7dGhpcy50YXJnZXQub25jbGljaz1mdW5jdGlvbigpe2lmKHNlbGYuYnR0bil7c2VsZi5lKHNlbGYuYnR0bix7YmFja2dyb3VuZDonIzMzMyd9KTt9O3RvcC5sb2NhdGlvbi5ocmVmPXNlbGYub3V0bGluazt9O307RGlyZWN0b3JKUy5zZXRIb3N0KHRoaXMuaG9zdCk7aWYodGhpcy5jb250ZW50VHlwZT09J2FsYnVtJyl7RGlyZWN0b3JKUy5Gb3JtYXQucHJldmlldyh7d2lkdGg6MTAwLGhlaWdodDoxMDAsc3F1YXJlOjF9KTtEaXJlY3RvckpTLkFsYnVtLmdldCh0aGlzLmNvbnRlbnRJZCxmdW5jdGlvbihkYXRhKXtzZWxmLnN0YXJ0RHJhdyhkYXRhKTt9LHt3aXRoX2NvbnRlbnQ6ZmFsc2V9KTt9ZWxzZXtEaXJlY3RvckpTLkdhbGxlcnkuZ2V0KHRoaXMuY29udGVudElkLGZ1bmN0aW9uKGRhdGEpe3NlbGYuc3RhcnREcmF3KGRhdGEpO30se3dpdGhfY29udGVudDpmYWxzZX0pO307fTtTbGlkZVNob3dQcm8ucHJvdG90eXBlLnN0YXJ0RHJhdz1mdW5jdGlvbihkYXRhKXtpZih0aGlzLmZvcm1PdXRsaW5rKGRhdGEpKXtyZXR1cm47fTtpZighZGF0YS5kZXNjcmlwdGlvbil7ZGF0YS5kZXNjcmlwdGlvbj0nJzt9O2lmKHRoaXMuY3VzdG9tUG9zdGVyKXt0aGlzLmUodGhpcy5jdXN0b21Qb3N0ZXIse3Bvc2l0aW9uOidhYnNvbHV0ZScsdG9wOicwcHgnLGxlZnQ6JzBweCcsd2lkdGg6JzEwMCUnLGhlaWdodDonMTAwJSd9KTt2YXIgX2h0bWw9dGhpcy5jdXN0b21Qb3N0ZXIuaW5uZXJIVE1MLnJlcGxhY2UoJ3t7dGl0bGV9fScsZGF0YS5uYW1lKS5yZXBsYWNlKCd7e2Rlc2NyaXB0aW9ufX0nLGRhdGEuZGVzY3JpcHRpb24pLnJlcGxhY2UoJ3t7bW9iaWxlX2xpbmt9fScsdGhpcy5vdXRsaW5rKTt0aGlzLmN1c3RvbVBvc3Rlci5pbm5lckhUTUw9X2h0bWw7dGhpcy50YXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5jdXN0b21Qb3N0ZXIpO31lbHNle3ZhciBtanM9dGhpcy5ob3N0KycvbS9wb3N0ZXJzLycrdGhpcy5vcHRzLm1vYmlsZS5wb3N0ZXIrJy5qcyc7dmFyIGo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7ai5zcmM9bWpzO2ouY2hhcnNldD0ndXRmLTgnO3ZhciBzZWxmPXRoaXM7ai5vbmxvYWQ9ZnVuY3Rpb24oKXtzZWxmLmRyYXdQb3N0ZXIoZGF0YSk7fTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGopO307fTt2YXIgRGlyZWN0b3JKUz17cmVxOltdLHVzZXJTY29wZTp7fSxmb3JtYXRzOnt9LHNlbGZIb3N0ZWQ6dHJ1ZSxzZXRIb3N0OmZ1bmN0aW9uKGgpe3RoaXMuaG9zdD1oO2lmKHRoaXMuc2VsZkhvc3RlZCl7dGhpcy5ob3N0Kz0nL2luZGV4LnBocD8nO307fSxpbml0UmVxOmZ1bmN0aW9uKHNhbHQpe3ZhciBrZXk9c2FsdCtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTAwMCk7dGhpcy5yZXFba2V5XT1uZXcgT2JqZWN0O3RoaXMucmVxW2tleV0ucGFyYW1zPVtdO3JldHVybiB0aGlzLnJlcVtrZXldfSxjb25uOmZ1bmN0aW9uKHJlcSl7aWYocmVxKXt2YXIgaGFuZGxlcj1yZXEuYXBpTWV0aG9kK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDAwMCk7cmVxLnBhcmFtcy5wdXNoKCdjYWxsYmFjaz0nK2hhbmRsZXIpO2ZvcihpIGluIHRoaXMuZm9ybWF0cyl7dmFyIGY9dGhpcy5mb3JtYXRzW2ldO3JlcS5wYXJhbXMucHVzaCgnc2l6ZVsnK2krJ109JytmKTt9O2lmKHRoaXMucHJldmlld0Zvcm1hdCl7cmVxLnBhcmFtcy5wdXNoKCdwcmV2aWV3PScrdGhpcy5wcmV2aWV3Rm9ybWF0KTt9O3JlcS5wYXJhbXM9cmVxLnBhcmFtcy5qb2luKCcmJyk7dmFyIHFzPSc/JytyZXEucGFyYW1zO3ZhciB1cmw9dGhpcy5ob3N0KycvYXBpLycrcmVxLmFwaU1ldGhvZCtxczt2YXIgaGVhZD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO3dpbmRvd1toYW5kbGVyXT1mdW5jdGlvbihyZXNwb25zZSl7aWYocmVzcG9uc2Uuc3RhdD09J2ZhaWwnKXtpZihjb25zb2xlKXtjb25zb2xlLmxvZygnU2xpZGVTaG93UHJvIEFQSSBlcnJvcjogJytyZXNwb25zZS5lcnJvcik7fVxucmV0dXJuO31lbHNle3JlcS5jYWxsYmFjay5hcHBseSh0aGlzLFtyZXNwb25zZS5kYXRhXSk7fVxud2luZG93W2hhbmRsZXJdPW51bGw7aGVhZC5yZW1vdmVDaGlsZChzY3JpcHQpO307dmFyIHNjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtzY3JpcHQuc3JjPXVybDtzY3JpcHQuY2hhcnNldD0ndXRmLTgnO2hlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTt9O30sRm9ybWF0OnthZGQ6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIGRlZmF1bHRzPXtzcXVhcmU6MCxxdWFsaXR5Ojg1LHNoYXJwZW5pbmc6MX07Zm9yKGkgaW4gb3B0aW9ucyl7ZGVmYXVsdHNbaV09b3B0aW9uc1tpXTt9O0RpcmVjdG9ySlMuZm9ybWF0c1tvcHRpb25zLm5hbWVdPVtkZWZhdWx0cy5uYW1lLGRlZmF1bHRzLndpZHRoLGRlZmF1bHRzLmhlaWdodCxkZWZhdWx0cy5zcXVhcmUsZGVmYXVsdHMucXVhbGl0eSxkZWZhdWx0cy5zaGFycGVuaW5nXS5qb2luKCcsJyk7fSxwcmV2aWV3OmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBkZWZhdWx0cz17c3F1YXJlOjAscXVhbGl0eTo4NSxzaGFycGVuaW5nOjF9O2ZvcihpIGluIG9wdGlvbnMpe2RlZmF1bHRzW2ldPW9wdGlvbnNbaV07fTtEaXJlY3RvckpTLnByZXZpZXdGb3JtYXQ9W2RlZmF1bHRzLndpZHRoLGRlZmF1bHRzLmhlaWdodCxkZWZhdWx0cy5zcXVhcmUsZGVmYXVsdHMucXVhbGl0eSxkZWZhdWx0cy5zaGFycGVuaW5nXS5qb2luKCcsJyk7fX0sQWxidW06e2dldDpmdW5jdGlvbihpZCxjYWxsYmFjayxvcHRpb25zKXt2YXIgcmVxPURpcmVjdG9ySlMuaW5pdFJlcSgnYWxidW0uZ2V0LicpO3ZhciBkZWZhdWx0cz17b25seV9hY3RpdmU6MX07RGlyZWN0b3JKUy5wcmVwQW5kU2VuZE9ianMoZGVmYXVsdHMsb3B0aW9ucyxyZXEpO3JlcS5hcGlNZXRob2Q9J2dldF9hbGJ1bSc7cmVxLmNhbGxiYWNrPWNhbGxiYWNrO3JlcS5wYXJhbXMucHVzaChcImFsYnVtX2lkPVwiK2lkKTtEaXJlY3RvckpTLmNvbm4ocmVxKTt9fSxHYWxsZXJ5OntnZXQ6ZnVuY3Rpb24oaWQsY2FsbGJhY2ssb3B0aW9ucyl7dmFyIHJlcT1EaXJlY3RvckpTLmluaXRSZXEoJ2dhbGxlcnkuZ2V0LicpO3ZhciBkZWZhdWx0cz17bGltaXQ6bnVsbCxvcmRlcjonZGlzcGxheScsd2l0aF9jb250ZW50OnRydWV9O0RpcmVjdG9ySlMucHJlcEFuZFNlbmRPYmpzKGRlZmF1bHRzLG9wdGlvbnMscmVxKTtyZXEuYXBpTWV0aG9kPSdnZXRfZ2FsbGVyeSc7cmVxLmNhbGxiYWNrPWNhbGxiYWNrO3JlcS5wYXJhbXMucHVzaChcImdhbGxlcnlfaWQ9XCIraWQpO0RpcmVjdG9ySlMuY29ubihyZXEpO319LHByZXBBbmRTZW5kT2JqczpmdW5jdGlvbihvYmoxLG9iajIscmVxKXtpZih0eXBlb2Ygb2JqMj09J29iamVjdCcpe2lmKHR5cGVvZiBvYmoyLnRhZ3M9PSdvYmplY3QnKXt2YXIgdG1wPXt9O3ZhciB0YWdzPW9iajIudGFnc1swXTtpZihvYmoyLnRhZ3NbMV09PSdhbGwnKXt2YXIgYWxsPTE7fWVsc2V7dmFyIGFsbD0wO307b2JqMi50YWdzPXRhZ3M7b2JqMi50YWdzX2V4Y2x1c2l2ZT1hbGw7fTtpZih0eXBlb2Ygb2JqMi5zY29wZT09J29iamVjdCcpe3ZhciB0bXA9e307dmFyIHNjb3BlPW9iajIuc2NvcGVbMF07dmFyIHNjb3BlX2lkPW9iajIuc2NvcGVbMV07b2JqMi5zY29wZT1zY29wZTtvYmoyLnNjb3BlX2lkPXNjb3BlX2lkO307Zm9yKGkgaW4gb2JqMil7b2JqMVtpXT1vYmoyW2ldO307fTtmb3IoaSBpbiBvYmoxKXtpZihpPT0nc29ydF9vbicmJm9iajFbaV09PSdyYW5kb20nKXtyZXEucGFyYW1zLnB1c2goJ2J1c3Rlcj0nK1N0cmluZyhNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMTApKSk7fTtpZihTdHJpbmcob2JqMVtpXSk9PSd0cnVlJ3x8U3RyaW5nKG9iajFbaV0pPT0nZmFsc2UnKXtvYmoxW2ldPU51bWJlcihvYmoxW2ldKTt9O3JlcS5wYXJhbXMucHVzaChpKyc9JytvYmoxW2ldKTt9O319O1NsaWRlU2hvd1Byby5wcm90b3R5cGUuZHJhd1ByZXZpZXc9ZnVuY3Rpb24oaCxkYXRhLHRvcCl7dG9wPXRvcHx8MDt2YXIgc2VsZj10aGlzO2lmKHRoaXMuY29udGVudFR5cGU9PSdhbGJ1bScpe0RpcmVjdG9ySlMuRm9ybWF0LnByZXZpZXcoe3dpZHRoOk51bWJlcih0aGlzLnJlYWxXKSxoZWlnaHQ6TnVtYmVyKGgpLHNxdWFyZToxfSk7RGlyZWN0b3JKUy5BbGJ1bS5nZXQodGhpcy5jb250ZW50SWQsZnVuY3Rpb24oZGF0YSl7dmFyIHc9c2VsZi5yZWFsVyxsZWZ0PTAsYXNwZWN0PWRhdGEucHJldmlldy53aWR0aC9kYXRhLnByZXZpZXcuaGVpZ2h0O2lmKGRhdGEucHJldmlldy53aWR0aDxzZWxmLnJlYWxXKXt3PWRhdGEucHJldmlldy53aWR0aDtsZWZ0PShzZWxmLnJlYWxXLXcpLzI7aD13L2FzcGVjdDt9O2lmKGRhdGEucHJldmlldy5oZWlnaHQ8aCl7dG9wKz0oaC1kYXRhLnByZXZpZXcuaGVpZ2h0KS8yO2g9ZGF0YS5wcmV2aWV3LmhlaWdodDt3PWFzcGVjdCpoO307dmFyIGltZz1zZWxmLmUoJ2ltZycse3dpZHRoOncrJ3B4JyxoZWlnaHQ6aCsncHgnLHBvc2l0aW9uOidhYnNvbHV0ZScsdG9wOnRvcCsncHgnLGxlZnQ6bGVmdCsncHgnLHpJbmRleDoxLG9wYWNpdHk6MCx3ZWJraXRUcmFuc2l0aW9uOidvcGFjaXR5IDc1MG1zIDUwMG1zJ30pO2ltZy5vbmxvYWQ9ZnVuY3Rpb24oKXtzZWxmLmUodGhpcyx7b3BhY2l0eToxfSk7fTtzZWxmLnRhcmdldC5hcHBlbmRDaGlsZChpbWcpO2ltZy5zcmM9ZGF0YS5wcmV2aWV3LnVybDt9LHt3aXRoX2NvbnRlbnQ6ZmFsc2V9KTt9ZWxzZXt2YXIgYz1kYXRhLmFsYnVtcy5sZW5ndGg7dmFyIGQ9NDtpZihjPDQpe2Q9Yzt9ZWxzZSBpZihjJTQ9PTEpe2Q9Mzt9O3ZhciBfdz1zZWxmLnJlYWxXO3ZhciBfaD1zZWxmLnJlYWxIO3ZhciByb3dzPU1hdGgubWluKE1hdGguY2VpbChjL2QpLE1hdGguZmxvb3IoX2gvKF93L2QpKSk7cm93cz1NYXRoLm1heChyb3dzLDEpO3RoaXMuZ2FsbGVyeUg9TWF0aC5jZWlsKGgvcm93cyk7dGhpcy5nYWxsZXJ5Vz1NYXRoLmNlaWwoX3cvZCk7RGlyZWN0b3JKUy5Gb3JtYXQucHJldmlldyh7d2lkdGg6c2VsZi5nYWxsZXJ5VyxoZWlnaHQ6c2VsZi5nYWxsZXJ5SCxzcXVhcmU6MX0pO0RpcmVjdG9ySlMuR2FsbGVyeS5nZXQodGhpcy5jb250ZW50SWQsZnVuY3Rpb24oZGF0YSl7dmFyIHdyYXA9c2VsZi5lKCdkaXYnLHtwb3NpdGlvbjonYWJzb2x1dGUnLHRvcDonMHB4JyxsZWZ0OicwcHgnLGhlaWdodDpoKydweCcsd2lkdGg6JzEwMCUnfSk7c2VsZi50YXJnZXQuYXBwZW5kQ2hpbGQod3JhcCk7dmFyIHJvdz0wLHBvcz0wO2ZvcihpIGluIGRhdGEuYWxidW1zKXt2YXIgYT1kYXRhLmFsYnVtc1tpXTtpZihhLnByZXZpZXcpe3ZhciBsPXBvcypzZWxmLmdhbGxlcnlXO2lmKGw+PXNlbGYucmVhbFcpe2w9MDtyb3crKztwb3M9MDt9O3ZhciBpbWc9c2VsZi5lKCdpbWcnLHtwb3NpdGlvbjonYWJzb2x1dGUnLHRvcDp0b3ArKHJvdypzZWxmLmdhbGxlcnlIKSsncHgnLGxlZnQ6bCsncHgnLHdpZHRoOnNlbGYuZ2FsbGVyeVcrJ3B4JyxoZWlnaHQ6c2VsZi5nYWxsZXJ5SCsncHgnLG9wYWNpdHk6MCx3ZWJraXRUcmFuc2l0aW9uOidvcGFjaXR5IDc1MG1zIDUwMG1zJ30pO2ltZy5vbmxvYWQ9ZnVuY3Rpb24oKXtzZWxmLmUodGhpcyx7b3BhY2l0eToxfSk7fTt3cmFwLmFwcGVuZENoaWxkKGltZyk7aW1nLnNyYz1hLnByZXZpZXcudXJsO3BvcysrO307fTt9LHt3aXRoX2NvbnRlbnQ6ZmFsc2UsbGltaXQ6ZCpyb3dzfSk7fX07c3dmb2JqZWN0U1NQPWZ1bmN0aW9uKCl7dmFyIEQ9XCJ1bmRlZmluZWRcIixyPVwib2JqZWN0XCIsUz1cIlNob2Nrd2F2ZSBGbGFzaFwiLFc9XCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaFwiLHE9XCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiLFI9XCJTV0ZPYmplY3RFeHBySW5zdFwiLHg9XCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixPPXdpbmRvdyxqPWRvY3VtZW50LHQ9bmF2aWdhdG9yLFQ9ZmFsc2UsVT1baF0sbz1bXSxOPVtdLEk9W10sbCxRLEUsQixKPWZhbHNlLGE9ZmFsc2UsbixHLG09dHJ1ZSxNPWZ1bmN0aW9uKCl7dmFyIGFhPXR5cGVvZiBqLmdldEVsZW1lbnRCeUlkIT1EJiZ0eXBlb2Ygai5nZXRFbGVtZW50c0J5VGFnTmFtZSE9RCYmdHlwZW9mIGouY3JlYXRlRWxlbWVudCE9RCxhaD10LnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLFk9dC5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpLGFlPVk/L3dpbi8udGVzdChZKTovd2luLy50ZXN0KGFoKSxhYz1ZPy9tYWMvLnRlc3QoWSk6L21hYy8udGVzdChhaCksYWY9L3dlYmtpdC8udGVzdChhaCk/cGFyc2VGbG9hdChhaC5yZXBsYWNlKC9eLip3ZWJraXRcXC8oXFxkKyhcXC5cXGQrKT8pLiokLyxcIiQxXCIpKTpmYWxzZSxYPSErXCJcXHYxXCIsYWc9WzAsMCwwXSxhYj1udWxsO2lmKHR5cGVvZiB0LnBsdWdpbnMhPUQmJnR5cGVvZiB0LnBsdWdpbnNbU109PXIpe2FiPXQucGx1Z2luc1tTXS5kZXNjcmlwdGlvbjtpZihhYiYmISh0eXBlb2YgdC5taW1lVHlwZXMhPUQmJnQubWltZVR5cGVzW3FdJiYhdC5taW1lVHlwZXNbcV0uZW5hYmxlZFBsdWdpbikpe1Q9dHJ1ZTtYPWZhbHNlO2FiPWFiLnJlcGxhY2UoL14uKlxccysoXFxTK1xccytcXFMrJCkvLFwiJDFcIik7YWdbMF09cGFyc2VJbnQoYWIucmVwbGFjZSgvXiguKilcXC4uKiQvLFwiJDFcIiksMTApO2FnWzFdPXBhcnNlSW50KGFiLnJlcGxhY2UoL14uKlxcLiguKilcXHMuKiQvLFwiJDFcIiksMTApO2FnWzJdPS9bYS16QS1aXS8udGVzdChhYik/cGFyc2VJbnQoYWIucmVwbGFjZSgvXi4qW2EtekEtWl0rKC4qKSQvLFwiJDFcIiksMTApOjB9fWVsc2V7aWYodHlwZW9mIE8uQWN0aXZlWE9iamVjdCE9RCl7dHJ5e3ZhciBhZD1uZXcgQWN0aXZlWE9iamVjdChXKTtpZihhZCl7YWI9YWQuR2V0VmFyaWFibGUoXCIkdmVyc2lvblwiKTtpZihhYil7WD10cnVlO2FiPWFiLnNwbGl0KFwiIFwiKVsxXS5zcGxpdChcIixcIik7YWc9W3BhcnNlSW50KGFiWzBdLDEwKSxwYXJzZUludChhYlsxXSwxMCkscGFyc2VJbnQoYWJbMl0sMTApXX19fWNhdGNoKFope319fXJldHVybnt3MzphYSxwdjphZyx3azphZixpZTpYLHdpbjphZSxtYWM6YWN9fSgpLGs9ZnVuY3Rpb24oKXtpZighTS53Myl7cmV0dXJufWlmKCh0eXBlb2Ygai5yZWFkeVN0YXRlIT1EJiZqLnJlYWR5U3RhdGU9PVwiY29tcGxldGVcIil8fCh0eXBlb2Ygai5yZWFkeVN0YXRlPT1EJiYoai5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF18fGouYm9keSkpKXtmKCl9aWYoIUope2lmKHR5cGVvZiBqLmFkZEV2ZW50TGlzdGVuZXIhPUQpe2ouYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixmLGZhbHNlKX1pZihNLmllJiZNLndpbil7ai5hdHRhY2hFdmVudCh4LGZ1bmN0aW9uKCl7aWYoai5yZWFkeVN0YXRlPT1cImNvbXBsZXRlXCIpe2ouZGV0YWNoRXZlbnQoeCxhcmd1bWVudHMuY2FsbGVlKTtmKCl9fSk7aWYoTz09dG9wKXsoZnVuY3Rpb24oKXtpZihKKXtyZXR1cm59dHJ5e2ouZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKFwibGVmdFwiKX1jYXRjaChYKXtzZXRUaW1lb3V0KGFyZ3VtZW50cy5jYWxsZWUsMCk7cmV0dXJufWYoKX0pKCl9fWlmKE0ud2speyhmdW5jdGlvbigpe2lmKEope3JldHVybn1pZighL2xvYWRlZHxjb21wbGV0ZS8udGVzdChqLnJlYWR5U3RhdGUpKXtzZXRUaW1lb3V0KGFyZ3VtZW50cy5jYWxsZWUsMCk7cmV0dXJufWYoKX0pKCl9cyhmKX19KCk7ZnVuY3Rpb24gZigpe2lmKEope3JldHVybn10cnl7dmFyIFo9ai5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0uYXBwZW5kQ2hpbGQoQyhcInNwYW5cIikpO1oucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChaKX1jYXRjaChhYSl7cmV0dXJufUo9dHJ1ZTt2YXIgWD1VLmxlbmd0aDtmb3IodmFyIFk9MDtZPFg7WSsrKXtVW1ldKCl9fWZ1bmN0aW9uIEsoWCl7aWYoSil7WCgpfWVsc2V7VVtVLmxlbmd0aF09WH19ZnVuY3Rpb24gcyhZKXtpZih0eXBlb2YgTy5hZGRFdmVudExpc3RlbmVyIT1EKXtPLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsWSxmYWxzZSl9ZWxzZXtpZih0eXBlb2Ygai5hZGRFdmVudExpc3RlbmVyIT1EKXtqLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsWSxmYWxzZSl9ZWxzZXtpZih0eXBlb2YgTy5hdHRhY2hFdmVudCE9RCl7aShPLFwib25sb2FkXCIsWSl9ZWxzZXtpZih0eXBlb2YgTy5vbmxvYWQ9PVwiZnVuY3Rpb25cIil7dmFyIFg9Ty5vbmxvYWQ7Ty5vbmxvYWQ9ZnVuY3Rpb24oKXtYKCk7WSgpfX1lbHNle08ub25sb2FkPVl9fX19fWZ1bmN0aW9uIGgoKXtpZihUKXtWKCl9ZWxzZXtIKCl9fWZ1bmN0aW9uIFYoKXt2YXIgWD1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXTt2YXIgYWE9QyhyKTthYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIscSk7dmFyIFo9WC5hcHBlbmRDaGlsZChhYSk7aWYoWil7dmFyIFk9MDsoZnVuY3Rpb24oKXtpZih0eXBlb2YgWi5HZXRWYXJpYWJsZSE9RCl7dmFyIGFiPVouR2V0VmFyaWFibGUoXCIkdmVyc2lvblwiKTtpZihhYil7YWI9YWIuc3BsaXQoXCIgXCIpWzFdLnNwbGl0KFwiLFwiKTtNLnB2PVtwYXJzZUludChhYlswXSwxMCkscGFyc2VJbnQoYWJbMV0sMTApLHBhcnNlSW50KGFiWzJdLDEwKV19fWVsc2V7aWYoWTwxMCl7WSsrO3NldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwxMCk7cmV0dXJufX1YLnJlbW92ZUNoaWxkKGFhKTtaPW51bGw7SCgpfSkoKX1lbHNle0goKX19ZnVuY3Rpb24gSCgpe3ZhciBhZz1vLmxlbmd0aDtpZihhZz4wKXtmb3IodmFyIGFmPTA7YWY8YWc7YWYrKyl7dmFyIFk9b1thZl0uaWQ7dmFyIGFiPW9bYWZdLmNhbGxiYWNrRm47dmFyIGFhPXtzdWNjZXNzOmZhbHNlLGlkOll9O2lmKE0ucHZbMF0+MCl7dmFyIGFlPWMoWSk7aWYoYWUpe2lmKEYob1thZl0uc3dmVmVyc2lvbikmJiEoTS53ayYmTS53azwzMTIpKXt3KFksdHJ1ZSk7aWYoYWIpe2FhLnN1Y2Nlc3M9dHJ1ZTthYS5yZWY9eihZKTthYihhYSl9fWVsc2V7aWYob1thZl0uZXhwcmVzc0luc3RhbGwmJkEoKSl7dmFyIGFpPXt9O2FpLmRhdGE9b1thZl0uZXhwcmVzc0luc3RhbGw7YWkud2lkdGg9YWUuZ2V0QXR0cmlidXRlKFwid2lkdGhcIil8fFwiMFwiO2FpLmhlaWdodD1hZS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIil8fFwiMFwiO2lmKGFlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpKXthaS5zdHlsZWNsYXNzPWFlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfWlmKGFlLmdldEF0dHJpYnV0ZShcImFsaWduXCIpKXthaS5hbGlnbj1hZS5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKX12YXIgYWg9e307dmFyIFg9YWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJhbVwiKTt2YXIgYWM9WC5sZW5ndGg7Zm9yKHZhciBhZD0wO2FkPGFjO2FkKyspe2lmKFhbYWRdLmdldEF0dHJpYnV0ZShcIm5hbWVcIikudG9Mb3dlckNhc2UoKSE9XCJtb3ZpZVwiKXthaFtYW2FkXS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXT1YW2FkXS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX19UChhaSxhaCxZLGFiKX1lbHNle3AoYWUpO2lmKGFiKXthYihhYSl9fX19fWVsc2V7dyhZLHRydWUpO2lmKGFiKXt2YXIgWj16KFkpO2lmKFomJnR5cGVvZiBaLlNldFZhcmlhYmxlIT1EKXthYS5zdWNjZXNzPXRydWU7YWEucmVmPVp9YWIoYWEpfX19fX1mdW5jdGlvbiB6KGFhKXt2YXIgWD1udWxsO3ZhciBZPWMoYWEpO2lmKFkmJlkubm9kZU5hbWU9PVwiT0JKRUNUXCIpe2lmKHR5cGVvZiBZLlNldFZhcmlhYmxlIT1EKXtYPVl9ZWxzZXt2YXIgWj1ZLmdldEVsZW1lbnRzQnlUYWdOYW1lKHIpWzBdO2lmKFope1g9Wn19fXJldHVybiBYfWZ1bmN0aW9uIEEoKXtyZXR1cm4hYSYmRihcIjYuMC42NVwiKSYmKE0ud2lufHxNLm1hYykmJiEoTS53ayYmTS53azwzMTIpfWZ1bmN0aW9uIFAoYWEsYWIsWCxaKXthPXRydWU7RT1afHxudWxsO0I9e3N1Y2Nlc3M6ZmFsc2UsaWQ6WH07dmFyIGFlPWMoWCk7aWYoYWUpe2lmKGFlLm5vZGVOYW1lPT1cIk9CSkVDVFwiKXtsPWcoYWUpO1E9bnVsbH1lbHNle2w9YWU7UT1YfWFhLmlkPVI7aWYodHlwZW9mIGFhLndpZHRoPT1EfHwoIS8lJC8udGVzdChhYS53aWR0aCkmJnBhcnNlSW50KGFhLndpZHRoLDEwKTwzMTApKXthYS53aWR0aD1cIjMxMFwifWlmKHR5cGVvZiBhYS5oZWlnaHQ9PUR8fCghLyUkLy50ZXN0KGFhLmhlaWdodCkmJnBhcnNlSW50KGFhLmhlaWdodCwxMCk8MTM3KSl7YWEuaGVpZ2h0PVwiMTM3XCJ9ai50aXRsZT1qLnRpdGxlLnNsaWNlKDAsNDcpK1wiIC0gRmxhc2ggUGxheWVyIEluc3RhbGxhdGlvblwiO3ZhciBhZD1NLmllJiZNLndpbj9cIkFjdGl2ZVhcIjpcIlBsdWdJblwiLGFjPVwiTU1yZWRpcmVjdFVSTD1cIitPLmxvY2F0aW9uLnRvU3RyaW5nKCkucmVwbGFjZSgvJi9nLFwiJTI2XCIpK1wiJk1NcGxheWVyVHlwZT1cIithZCtcIiZNTWRvY3RpdGxlPVwiK2oudGl0bGU7aWYodHlwZW9mIGFiLmZsYXNodmFycyE9RCl7YWIuZmxhc2h2YXJzKz1cIiZcIithY31lbHNle2FiLmZsYXNodmFycz1hY31pZihNLmllJiZNLndpbiYmYWUucmVhZHlTdGF0ZSE9NCl7dmFyIFk9QyhcImRpdlwiKTtYKz1cIlNXRk9iamVjdE5ld1wiO1kuc2V0QXR0cmlidXRlKFwiaWRcIixYKTthZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShZLGFlKTthZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOyhmdW5jdGlvbigpe2lmKGFlLnJlYWR5U3RhdGU9PTQpe2FlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYWUpfWVsc2V7c2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLDEwKX19KSgpfXUoYWEsYWIsWCl9fWZ1bmN0aW9uIHAoWSl7aWYoTS5pZSYmTS53aW4mJlkucmVhZHlTdGF0ZSE9NCl7dmFyIFg9QyhcImRpdlwiKTtZLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFgsWSk7WC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChnKFkpLFgpO1kuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjsoZnVuY3Rpb24oKXtpZihZLnJlYWR5U3RhdGU9PTQpe1kucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChZKX1lbHNle3NldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwxMCl9fSkoKX1lbHNle1kucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZyhZKSxZKX19ZnVuY3Rpb24gZyhhYil7dmFyIGFhPUMoXCJkaXZcIik7aWYoTS53aW4mJk0uaWUpe2FhLmlubmVySFRNTD1hYi5pbm5lckhUTUx9ZWxzZXt2YXIgWT1hYi5nZXRFbGVtZW50c0J5VGFnTmFtZShyKVswXTtpZihZKXt2YXIgYWQ9WS5jaGlsZE5vZGVzO2lmKGFkKXt2YXIgWD1hZC5sZW5ndGg7Zm9yKHZhciBaPTA7WjxYO1orKyl7aWYoIShhZFtaXS5ub2RlVHlwZT09MSYmYWRbWl0ubm9kZU5hbWU9PVwiUEFSQU1cIikmJiEoYWRbWl0ubm9kZVR5cGU9PTgpKXthYS5hcHBlbmRDaGlsZChhZFtaXS5jbG9uZU5vZGUodHJ1ZSkpfX19fX1yZXR1cm4gYWF9ZnVuY3Rpb24gdShhaSxhZyxZKXt2YXIgWCxhYT1jKFkpO2lmKE0ud2smJk0ud2s8MzEyKXtyZXR1cm4gWH1pZihhYSl7aWYodHlwZW9mIGFpLmlkPT1EKXthaS5pZD1ZfWlmKE0uaWUmJk0ud2luKXt2YXIgYWg9XCJcIjtmb3IodmFyIGFlIGluIGFpKXtpZihhaVthZV0hPU9iamVjdC5wcm90b3R5cGVbYWVdKXtpZihhZS50b0xvd2VyQ2FzZSgpPT1cImRhdGFcIil7YWcubW92aWU9YWlbYWVdfWVsc2V7aWYoYWUudG9Mb3dlckNhc2UoKT09XCJzdHlsZWNsYXNzXCIpe2FoKz0nIGNsYXNzPVwiJythaVthZV0rJ1wiJ31lbHNle2lmKGFlLnRvTG93ZXJDYXNlKCkhPVwiY2xhc3NpZFwiKXthaCs9XCIgXCIrYWUrJz1cIicrYWlbYWVdKydcIid9fX19fXZhciBhZj1cIlwiO2Zvcih2YXIgYWQgaW4gYWcpe2lmKGFnW2FkXSE9T2JqZWN0LnByb3RvdHlwZVthZF0pe2FmKz0nPHBhcmFtIG5hbWU9XCInK2FkKydcIiB2YWx1ZT1cIicrYWdbYWRdKydcIiAvPid9fWFhLm91dGVySFRNTD0nPG9iamVjdCBjbGFzc2lkPVwiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwXCInK2FoK1wiPlwiK2FmK1wiPC9vYmplY3Q+XCI7TltOLmxlbmd0aF09YWkuaWQ7WD1jKGFpLmlkKX1lbHNle3ZhciBaPUMocik7Wi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIscSk7Zm9yKHZhciBhYyBpbiBhaSl7aWYoYWlbYWNdIT1PYmplY3QucHJvdG90eXBlW2FjXSl7aWYoYWMudG9Mb3dlckNhc2UoKT09XCJzdHlsZWNsYXNzXCIpe1ouc2V0QXR0cmlidXRlKFwiY2xhc3NcIixhaVthY10pfWVsc2V7aWYoYWMudG9Mb3dlckNhc2UoKSE9XCJjbGFzc2lkXCIpe1ouc2V0QXR0cmlidXRlKGFjLGFpW2FjXSl9fX19Zm9yKHZhciBhYiBpbiBhZyl7aWYoYWdbYWJdIT1PYmplY3QucHJvdG90eXBlW2FiXSYmYWIudG9Mb3dlckNhc2UoKSE9XCJtb3ZpZVwiKXtlKFosYWIsYWdbYWJdKX19YWEucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoWixhYSk7WD1afX1yZXR1cm4gWH1mdW5jdGlvbiBlKFosWCxZKXt2YXIgYWE9QyhcInBhcmFtXCIpO2FhLnNldEF0dHJpYnV0ZShcIm5hbWVcIixYKTthYS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFkpO1ouYXBwZW5kQ2hpbGQoYWEpfWZ1bmN0aW9uIHkoWSl7dmFyIFg9YyhZKTtpZihYJiZYLm5vZGVOYW1lPT1cIk9CSkVDVFwiKXtpZihNLmllJiZNLndpbil7WC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOyhmdW5jdGlvbigpe2lmKFgucmVhZHlTdGF0ZT09NCl7YihZKX1lbHNle3NldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwxMCl9fSkoKX1lbHNle1gucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChYKX19fWZ1bmN0aW9uIGIoWil7dmFyIFk9YyhaKTtpZihZKXtmb3IodmFyIFggaW4gWSl7aWYodHlwZW9mIFlbWF09PVwiZnVuY3Rpb25cIil7WVtYXT1udWxsfX1ZLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoWSl9fWZ1bmN0aW9uIGMoWil7dmFyIFg9bnVsbDt0cnl7WD1qLmdldEVsZW1lbnRCeUlkKFopfWNhdGNoKFkpe31yZXR1cm4gWH1mdW5jdGlvbiBDKFgpe3JldHVybiBqLmNyZWF0ZUVsZW1lbnQoWCl9ZnVuY3Rpb24gaShaLFgsWSl7Wi5hdHRhY2hFdmVudChYLFkpO0lbSS5sZW5ndGhdPVtaLFgsWV19ZnVuY3Rpb24gRihaKXt2YXIgWT1NLnB2LFg9Wi5zcGxpdChcIi5cIik7WFswXT1wYXJzZUludChYWzBdLDEwKTtYWzFdPXBhcnNlSW50KFhbMV0sMTApfHwwO1hbMl09cGFyc2VJbnQoWFsyXSwxMCl8fDA7cmV0dXJuKFlbMF0+WFswXXx8KFlbMF09PVhbMF0mJllbMV0+WFsxXSl8fChZWzBdPT1YWzBdJiZZWzFdPT1YWzFdJiZZWzJdPj1YWzJdKSk/dHJ1ZTpmYWxzZX1mdW5jdGlvbiB2KGFjLFksYWQsYWIpe2lmKE0uaWUmJk0ubWFjKXtyZXR1cm59dmFyIGFhPWouZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO2lmKCFhYSl7cmV0dXJufXZhciBYPShhZCYmdHlwZW9mIGFkPT1cInN0cmluZ1wiKT9hZDpcInNjcmVlblwiO2lmKGFiKXtuPW51bGw7Rz1udWxsfWlmKCFufHxHIT1YKXt2YXIgWj1DKFwic3R5bGVcIik7Wi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0ZXh0L2Nzc1wiKTtaLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsWCk7bj1hYS5hcHBlbmRDaGlsZChaKTtpZihNLmllJiZNLndpbiYmdHlwZW9mIGouc3R5bGVTaGVldHMhPUQmJmouc3R5bGVTaGVldHMubGVuZ3RoPjApe249ai5zdHlsZVNoZWV0c1tqLnN0eWxlU2hlZXRzLmxlbmd0aC0xXX1HPVh9aWYoTS5pZSYmTS53aW4pe2lmKG4mJnR5cGVvZiBuLmFkZFJ1bGU9PXIpe24uYWRkUnVsZShhYyxZKX19ZWxzZXtpZihuJiZ0eXBlb2Ygai5jcmVhdGVUZXh0Tm9kZSE9RCl7bi5hcHBlbmRDaGlsZChqLmNyZWF0ZVRleHROb2RlKGFjK1wiIHtcIitZK1wifVwiKSl9fX1mdW5jdGlvbiB3KFosWCl7aWYoIW0pe3JldHVybn12YXIgWT1YP1widmlzaWJsZVwiOlwiaGlkZGVuXCI7aWYoSiYmYyhaKSl7YyhaKS5zdHlsZS52aXNpYmlsaXR5PVl9ZWxzZXt2KFwiI1wiK1osXCJ2aXNpYmlsaXR5OlwiK1kpfX1mdW5jdGlvbiBMKFkpe3ZhciBaPS9bXFxcXFxcXCI8PlxcLjtdLzt2YXIgWD1aLmV4ZWMoWSkhPW51bGw7cmV0dXJuIFgmJnR5cGVvZiBlbmNvZGVVUklDb21wb25lbnQhPUQ/ZW5jb2RlVVJJQ29tcG9uZW50KFkpOll9dmFyIGQ9ZnVuY3Rpb24oKXtpZihNLmllJiZNLndpbil7d2luZG93LmF0dGFjaEV2ZW50KFwib251bmxvYWRcIixmdW5jdGlvbigpe3ZhciBhYz1JLmxlbmd0aDtmb3IodmFyIGFiPTA7YWI8YWM7YWIrKyl7SVthYl1bMF0uZGV0YWNoRXZlbnQoSVthYl1bMV0sSVthYl1bMl0pfXZhciBaPU4ubGVuZ3RoO2Zvcih2YXIgYWE9MDthYTxaO2FhKyspe3koTlthYV0pfWZvcih2YXIgWSBpbiBNKXtNW1ldPW51bGx9TT1udWxsO2Zvcih2YXIgWCBpbiBzd2ZvYmplY3RTU1Ape3N3Zm9iamVjdFNTUFtYXT1udWxsfXN3Zm9iamVjdFNTUD1udWxsfSl9fSgpO3JldHVybntyZWdpc3Rlck9iamVjdDpmdW5jdGlvbihhYixYLGFhLFope2lmKE0udzMmJmFiJiZYKXt2YXIgWT17fTtZLmlkPWFiO1kuc3dmVmVyc2lvbj1YO1kuZXhwcmVzc0luc3RhbGw9YWE7WS5jYWxsYmFja0ZuPVo7b1tvLmxlbmd0aF09WTt3KGFiLGZhbHNlKX1lbHNle2lmKFope1ooe3N1Y2Nlc3M6ZmFsc2UsaWQ6YWJ9KX19fSxnZXRPYmplY3RCeUlkOmZ1bmN0aW9uKFgpe2lmKE0udzMpe3JldHVybiB6KFgpfX0sZW1iZWRTV0Y6ZnVuY3Rpb24oYWIsYWgsYWUsYWcsWSxhYSxaLGFkLGFmLGFjKXt2YXIgWD17c3VjY2VzczpmYWxzZSxpZDphaH07aWYoTS53MyYmIShNLndrJiZNLndrPDMxMikmJmFiJiZhaCYmYWUmJmFnJiZZKXt3KGFoLGZhbHNlKTtLKGZ1bmN0aW9uKCl7YWUrPVwiXCI7YWcrPVwiXCI7dmFyIGFqPXt9O2lmKGFmJiZ0eXBlb2YgYWY9PT1yKXtmb3IodmFyIGFsIGluIGFmKXthalthbF09YWZbYWxdfX1hai5kYXRhPWFiO2FqLndpZHRoPWFlO2FqLmhlaWdodD1hZzt2YXIgYW09e307aWYoYWQmJnR5cGVvZiBhZD09PXIpe2Zvcih2YXIgYWsgaW4gYWQpe2FtW2FrXT1hZFtha119fWlmKFomJnR5cGVvZiBaPT09cil7Zm9yKHZhciBhaSBpbiBaKXtpZih0eXBlb2YgYW0uZmxhc2h2YXJzIT1EKXthbS5mbGFzaHZhcnMrPVwiJlwiK2FpK1wiPVwiK1pbYWldfWVsc2V7YW0uZmxhc2h2YXJzPWFpK1wiPVwiK1pbYWldfX19aWYoRihZKSl7dmFyIGFuPXUoYWosYW0sYWgpO2lmKGFqLmlkPT1haCl7dyhhaCx0cnVlKX1YLnN1Y2Nlc3M9dHJ1ZTtYLnJlZj1hbn1lbHNle2lmKGFhJiZBKCkpe2FqLmRhdGE9YWE7UChhaixhbSxhaCxhYyk7cmV0dXJufWVsc2V7dyhhaCx0cnVlKX19aWYoYWMpe2FjKFgpfX0pfWVsc2V7aWYoYWMpe2FjKFgpfX19LHN3aXRjaE9mZkF1dG9IaWRlU2hvdzpmdW5jdGlvbigpe209ZmFsc2V9LHVhOk0sZ2V0Rmxhc2hQbGF5ZXJWZXJzaW9uOmZ1bmN0aW9uKCl7cmV0dXJue21ham9yOk0ucHZbMF0sbWlub3I6TS5wdlsxXSxyZWxlYXNlOk0ucHZbMl19fSxoYXNGbGFzaFBsYXllclZlcnNpb246RixjcmVhdGVTV0Y6ZnVuY3Rpb24oWixZLFgpe2lmKE0udzMpe3JldHVybiB1KFosWSxYKX1lbHNle3JldHVybiB1bmRlZmluZWR9fSxzaG93RXhwcmVzc0luc3RhbGw6ZnVuY3Rpb24oWixhYSxYLFkpe2lmKE0udzMmJkEoKSl7UChaLGFhLFgsWSl9fSxyZW1vdmVTV0Y6ZnVuY3Rpb24oWCl7aWYoTS53Myl7eShYKX19LGNyZWF0ZUNTUzpmdW5jdGlvbihhYSxaLFksWCl7aWYoTS53Myl7dihhYSxaLFksWCl9fSxhZGREb21Mb2FkRXZlbnQ6SyxhZGRMb2FkRXZlbnQ6cyxnZXRRdWVyeVBhcmFtVmFsdWU6ZnVuY3Rpb24oYWEpe3ZhciBaPWoubG9jYXRpb24uc2VhcmNofHxqLmxvY2F0aW9uLmhhc2g7aWYoWil7aWYoL1xcPy8udGVzdChaKSl7Wj1aLnNwbGl0KFwiP1wiKVsxXX1pZihhYT09bnVsbCl7cmV0dXJuIEwoWil9dmFyIFk9Wi5zcGxpdChcIiZcIik7Zm9yKHZhciBYPTA7WDxZLmxlbmd0aDtYKyspe2lmKFlbWF0uc3Vic3RyaW5nKDAsWVtYXS5pbmRleE9mKFwiPVwiKSk9PWFhKXtyZXR1cm4gTChZW1hdLnN1YnN0cmluZygoWVtYXS5pbmRleE9mKFwiPVwiKSsxKSkpfX19cmV0dXJuXCJcIn0sZXhwcmVzc0luc3RhbGxDYWxsYmFjazpmdW5jdGlvbigpe2lmKGEpe3ZhciBYPWMoUik7aWYoWCYmbCl7WC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChsLFgpO2lmKFEpe3coUSx0cnVlKTtpZihNLmllJiZNLndpbil7bC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIn19aWYoRSl7RShCKX19YT1mYWxzZX19fX0oKTt9OyIsIi8qZ2xvYmFsIHJlcXVpcmU6IGZhbHNlICovXG4vLyByZXF1aXJlLmNvbmZpZyh7XG4vLyAgIHBhdGhzOiB7XG4vLyAgICAgcGRmQ29tcGF0aWJpbGl0eTogICAgICdsaWIvcGRmL2NvbXBhdGliaWxpdHknLFxuLy8gICAgIHBkZmwxMG46ICAgICAgICAgICAgICAnbGliL3BkZi9sMTBuJyxcbi8vICAgICBwZGY6ICAgICAgICAgICAgICAgICAgJ2xpYi9wZGYvcGRmJyxcbi8vICAgICBwZGZWaWV3ZXI6ICAgICAgICAgICAgJ2xpYi9wZGYvdmlld2VyJyxcbi8vICAgICBzc3A6ICAgICAgICAgICAgICAgICAgJ2xpYi9zc3AvZW1iZWQnXG4vLyAgIH0sXG4vLyAgIHNoaW06IHtcblxuLy8gICAgIC8vIHBkZkNvbXBhdGliaWxpdHk6IFsnanF1ZXJ5J10sXG4vLyAgICAgcGRmbDEwbjogWydwZGZDb21wYXRpYmlsaXR5J10sXG4vLyAgICAgcGRmOiBbJ3BkZmwxMG4nXSxcbi8vICAgICBwZGZWaWV3ZXI6IFsncGRmJ11cbi8vICAgfVxuLy8gfSk7XG5cbndpbmRvdy5uYW1lID0gXCJOR19ERUZFUl9CT09UU1RSQVAhXCI7XG5cbihmdW5jdGlvbiAoXG4gICAgJCwgXG4gICAgXyxcbiAgICBhbmd1bGFyLCBcbiAgICBhcHAsIFxuICAgIHJvdXRlcyxcbiAgICB0cmFuc2xhdGVcbikge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciAkaHRtbCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdKTtcblxuICAgIGFuZ3VsYXIuZWxlbWVudCgpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICBhbmd1bGFyLnJlc3VtZUJvb3RzdHJhcChbYXBwLm5hbWVdKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyBUT0RPOiBtb3ZlIHRvIGEgZGlyZWN0aXZlXG4gICAgICAgIHZhciBuYXZMaW5rcztcblxuICAgICAgICAkKCcjY3JlYXRpb25zLXNsaWRlci5jYXJvdXNlbCcpLmNhcm91c2VsKCk7XG5cbiAgICAgICAgbmF2TGlua3MgPSBmdW5jdGlvbihjbGlja2VkKSB7XG4gICAgICAgICAgICB2YXIgaXRlbUlkO1xuICAgICAgICAgICAgaXRlbUlkID0gY2xpY2tlZC5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICByZXR1cm4gJCgnYm9keScpLnN0b3AoKS5zY3JvbGxUbyhpdGVtSWQsIDUwMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJCgnYS5zY3JvbGx0bycpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG5hdl9jbGlja2VkO1xuICAgICAgICAgICAgbmF2X2NsaWNrZWQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgbmF2TGlua3MobmF2X2NsaWNrZWQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCdbZGF0YS1zcHk9XCJzY3JvbGxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAkc3B5ID0gJCh0aGlzKS5zY3JvbGxzcHkoJ3JlZnJlc2gnKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KFxuICAgIHJlcXVpcmUoJ2pxdWVyeScpLFxuICAgIHJlcXVpcmUoJ2xvZGFzaCcpLFxuICAgIHJlcXVpcmUoJ2FuZ3VsYXInKSxcbiAgICByZXF1aXJlKCcuL2FwcCcpXG4pKTtcbiIsIi8qZ2xvYmFsIGRlZmluZTogZmFsc2UgKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgbW9kdWxlLmV4cG9ydHMgPSBbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cbiAgICAkcm91dGVQcm92aWRlci5vdGhlcndpc2Uoe3JlZGlyZWN0VG86ICcvJ30pO1xuXG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuXG4gIH1dO1xuXG59KFxuKSk7IiwiLypnbG9iYWwgZGVmaW5lOiBmYWxzZSAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBzZXQgdXAgZ2VuZXJpYyBteUFwcC5zZXJ2aWNlcyBuYW1lc3BhY2VcbiAgICAgKi9cbiAgICB2YXIgc2VydmljZXNNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuc2VydmljZXMnLCBbLyonbXlBcHAuY29uZmlnJywqLyAnbmdSZXNvdXJjZSddKTtcblxuICAgIHNlcnZpY2VzTW9kdWxlLnZhbHVlKCd2ZXJzaW9uJywgJzAuMC4wJyk7XG5cbiAgICBzZXJ2aWNlc01vZHVsZS5mYWN0b3J5KCdGZWVkU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuICAgICAgICB2YXIgc2VydmljZSA9IHt9O1xuXG4gICAgICAgIHNlcnZpY2UucGFyc2VGZWVkID0gZnVuY3Rpb24gcGFyc2VGZWVkKHVybCwgY291bnQpIHtcbiAgICAgICAgICAgIHZhciBudW1iZXJPZkZlZWRzID0gY291bnQgfHwgNjtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5qc29ucCgnLy9hamF4Lmdvb2dsZWFwaXMuY29tL2FqYXgvc2VydmljZXMvZmVlZC9sb2FkP3Y9MS4wJm51bT0nICsgXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZGZWVkcyArICcmY2FsbGJhY2s9SlNPTl9DQUxMQkFDSyZxPScgKyBlbmNvZGVVUklDb21wb25lbnQodXJsKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlcnZpY2U7XG4gICAgfV0pO1xuXG4gICAgLy8gc2VydmljZXNNb2R1bGUuZmFjdG9yeSgnTmlrZVBsdXNTZXJ2aWNlJywgWyckaHR0cCcsICckbG9nJywgJ0NPTkZJRycsIGZ1bmN0aW9uKCRodHRwLCAkbG9nLCBDT05GSUcpIHtcbiAgICAvLyAgICAgdmFyIHNlcnZpY2UgPSB7fTtcblxuICAgIC8vICAgICBzZXJ2aWNlLmxpc3RBY3Rpdml0aWVzID0gZnVuY3Rpb24gbGlzdEFjdGl2aXRpZXMoKSB7XG4gICAgLy8gICAgICAgICB2YXIgbmlrZUFQSSA9IENPTkZJRy5OSUtFX0FQSTtcbiAgICAvLyAgICAgICAgIHZhciBhY3Rpdml0aWVzVVJMID0gbmlrZUFQSS5FTkRQT0lOVF9CQVNFX1VSTCArICcvYWN0aXZpdGllcz9hY2Nlc3NfdG9rZW49JyArIG5pa2VBUEkuQUNDRVNTX1RPS0VOO1xuXG4gICAgLy8gICAgIHJldHVybiAkaHR0cC5nZXQoYWN0aXZpdGllc1VSTClcbiAgICAvLyAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgIC8vICAgICAgICAgICAgICRsb2cubG9nKCduaWtlIHBsdXMgYWN0aXZpdGllczogJywgcmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKTtcblxuICAgIC8vICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAvLyAgICAgICAgIH0pXG4gICAgLy8gICAgICAgICAuZXJyb3IoZnVuY3Rpb24ocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgLy8gICAgICAgICAgICAgJGxvZy5sb2coJ2Vycm9yIHJldHJpZXZpbmcgbmlrZSBwbHVzIGFjdGl2aXRpZXMnLCByZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpO1xuXG4gICAgLy8gICAgICAgICB9KTtcbiAgICAvLyAgICAgfTtcblxuICAgIC8vICAgICByZXR1cm4gc2VydmljZTtcbiAgICAvLyB9XSk7XG5cbiAgICByZXR1cm4gc2VydmljZXNNb2R1bGU7XG5cbn0pKFxuICByZXF1aXJlKCdhbmd1bGFyJylcbik7IiwiLypnbG9iYWwgZGVmaW5lOiBmYWxzZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBbJyR0cmFuc2xhdGVQcm92aWRlcicsIGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICAvLyBUT0RPOiBsb2FkIHRoZXNlIHZpYSBhIHNlcGFyYXRlIGZpbGUsIGRvbid0IHJlYWxseSBuZWVkIHRvIGZvciBub3dcblxuICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuICAgICAgXG4gICAgfSk7XG4gICBcbiAgICAvLyAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdkZScsIHtcbiAgICAvLyAgICdUSVRMRSc6ICdIYWxsbycsXG4gICAgLy8gICAnRk9PJzogJ0RpZXMgaXN0IGVpbiBQYXJhZ3JhcGgnXG4gICAgLy8gfSk7XG4gICBcbiAgICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJ2VuJyk7XG4gIH1dO1xuXG59KFxuKSk7XG4iXX0=
